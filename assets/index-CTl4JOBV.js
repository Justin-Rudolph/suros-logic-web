var Zy=t=>{throw TypeError(t)};var Mh=(t,e,n)=>e.has(t)||Zy("Cannot "+n);var F=(t,e,n)=>(Mh(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?Zy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>(Mh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yt=(t,e,n)=>(Mh(t,e,"access private method"),n);var Tc=(t,e,n,r)=>({set _(s){le(t,e,s,n)},get _(){return F(t,e,r)}});function fC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Nw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ow={exports:{}},Sd={},Dw={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),pC=Symbol.for("react.portal"),mC=Symbol.for("react.fragment"),gC=Symbol.for("react.strict_mode"),yC=Symbol.for("react.profiler"),vC=Symbol.for("react.provider"),_C=Symbol.for("react.context"),wC=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),TC=Symbol.for("react.memo"),xC=Symbol.for("react.lazy"),ev=Symbol.iterator;function SC(t){return t===null||typeof t!="object"?null:(t=ev&&t[ev]||t["@@iterator"],typeof t=="function"?t:null)}var Lw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mw=Object.assign,Vw={};function Go(t,e,n){this.props=t,this.context=e,this.refs=Vw,this.updater=n||Lw}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jw(){}jw.prototype=Go.prototype;function dm(t,e,n){this.props=t,this.context=e,this.refs=Vw,this.updater=n||Lw}var hm=dm.prototype=new jw;hm.constructor=dm;Mw(hm,Go.prototype);hm.isPureReactComponent=!0;var tv=Array.isArray,Fw=Object.prototype.hasOwnProperty,fm={current:null},Uw={key:!0,ref:!0,__self:!0,__source:!0};function zw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Fw.call(e,r)&&!Uw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ql,type:t,key:i,ref:o,props:s,_owner:fm.current}}function IC(t,e){return{$$typeof:ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function CC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nv=/\/+/g;function Vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CC(""+t.key):e.toString(36)}function tu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ql:case pC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Vh(o,0):r,tv(s)?(n="",t!=null&&(n=t.replace(nv,"$&/")+"/"),tu(s,e,n,"",function(u){return u})):s!=null&&(pm(s)&&(s=IC(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",tv(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Vh(i,a);o+=tu(i,e,n,c,s)}else if(c=SC(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Vh(i,a++),o+=tu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xc(t,e,n){if(t==null)return t;var r=[],s=0;return tu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function bC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},nu={transition:null},AC={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:nu,ReactCurrentOwner:fm};function $w(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:xc,forEach:function(t,e,n){xc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xc(t,function(){e++}),e},toArray:function(t){return xc(t,function(e){return e})||[]},only:function(t){if(!pm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Go;fe.Fragment=mC;fe.Profiler=yC;fe.PureComponent=dm;fe.StrictMode=gC;fe.Suspense=EC;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;fe.act=$w;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Mw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=fm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Fw.call(e,c)&&!Uw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ql,type:t.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:_C,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vC,_context:t},t.Consumer=t};fe.createElement=zw;fe.createFactory=function(t){var e=zw.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:wC,render:t}};fe.isValidElement=pm;fe.lazy=function(t){return{$$typeof:xC,_payload:{_status:-1,_result:t},_init:bC}};fe.memo=function(t,e){return{$$typeof:TC,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=nu.transition;nu.transition={};try{t()}finally{nu.transition=e}};fe.unstable_act=$w;fe.useCallback=function(t,e){return Nt.current.useCallback(t,e)};fe.useContext=function(t){return Nt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Nt.current.useEffect(t,e)};fe.useId=function(){return Nt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Nt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};fe.useRef=function(t){return Nt.current.useRef(t)};fe.useState=function(t){return Nt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Nt.current.useTransition()};fe.version="18.3.1";Dw.exports=fe;var b=Dw.exports;const W=Nw(b),Bw=fC({__proto__:null,default:W},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC=b,RC=Symbol.for("react.element"),kC=Symbol.for("react.fragment"),NC=Object.prototype.hasOwnProperty,OC=PC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DC={key:!0,ref:!0,__self:!0,__source:!0};function Hw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NC.call(e,r)&&!DC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:RC,type:t,key:i,ref:o,props:s,_owner:OC.current}}Sd.Fragment=kC;Sd.jsx=Hw;Sd.jsxs=Hw;Ow.exports=Sd;var g=Ow.exports,Ww={exports:{}},en={},qw={exports:{}},Kw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,z){var K=j.length;j.push(z);e:for(;0<K;){var re=K-1>>>1,X=j[re];if(0<s(X,z))j[re]=z,j[K]=X,K=re;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],K=j.pop();if(K!==z){j[0]=K;e:for(var re=0,X=j.length,de=X>>>1;re<de;){var ce=2*(re+1)-1,Ne=j[ce],qe=ce+1,ye=j[qe];if(0>s(Ne,K))qe<X&&0>s(ye,Ne)?(j[re]=ye,j[qe]=K,re=qe):(j[re]=Ne,j[ce]=K,re=ce);else if(qe<X&&0>s(ye,K))j[re]=ye,j[qe]=K,re=qe;else break e}}return z}function s(j,z){var K=j.sortIndex-z.sortIndex;return K!==0?K:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,m=3,p=!1,S=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=j)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function N(j){if(E=!1,T(j),!S)if(n(c)!==null)S=!0,ne(D);else{var z=n(u);z!==null&&oe(N,z.startTime-j)}}function D(j,z){S=!1,E&&(E=!1,v(x),x=-1),p=!0;var K=m;try{for(T(z),f=n(c);f!==null&&(!(f.expirationTime>z)||j&&!k());){var re=f.callback;if(typeof re=="function"){f.callback=null,m=f.priorityLevel;var X=re(f.expirationTime<=z);z=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),T(z)}else r(c);f=n(c)}if(f!==null)var de=!0;else{var ce=n(u);ce!==null&&oe(N,ce.startTime-z),de=!1}return de}finally{f=null,m=K,p=!1}}var M=!1,I=null,x=-1,A=5,P=-1;function k(){return!(t.unstable_now()-P<A)}function O(){if(I!==null){var j=t.unstable_now();P=j;var z=!0;try{z=I(!0,j)}finally{z?R():(M=!1,I=null)}}else M=!1}var R;if(typeof _=="function")R=function(){_(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ie=H.port2;H.port1.onmessage=O,R=function(){ie.postMessage(null)}}else R=function(){w(O,0)};function ne(j){I=j,M||(M=!0,R())}function oe(j,z){x=w(function(){j(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,ne(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var K=m;m=z;try{return j()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=m;m=j;try{return z()}finally{m=K}},t.unstable_scheduleCallback=function(j,z,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=K+X,j={id:d++,callback:z,priorityLevel:j,startTime:K,expirationTime:X,sortIndex:-1},K>re?(j.sortIndex=K,e(u,j),n(c)===null&&j===n(u)&&(E?(v(x),x=-1):E=!0,oe(N,K-re))):(j.sortIndex=X,e(c,j),S||p||(S=!0,ne(D))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var z=m;return function(){var K=m;m=z;try{return j.apply(this,arguments)}finally{m=K}}}})(Kw);qw.exports=Kw;var LC=qw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=b,Zt=LC;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gw=new Set,cl={};function Di(t,e){ko(t,e),ko(t+"Capture",e)}function ko(t,e){for(cl[t]=e,t=0;t<e.length;t++)Gw.add(e[t])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=Object.prototype.hasOwnProperty,VC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rv={},sv={};function jC(t){return Nf.call(sv,t)?!0:Nf.call(rv,t)?!1:VC.test(t)?sv[t]=!0:(rv[t]=!0,!1)}function FC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UC(t,e,n,r){if(e===null||typeof e>"u"||FC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var mm=/[\-:]([a-z])/g;function gm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mm,gm);pt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mm,gm);pt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mm,gm);pt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function ym(t,e,n,r){var s=pt.hasOwnProperty(e)?pt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UC(e,n,s,r)&&(n=null),r||s===null?jC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mr=MC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sc=Symbol.for("react.element"),Yi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),Qw=Symbol.for("react.provider"),Yw=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),Lf=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),Xw=Symbol.for("react.offscreen"),iv=Symbol.iterator;function Ca(t){return t===null||typeof t!="object"?null:(t=iv&&t[iv]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,jh;function Ma(t){if(jh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jh=e&&e[1]||""}return`
`+jh+t}var Fh=!1;function Uh(t,e){if(!t||Fh)return"";Fh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Fh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ma(t):""}function zC(t){switch(t.tag){case 5:return Ma(t.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return t=Uh(t.type,!1),t;case 11:return t=Uh(t.type.render,!1),t;case 1:return t=Uh(t.type,!0),t;default:return""}}function Mf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xi:return"Fragment";case Yi:return"Portal";case Of:return"Profiler";case vm:return"StrictMode";case Df:return"Suspense";case Lf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yw:return(t.displayName||"Context")+".Consumer";case Qw:return(t._context.displayName||"Context")+".Provider";case _m:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wm:return e=t.displayName||null,e!==null?e:Mf(t.type)||"Memo";case ts:e=t._payload,t=t._init;try{return Mf(t(e))}catch{}}return null}function $C(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mf(e);case 8:return e===vm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BC(t){var e=Jw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ic(t){t._valueTracker||(t._valueTracker=BC(t))}function Zw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vf(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ov(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Os(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eE(t,e){e=e.checked,e!=null&&ym(t,"checked",e,!1)}function jf(t,e){eE(t,e);var n=Os(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ff(t,e.type,Os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function av(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ff(t,e,n){(e!=="number"||Cu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function co(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Os(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Uf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Va(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Os(n)}}function tE(t,e){var n=Os(e.value),r=Os(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cc,rE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HC=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(t){HC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qa[e]=qa[t]})});function sE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qa.hasOwnProperty(t)&&qa[t]?(""+e).trim():e+"px"}function iE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var WC=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $f(t,e){if(e){if(WC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=null;function Em(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,uo=null,ho=null;function uv(t){if(t=Ql(t)){if(typeof Wf!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Pd(e),Wf(t.stateNode,t.type,e))}}function oE(t){uo?ho?ho.push(t):ho=[t]:uo=t}function aE(){if(uo){var t=uo,e=ho;if(ho=uo=null,uv(t),e)for(t=0;t<e.length;t++)uv(e[t])}}function lE(t,e){return t(e)}function cE(){}var zh=!1;function uE(t,e,n){if(zh)return t(e,n);zh=!0;try{return lE(t,e,n)}finally{zh=!1,(uo!==null||ho!==null)&&(cE(),aE())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=Pd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var qf=!1;if(Cr)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){qf=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{qf=!1}function qC(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ka=!1,bu=null,Au=!1,Kf=null,KC={onError:function(t){Ka=!0,bu=t}};function GC(t,e,n,r,s,i,o,a,c){Ka=!1,bu=null,qC.apply(KC,arguments)}function QC(t,e,n,r,s,i,o,a,c){if(GC.apply(this,arguments),Ka){if(Ka){var u=bu;Ka=!1,bu=null}else throw Error(B(198));Au||(Au=!0,Kf=u)}}function Li(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dv(t){if(Li(t)!==t)throw Error(B(188))}function YC(t){var e=t.alternate;if(!e){if(e=Li(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return dv(s),t;if(i===r)return dv(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function hE(t){return t=YC(t),t!==null?fE(t):null}function fE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fE(t);if(e!==null)return e;t=t.sibling}return null}var pE=Zt.unstable_scheduleCallback,hv=Zt.unstable_cancelCallback,XC=Zt.unstable_shouldYield,JC=Zt.unstable_requestPaint,He=Zt.unstable_now,ZC=Zt.unstable_getCurrentPriorityLevel,Tm=Zt.unstable_ImmediatePriority,mE=Zt.unstable_UserBlockingPriority,Pu=Zt.unstable_NormalPriority,eb=Zt.unstable_LowPriority,gE=Zt.unstable_IdlePriority,Id=null,Yn=null;function tb(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Id,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:sb,nb=Math.log,rb=Math.LN2;function sb(t){return t>>>=0,t===0?32:31-(nb(t)/rb|0)|0}var bc=64,Ac=4194304;function ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ja(a):(i&=o,i!==0&&(r=ja(i)))}else o=n&~s,o!==0?r=ja(o):i!==0&&(r=ja(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),s=1<<n,r|=t[n],e&=~s;return r}function ib(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ob(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-bn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=ib(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Gf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yE(){var t=bc;return bc<<=1,!(bc&4194240)&&(bc=64),t}function $h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function ab(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-bn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function xm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function vE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _E,Sm,wE,EE,TE,Qf=!1,Pc=[],vs=null,_s=null,ws=null,hl=new Map,fl=new Map,rs=[],lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fv(t,e){switch(t){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(e.pointerId)}}function Aa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ql(e),e!==null&&Sm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function cb(t,e,n,r,s){switch(e){case"focusin":return vs=Aa(vs,t,e,n,r,s),!0;case"dragenter":return _s=Aa(_s,t,e,n,r,s),!0;case"mouseover":return ws=Aa(ws,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return hl.set(i,Aa(hl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,fl.set(i,Aa(fl.get(i)||null,t,e,n,r,s)),!0}return!1}function xE(t){var e=ui(t.target);if(e!==null){var n=Li(e);if(n!==null){if(e=n.tag,e===13){if(e=dE(n),e!==null){t.blockedOn=e,TE(t.priority,function(){wE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hf=r,n.target.dispatchEvent(r),Hf=null}else return e=Ql(n),e!==null&&Sm(e),t.blockedOn=n,!1;e.shift()}return!0}function pv(t,e,n){ru(t)&&n.delete(e)}function ub(){Qf=!1,vs!==null&&ru(vs)&&(vs=null),_s!==null&&ru(_s)&&(_s=null),ws!==null&&ru(ws)&&(ws=null),hl.forEach(pv),fl.forEach(pv)}function Pa(t,e){t.blockedOn===e&&(t.blockedOn=null,Qf||(Qf=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,ub)))}function pl(t){function e(s){return Pa(s,t)}if(0<Pc.length){Pa(Pc[0],t);for(var n=1;n<Pc.length;n++){var r=Pc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vs!==null&&Pa(vs,t),_s!==null&&Pa(_s,t),ws!==null&&Pa(ws,t),hl.forEach(e),fl.forEach(e),n=0;n<rs.length;n++)r=rs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rs.length&&(n=rs[0],n.blockedOn===null);)xE(n),n.blockedOn===null&&rs.shift()}var fo=Mr.ReactCurrentBatchConfig,ku=!0;function db(t,e,n,r){var s=xe,i=fo.transition;fo.transition=null;try{xe=1,Im(t,e,n,r)}finally{xe=s,fo.transition=i}}function hb(t,e,n,r){var s=xe,i=fo.transition;fo.transition=null;try{xe=4,Im(t,e,n,r)}finally{xe=s,fo.transition=i}}function Im(t,e,n,r){if(ku){var s=Yf(t,e,n,r);if(s===null)Jh(t,e,r,Nu,n),fv(t,r);else if(cb(s,t,e,n,r))r.stopPropagation();else if(fv(t,r),e&4&&-1<lb.indexOf(t)){for(;s!==null;){var i=Ql(s);if(i!==null&&_E(i),i=Yf(t,e,n,r),i===null&&Jh(t,e,r,Nu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Jh(t,e,r,null,n)}}var Nu=null;function Yf(t,e,n,r){if(Nu=null,t=Em(r),t=ui(t),t!==null)if(e=Li(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nu=t,null}function SE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZC()){case Tm:return 1;case mE:return 4;case Pu:case eb:return 16;case gE:return 536870912;default:return 16}default:return 16}}var ps=null,Cm=null,su=null;function IE(){if(su)return su;var t,e=Cm,n=e.length,r,s="value"in ps?ps.value:ps.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return su=s.slice(t,1<r?1-r:void 0)}function iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rc(){return!0}function mv(){return!1}function tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rc:mv,this.isPropagationStopped=mv,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),e}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bm=tn(Qo),Gl=je({},Qo,{view:0,detail:0}),fb=tn(Gl),Bh,Hh,Ra,Cd=je({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Am,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ra&&(Ra&&t.type==="mousemove"?(Bh=t.screenX-Ra.screenX,Hh=t.screenY-Ra.screenY):Hh=Bh=0,Ra=t),Bh)},movementY:function(t){return"movementY"in t?t.movementY:Hh}}),gv=tn(Cd),pb=je({},Cd,{dataTransfer:0}),mb=tn(pb),gb=je({},Gl,{relatedTarget:0}),Wh=tn(gb),yb=je({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),vb=tn(yb),_b=je({},Qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wb=tn(_b),Eb=je({},Qo,{data:0}),yv=tn(Eb),Tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ib(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Sb[t])?!!e[t]:!1}function Am(){return Ib}var Cb=je({},Gl,{key:function(t){if(t.key){var e=Tb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Am,charCode:function(t){return t.type==="keypress"?iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bb=tn(Cb),Ab=je({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vv=tn(Ab),Pb=je({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Am}),Rb=tn(Pb),kb=je({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nb=tn(kb),Ob=je({},Cd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Db=tn(Ob),Lb=[9,13,27,32],Pm=Cr&&"CompositionEvent"in window,Ga=null;Cr&&"documentMode"in document&&(Ga=document.documentMode);var Mb=Cr&&"TextEvent"in window&&!Ga,CE=Cr&&(!Pm||Ga&&8<Ga&&11>=Ga),_v=" ",wv=!1;function bE(t,e){switch(t){case"keyup":return Lb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ji=!1;function Vb(t,e){switch(t){case"compositionend":return AE(e);case"keypress":return e.which!==32?null:(wv=!0,_v);case"textInput":return t=e.data,t===_v&&wv?null:t;default:return null}}function jb(t,e){if(Ji)return t==="compositionend"||!Pm&&bE(t,e)?(t=IE(),su=Cm=ps=null,Ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CE&&e.locale!=="ko"?null:e.data;default:return null}}var Fb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Fb[t.type]:e==="textarea"}function PE(t,e,n,r){oE(r),e=Ou(e,"onChange"),0<e.length&&(n=new bm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qa=null,ml=null;function Ub(t){UE(t,0)}function bd(t){var e=to(t);if(Zw(e))return t}function zb(t,e){if(t==="change")return e}var RE=!1;if(Cr){var qh;if(Cr){var Kh="oninput"in document;if(!Kh){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),Kh=typeof Tv.oninput=="function"}qh=Kh}else qh=!1;RE=qh&&(!document.documentMode||9<document.documentMode)}function xv(){Qa&&(Qa.detachEvent("onpropertychange",kE),ml=Qa=null)}function kE(t){if(t.propertyName==="value"&&bd(ml)){var e=[];PE(e,ml,t,Em(t)),uE(Ub,e)}}function $b(t,e,n){t==="focusin"?(xv(),Qa=e,ml=n,Qa.attachEvent("onpropertychange",kE)):t==="focusout"&&xv()}function Bb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bd(ml)}function Hb(t,e){if(t==="click")return bd(e)}function Wb(t,e){if(t==="input"||t==="change")return bd(e)}function qb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:qb;function gl(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nf.call(e,s)||!Pn(t[s],e[s]))return!1}return!0}function Sv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iv(t,e){var n=Sv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sv(n)}}function NE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?NE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OE(){for(var t=window,e=Cu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cu(t.document)}return e}function Rm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kb(t){var e=OE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&NE(n.ownerDocument.documentElement,n)){if(r!==null&&Rm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Iv(n,i);var o=Iv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gb=Cr&&"documentMode"in document&&11>=document.documentMode,Zi=null,Xf=null,Ya=null,Jf=!1;function Cv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jf||Zi==null||Zi!==Cu(r)||(r=Zi,"selectionStart"in r&&Rm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ya&&gl(Ya,r)||(Ya=r,r=Ou(Xf,"onSelect"),0<r.length&&(e=new bm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zi)))}function kc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var eo={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Gh={},DE={};Cr&&(DE=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Ad(t){if(Gh[t])return Gh[t];if(!eo[t])return t;var e=eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DE)return Gh[t]=e[n];return t}var LE=Ad("animationend"),ME=Ad("animationiteration"),VE=Ad("animationstart"),jE=Ad("transitionend"),FE=new Map,bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){FE.set(t,e),Di(e,[t])}for(var Qh=0;Qh<bv.length;Qh++){var Yh=bv[Qh],Qb=Yh.toLowerCase(),Yb=Yh[0].toUpperCase()+Yh.slice(1);Ws(Qb,"on"+Yb)}Ws(LE,"onAnimationEnd");Ws(ME,"onAnimationIteration");Ws(VE,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(jE,"onTransitionEnd");ko("onMouseEnter",["mouseout","mouseover"]);ko("onMouseLeave",["mouseout","mouseover"]);ko("onPointerEnter",["pointerout","pointerover"]);ko("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function Av(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QC(r,e,void 0,t),t.currentTarget=null}function UE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Av(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Av(s,a,u),i=c}}}if(Au)throw t=Kf,Au=!1,Kf=null,t}function Pe(t,e){var n=e[rp];n===void 0&&(n=e[rp]=new Set);var r=t+"__bubble";n.has(r)||(zE(e,t,2,!1),n.add(r))}function Xh(t,e,n){var r=0;e&&(r|=4),zE(n,t,r,e)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[Nc]){t[Nc]=!0,Gw.forEach(function(n){n!=="selectionchange"&&(Xb.has(n)||Xh(n,!1,t),Xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nc]||(e[Nc]=!0,Xh("selectionchange",!1,e))}}function zE(t,e,n,r){switch(SE(e)){case 1:var s=db;break;case 4:s=hb;break;default:s=Im}n=s.bind(null,e,n,t),s=void 0,!qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Jh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ui(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}uE(function(){var u=i,d=Em(n),f=[];e:{var m=FE.get(t);if(m!==void 0){var p=bm,S=t;switch(t){case"keypress":if(iu(n)===0)break e;case"keydown":case"keyup":p=bb;break;case"focusin":S="focus",p=Wh;break;case"focusout":S="blur",p=Wh;break;case"beforeblur":case"afterblur":p=Wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Rb;break;case LE:case ME:case VE:p=vb;break;case jE:p=Nb;break;case"scroll":p=fb;break;case"wheel":p=Db;break;case"copy":case"cut":case"paste":p=wb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vv}var E=(e&4)!==0,w=!E&&t==="scroll",v=E?m!==null?m+"Capture":null:m;E=[];for(var _=u,T;_!==null;){T=_;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,v!==null&&(N=dl(_,v),N!=null&&E.push(vl(_,N,T)))),w)break;_=_.return}0<E.length&&(m=new p(m,S,null,n,d),f.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Hf&&(S=n.relatedTarget||n.fromElement)&&(ui(S)||S[br]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=u,S=S?ui(S):null,S!==null&&(w=Li(S),S!==w||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=u),p!==S)){if(E=gv,N="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(E=vv,N="onPointerLeave",v="onPointerEnter",_="pointer"),w=p==null?m:to(p),T=S==null?m:to(S),m=new E(N,_+"leave",p,n,d),m.target=w,m.relatedTarget=T,N=null,ui(d)===u&&(E=new E(v,_+"enter",S,n,d),E.target=T,E.relatedTarget=w,N=E),w=N,p&&S)t:{for(E=p,v=S,_=0,T=E;T;T=Wi(T))_++;for(T=0,N=v;N;N=Wi(N))T++;for(;0<_-T;)E=Wi(E),_--;for(;0<T-_;)v=Wi(v),T--;for(;_--;){if(E===v||v!==null&&E===v.alternate)break t;E=Wi(E),v=Wi(v)}E=null}else E=null;p!==null&&Pv(f,m,p,E,!1),S!==null&&w!==null&&Pv(f,w,S,E,!0)}}e:{if(m=u?to(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var D=zb;else if(Ev(m))if(RE)D=Wb;else{D=Bb;var M=$b}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=Hb);if(D&&(D=D(t,u))){PE(f,D,n,d);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Ff(m,"number",m.value)}switch(M=u?to(u):window,t){case"focusin":(Ev(M)||M.contentEditable==="true")&&(Zi=M,Xf=u,Ya=null);break;case"focusout":Ya=Xf=Zi=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Cv(f,n,d);break;case"selectionchange":if(Gb)break;case"keydown":case"keyup":Cv(f,n,d)}var I;if(Pm)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ji?bE(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(CE&&n.locale!=="ko"&&(Ji||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ji&&(I=IE()):(ps=d,Cm="value"in ps?ps.value:ps.textContent,Ji=!0)),M=Ou(u,x),0<M.length&&(x=new yv(x,t,null,n,d),f.push({event:x,listeners:M}),I?x.data=I:(I=AE(n),I!==null&&(x.data=I)))),(I=Mb?Vb(t,n):jb(t,n))&&(u=Ou(u,"onBeforeInput"),0<u.length&&(d=new yv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=I))}UE(f,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ou(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=dl(t,n),i!=null&&r.unshift(vl(t,i,s)),i=dl(t,e),i!=null&&r.push(vl(t,i,s))),t=t.return}return r}function Wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=dl(n,i),c!=null&&o.unshift(vl(n,c,a))):s||(c=dl(n,i),c!=null&&o.push(vl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Jb=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function Rv(t){return(typeof t=="string"?t:""+t).replace(Jb,`
`).replace(Zb,"")}function Oc(t,e,n){if(e=Rv(e),Rv(t)!==e&&n)throw Error(B(425))}function Du(){}var Zf=null,ep=null;function tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(t){return kv.resolve(null).then(t).catch(nA)}:np;function nA(t){setTimeout(function(){throw t})}function Zh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);pl(e)}function Es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Nv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),Gn="__reactFiber$"+Yo,_l="__reactProps$"+Yo,br="__reactContainer$"+Yo,rp="__reactEvents$"+Yo,rA="__reactListeners$"+Yo,sA="__reactHandles$"+Yo;function ui(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[br]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Nv(t);t!==null;){if(n=t[Gn])return n;t=Nv(t)}return e}t=n,n=t.parentNode}return null}function Ql(t){return t=t[Gn]||t[br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function to(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Pd(t){return t[_l]||null}var sp=[],no=-1;function qs(t){return{current:t}}function ke(t){0>no||(t.current=sp[no],sp[no]=null,no--)}function Ce(t,e){no++,sp[no]=t.current,t.current=e}var Ds={},It=qs(Ds),zt=qs(!1),xi=Ds;function No(t,e){var n=t.type.contextTypes;if(!n)return Ds;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $t(t){return t=t.childContextTypes,t!=null}function Lu(){ke(zt),ke(It)}function Ov(t,e,n){if(It.current!==Ds)throw Error(B(168));Ce(It,e),Ce(zt,n)}function $E(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,$C(t)||"Unknown",s));return je({},n,r)}function Mu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,xi=It.current,Ce(It,t),Ce(zt,zt.current),!0}function Dv(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=$E(t,e,xi),r.__reactInternalMemoizedMergedChildContext=t,ke(zt),ke(It),Ce(It,t)):ke(zt),Ce(zt,n)}var vr=null,Rd=!1,ef=!1;function BE(t){vr===null?vr=[t]:vr.push(t)}function iA(t){Rd=!0,BE(t)}function Ks(){if(!ef&&vr!==null){ef=!0;var t=0,e=xe;try{var n=vr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vr=null,Rd=!1}catch(s){throw vr!==null&&(vr=vr.slice(t+1)),pE(Tm,Ks),s}finally{xe=e,ef=!1}}return null}var ro=[],so=0,Vu=null,ju=0,on=[],an=0,Si=null,wr=1,Er="";function oi(t,e){ro[so++]=ju,ro[so++]=Vu,Vu=t,ju=e}function HE(t,e,n){on[an++]=wr,on[an++]=Er,on[an++]=Si,Si=t;var r=wr;t=Er;var s=32-bn(r)-1;r&=~(1<<s),n+=1;var i=32-bn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wr=1<<32-bn(e)+s|n<<s|r,Er=i+t}else wr=1<<i|n<<s|r,Er=t}function km(t){t.return!==null&&(oi(t,1),HE(t,1,0))}function Nm(t){for(;t===Vu;)Vu=ro[--so],ro[so]=null,ju=ro[--so],ro[so]=null;for(;t===Si;)Si=on[--an],on[an]=null,Er=on[--an],on[an]=null,wr=on[--an],on[an]=null}var Xt=null,Yt=null,Oe=!1,xn=null;function WE(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=Es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Si!==null?{id:wr,overflow:Er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Yt=null,!0):!1;default:return!1}}function ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function op(t){if(Oe){var e=Yt;if(e){var n=e;if(!Lv(t,e)){if(ip(t))throw Error(B(418));e=Es(n.nextSibling);var r=Xt;e&&Lv(t,e)?WE(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Xt=t)}}else{if(ip(t))throw Error(B(418));t.flags=t.flags&-4097|2,Oe=!1,Xt=t}}}function Mv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function Dc(t){if(t!==Xt)return!1;if(!Oe)return Mv(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tp(t.type,t.memoizedProps)),e&&(e=Yt)){if(ip(t))throw qE(),Error(B(418));for(;e;)WE(t,e),e=Es(e.nextSibling)}if(Mv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=Es(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Xt?Es(t.stateNode.nextSibling):null;return!0}function qE(){for(var t=Yt;t;)t=Es(t.nextSibling)}function Oo(){Yt=Xt=null,Oe=!1}function Om(t){xn===null?xn=[t]:xn.push(t)}var oA=Mr.ReactCurrentBatchConfig;function ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Lc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vv(t){var e=t._init;return e(t._payload)}function KE(t){function e(v,_){if(t){var T=v.deletions;T===null?(v.deletions=[_],v.flags|=16):T.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=Is(v,_),v.index=0,v.sibling=null,v}function i(v,_,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<_?(v.flags|=2,_):T):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,T,N){return _===null||_.tag!==6?(_=lf(T,v.mode,N),_.return=v,_):(_=s(_,T),_.return=v,_)}function c(v,_,T,N){var D=T.type;return D===Xi?d(v,_,T.props.children,N,T.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ts&&Vv(D)===_.type)?(N=s(_,T.props),N.ref=ka(v,_,T),N.return=v,N):(N=hu(T.type,T.key,T.props,null,v.mode,N),N.ref=ka(v,_,T),N.return=v,N)}function u(v,_,T,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=cf(T,v.mode,N),_.return=v,_):(_=s(_,T.children||[]),_.return=v,_)}function d(v,_,T,N,D){return _===null||_.tag!==7?(_=Ei(T,v.mode,N,D),_.return=v,_):(_=s(_,T),_.return=v,_)}function f(v,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=lf(""+_,v.mode,T),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Sc:return T=hu(_.type,_.key,_.props,null,v.mode,T),T.ref=ka(v,null,_),T.return=v,T;case Yi:return _=cf(_,v.mode,T),_.return=v,_;case ts:var N=_._init;return f(v,N(_._payload),T)}if(Va(_)||Ca(_))return _=Ei(_,v.mode,T,null),_.return=v,_;Lc(v,_)}return null}function m(v,_,T,N){var D=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(v,_,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Sc:return T.key===D?c(v,_,T,N):null;case Yi:return T.key===D?u(v,_,T,N):null;case ts:return D=T._init,m(v,_,D(T._payload),N)}if(Va(T)||Ca(T))return D!==null?null:d(v,_,T,N,null);Lc(v,T)}return null}function p(v,_,T,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(T)||null,a(_,v,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Sc:return v=v.get(N.key===null?T:N.key)||null,c(_,v,N,D);case Yi:return v=v.get(N.key===null?T:N.key)||null,u(_,v,N,D);case ts:var M=N._init;return p(v,_,T,M(N._payload),D)}if(Va(N)||Ca(N))return v=v.get(T)||null,d(_,v,N,D,null);Lc(_,N)}return null}function S(v,_,T,N){for(var D=null,M=null,I=_,x=_=0,A=null;I!==null&&x<T.length;x++){I.index>x?(A=I,I=null):A=I.sibling;var P=m(v,I,T[x],N);if(P===null){I===null&&(I=A);break}t&&I&&P.alternate===null&&e(v,I),_=i(P,_,x),M===null?D=P:M.sibling=P,M=P,I=A}if(x===T.length)return n(v,I),Oe&&oi(v,x),D;if(I===null){for(;x<T.length;x++)I=f(v,T[x],N),I!==null&&(_=i(I,_,x),M===null?D=I:M.sibling=I,M=I);return Oe&&oi(v,x),D}for(I=r(v,I);x<T.length;x++)A=p(I,v,x,T[x],N),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?x:A.key),_=i(A,_,x),M===null?D=A:M.sibling=A,M=A);return t&&I.forEach(function(k){return e(v,k)}),Oe&&oi(v,x),D}function E(v,_,T,N){var D=Ca(T);if(typeof D!="function")throw Error(B(150));if(T=D.call(T),T==null)throw Error(B(151));for(var M=D=null,I=_,x=_=0,A=null,P=T.next();I!==null&&!P.done;x++,P=T.next()){I.index>x?(A=I,I=null):A=I.sibling;var k=m(v,I,P.value,N);if(k===null){I===null&&(I=A);break}t&&I&&k.alternate===null&&e(v,I),_=i(k,_,x),M===null?D=k:M.sibling=k,M=k,I=A}if(P.done)return n(v,I),Oe&&oi(v,x),D;if(I===null){for(;!P.done;x++,P=T.next())P=f(v,P.value,N),P!==null&&(_=i(P,_,x),M===null?D=P:M.sibling=P,M=P);return Oe&&oi(v,x),D}for(I=r(v,I);!P.done;x++,P=T.next())P=p(I,v,x,P.value,N),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?x:P.key),_=i(P,_,x),M===null?D=P:M.sibling=P,M=P);return t&&I.forEach(function(O){return e(v,O)}),Oe&&oi(v,x),D}function w(v,_,T,N){if(typeof T=="object"&&T!==null&&T.type===Xi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Sc:e:{for(var D=T.key,M=_;M!==null;){if(M.key===D){if(D=T.type,D===Xi){if(M.tag===7){n(v,M.sibling),_=s(M,T.props.children),_.return=v,v=_;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ts&&Vv(D)===M.type){n(v,M.sibling),_=s(M,T.props),_.ref=ka(v,M,T),_.return=v,v=_;break e}n(v,M);break}else e(v,M);M=M.sibling}T.type===Xi?(_=Ei(T.props.children,v.mode,N,T.key),_.return=v,v=_):(N=hu(T.type,T.key,T.props,null,v.mode,N),N.ref=ka(v,_,T),N.return=v,v=N)}return o(v);case Yi:e:{for(M=T.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(v,_.sibling),_=s(_,T.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=cf(T,v.mode,N),_.return=v,v=_}return o(v);case ts:return M=T._init,w(v,_,M(T._payload),N)}if(Va(T))return S(v,_,T,N);if(Ca(T))return E(v,_,T,N);Lc(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(v,_.sibling),_=s(_,T),_.return=v,v=_):(n(v,_),_=lf(T,v.mode,N),_.return=v,v=_),o(v)):n(v,_)}return w}var Do=KE(!0),GE=KE(!1),Fu=qs(null),Uu=null,io=null,Dm=null;function Lm(){Dm=io=Uu=null}function Mm(t){var e=Fu.current;ke(Fu),t._currentValue=e}function ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function po(t,e){Uu=t,Dm=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Dm!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(Uu===null)throw Error(B(308));io=t,Uu.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var di=null;function Vm(t){di===null?di=[t]:di.push(t)}function QE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Vm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ar(t,r)}function Ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ns=!1;function jm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ar(t,n)}return s=r.interleaved,s===null?(e.next=e,Vm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ar(t,n)}function ou(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xm(t,n)}}function jv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zu(t,e,n,r){var s=t.updateQueue;ns=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,E=a;switch(m=e,p=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){f=S.call(p,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,m=typeof S=="function"?S.call(p,f,m):S,m==null)break e;f=je({},f,m);break e;case 2:ns=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ci|=o,t.lanes=o,t.memoizedState=f}}function Fv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Yl={},Xn=qs(Yl),wl=qs(Yl),El=qs(Yl);function hi(t){if(t===Yl)throw Error(B(174));return t}function Fm(t,e){switch(Ce(El,e),Ce(wl,t),Ce(Xn,Yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zf(e,t)}ke(Xn),Ce(Xn,e)}function Lo(){ke(Xn),ke(wl),ke(El)}function XE(t){hi(El.current);var e=hi(Xn.current),n=zf(e,t.type);e!==n&&(Ce(wl,t),Ce(Xn,n))}function Um(t){wl.current===t&&(ke(Xn),ke(wl))}var Le=qs(0);function $u(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tf=[];function zm(){for(var t=0;t<tf.length;t++)tf[t]._workInProgressVersionPrimary=null;tf.length=0}var au=Mr.ReactCurrentDispatcher,nf=Mr.ReactCurrentBatchConfig,Ii=0,Ve=null,Je=null,at=null,Bu=!1,Xa=!1,Tl=0,aA=0;function vt(){throw Error(B(321))}function $m(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function Bm(t,e,n,r,s,i){if(Ii=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,au.current=t===null||t.memoizedState===null?dA:hA,t=n(r,s),Xa){i=0;do{if(Xa=!1,Tl=0,25<=i)throw Error(B(301));i+=1,at=Je=null,e.updateQueue=null,au.current=fA,t=n(r,s)}while(Xa)}if(au.current=Hu,e=Je!==null&&Je.next!==null,Ii=0,at=Je=Ve=null,Bu=!1,e)throw Error(B(300));return t}function Hm(){var t=Tl!==0;return Tl=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ve.memoizedState=at=t:at=at.next=t,at}function hn(){if(Je===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=at===null?Ve.memoizedState:at.next;if(e!==null)at=e,Je=t;else{if(t===null)throw Error(B(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},at===null?Ve.memoizedState=at=t:at=at.next=t}return at}function xl(t,e){return typeof e=="function"?e(t):e}function rf(t){var e=hn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((Ii&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ve.lanes|=d,Ci|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Pn(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,Ci|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sf(t){var e=hn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Pn(i,e.memoizedState)||(Ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function JE(){}function ZE(t,e){var n=Ve,r=hn(),s=e(),i=!Pn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ut=!0),r=r.queue,Wm(n1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Sl(9,t1.bind(null,n,r,s,e),void 0,null),ct===null)throw Error(B(349));Ii&30||e1(n,e,s)}return s}function e1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function t1(t,e,n,r){e.value=n,e.getSnapshot=r,r1(e)&&s1(t)}function n1(t,e,n){return n(function(){r1(e)&&s1(t)})}function r1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function s1(t){var e=Ar(t,1);e!==null&&An(e,t,1,-1)}function Uv(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:t},e.queue=t,t=t.dispatch=uA.bind(null,Ve,t),[e.memoizedState,t]}function Sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function i1(){return hn().memoizedState}function lu(t,e,n,r){var s=Bn();Ve.flags|=t,s.memoizedState=Sl(1|e,n,void 0,r===void 0?null:r)}function kd(t,e,n,r){var s=hn();r=r===void 0?null:r;var i=void 0;if(Je!==null){var o=Je.memoizedState;if(i=o.destroy,r!==null&&$m(r,o.deps)){s.memoizedState=Sl(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=Sl(1|e,n,i,r)}function zv(t,e){return lu(8390656,8,t,e)}function Wm(t,e){return kd(2048,8,t,e)}function o1(t,e){return kd(4,2,t,e)}function a1(t,e){return kd(4,4,t,e)}function l1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function c1(t,e,n){return n=n!=null?n.concat([t]):null,kd(4,4,l1.bind(null,e,t),n)}function qm(){}function u1(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$m(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function d1(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$m(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function h1(t,e,n){return Ii&21?(Pn(n,e)||(n=yE(),Ve.lanes|=n,Ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function lA(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=nf.transition;nf.transition={};try{t(!1),e()}finally{xe=n,nf.transition=r}}function f1(){return hn().memoizedState}function cA(t,e,n){var r=Ss(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},p1(t))m1(e,n);else if(n=QE(t,e,n,r),n!==null){var s=kt();An(n,t,r,s),g1(n,e,r)}}function uA(t,e,n){var r=Ss(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(p1(t))m1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Pn(a,o)){var c=e.interleaved;c===null?(s.next=s,Vm(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=QE(t,e,s,r),n!==null&&(s=kt(),An(n,t,r,s),g1(n,e,r))}}function p1(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function m1(t,e){Xa=Bu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function g1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xm(t,n)}}var Hu={readContext:dn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},dA={readContext:dn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:zv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lu(4194308,4,l1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lu(4194308,4,t,e)},useInsertionEffect:function(t,e){return lu(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cA.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:Uv,useDebugValue:qm,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=Uv(!1),e=t[0];return t=lA.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=Bn();if(Oe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ct===null)throw Error(B(349));Ii&30||e1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,zv(n1.bind(null,r,i,t),[t]),r.flags|=2048,Sl(9,t1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Bn(),e=ct.identifierPrefix;if(Oe){var n=Er,r=wr;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=aA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hA={readContext:dn,useCallback:u1,useContext:dn,useEffect:Wm,useImperativeHandle:c1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:d1,useReducer:rf,useRef:i1,useState:function(){return rf(xl)},useDebugValue:qm,useDeferredValue:function(t){var e=hn();return h1(e,Je.memoizedState,t)},useTransition:function(){var t=rf(xl)[0],e=hn().memoizedState;return[t,e]},useMutableSource:JE,useSyncExternalStore:ZE,useId:f1,unstable_isNewReconciler:!1},fA={readContext:dn,useCallback:u1,useContext:dn,useEffect:Wm,useImperativeHandle:c1,useInsertionEffect:o1,useLayoutEffect:a1,useMemo:d1,useReducer:sf,useRef:i1,useState:function(){return sf(xl)},useDebugValue:qm,useDeferredValue:function(t){var e=hn();return Je===null?e.memoizedState=t:h1(e,Je.memoizedState,t)},useTransition:function(){var t=sf(xl)[0],e=hn().memoizedState;return[t,e]},useMutableSource:JE,useSyncExternalStore:ZE,useId:f1,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nd={isMounted:function(t){return(t=t._reactInternals)?Li(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),s=Ss(t),i=Sr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ts(t,i,s),e!==null&&(An(e,t,s,r),ou(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),s=Ss(t),i=Sr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ts(t,i,s),e!==null&&(An(e,t,s,r),ou(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=Ss(t),s=Sr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ts(t,s,r),e!==null&&(An(e,t,r,n),ou(e,t,r))}};function $v(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!gl(n,r)||!gl(s,i):!0}function y1(t,e,n){var r=!1,s=Ds,i=e.contextType;return typeof i=="object"&&i!==null?i=dn(i):(s=$t(e)?xi:It.current,r=e.contextTypes,i=(r=r!=null)?No(t,s):Ds),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nd.enqueueReplaceState(e,e.state,null)}function cp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},jm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=dn(i):(i=$t(e)?xi:It.current,s.context=No(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(lp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Nd.enqueueReplaceState(s,s.state,null),zu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Mo(t,e){try{var n="",r=e;do n+=zC(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function of(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pA=typeof WeakMap=="function"?WeakMap:Map;function v1(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qu||(qu=!0,wp=r),up(t,e)},n}function _1(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){up(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){up(t,e),typeof r!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new pA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=AA.bind(null,t,e,n),e.then(t,t))}function Wv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,Ts(n,e,1))),n.lanes|=1),t)}var mA=Mr.ReactCurrentOwner,Ut=!1;function Pt(t,e,n,r){e.child=t===null?GE(e,null,n,r):Do(e,t.child,n,r)}function Kv(t,e,n,r,s){n=n.render;var i=e.ref;return po(e,s),r=Bm(t,e,n,r,i,s),n=Hm(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pr(t,e,s)):(Oe&&n&&km(e),e.flags|=1,Pt(t,e,r,s),e.child)}function Gv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!eg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,w1(t,e,i,r,s)):(t=hu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(o,r)&&t.ref===e.ref)return Pr(t,e,s)}return e.flags|=1,t=Is(i,r),t.ref=e.ref,t.return=e,e.child=t}function w1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(gl(i,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,Pr(t,e,s)}return dp(t,e,n,r,s)}function E1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ao,Kt),Kt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(ao,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(ao,Kt),Kt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(ao,Kt),Kt|=r;return Pt(t,e,s,n),e.child}function T1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dp(t,e,n,r,s){var i=$t(n)?xi:It.current;return i=No(e,i),po(e,s),n=Bm(t,e,n,r,i,s),r=Hm(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pr(t,e,s)):(Oe&&r&&km(e),e.flags|=1,Pt(t,e,n,s),e.child)}function Qv(t,e,n,r,s){if($t(n)){var i=!0;Mu(e)}else i=!1;if(po(e,s),e.stateNode===null)cu(t,e),y1(e,n,r),cp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=$t(n)?xi:It.current,u=No(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Bv(e,o,r,u),ns=!1;var m=e.memoizedState;o.state=m,zu(e,r,o,s),c=e.memoizedState,a!==r||m!==c||zt.current||ns?(typeof d=="function"&&(lp(e,n,d,r),c=e.memoizedState),(a=ns||$v(e,n,a,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:vn(e.type,a),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=dn(c):(c=$t(n)?xi:It.current,c=No(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&Bv(e,o,r,c),ns=!1,m=e.memoizedState,o.state=m,zu(e,r,o,s);var S=e.memoizedState;a!==f||m!==S||zt.current||ns?(typeof p=="function"&&(lp(e,n,p,r),S=e.memoizedState),(u=ns||$v(e,n,u,r,m,S,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return hp(t,e,n,r,i,s)}function hp(t,e,n,r,s,i){T1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Dv(e,n,!1),Pr(t,e,i);r=e.stateNode,mA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Do(e,t.child,null,i),e.child=Do(e,null,a,i)):Pt(t,e,a,i),e.memoizedState=r.state,s&&Dv(e,n,!0),e.child}function x1(t){var e=t.stateNode;e.pendingContext?Ov(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ov(t,e.context,!1),Fm(t,e.containerInfo)}function Yv(t,e,n,r,s){return Oo(),Om(s),e.flags|=256,Pt(t,e,n,r),e.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function S1(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Le,s&1),t===null)return op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ld(o,r,0,null),t=Ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pp(n),e.memoizedState=fp,t):Km(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return gA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Is(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Is(a,i):(i=Ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=fp,r}return i=t.child,t=i.sibling,r=Is(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Km(t,e){return e=Ld({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mc(t,e,n,r){return r!==null&&Om(r),Do(e,t.child,null,n),t=Km(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=of(Error(B(422))),Mc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ld({mode:"visible",children:r.children},s,0,null),i=Ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Do(e,t.child,null,o),e.child.memoizedState=pp(o),e.memoizedState=fp,i);if(!(e.mode&1))return Mc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=of(i,r,void 0),Mc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ut||a){if(r=ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ar(t,s),An(r,t,s,-1))}return Zm(),r=of(Error(B(421))),Mc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=PA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Yt=Es(s.nextSibling),Xt=e,Oe=!0,xn=null,t!==null&&(on[an++]=wr,on[an++]=Er,on[an++]=Si,wr=t.id,Er=t.overflow,Si=e),e=Km(e,r.children),e.flags|=4096,e)}function Xv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ap(t.return,e,n)}function af(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function I1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xv(t,n,e);else if(t.tag===19)Xv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&$u(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),af(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$u(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}af(e,!0,n,null,i);break;case"together":af(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yA(t,e,n){switch(e.tag){case 3:x1(e),Oo();break;case 5:XE(e);break;case 1:$t(e.type)&&Mu(e);break;case 4:Fm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Fu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?S1(t,e,n):(Ce(Le,Le.current&1),t=Pr(t,e,n),t!==null?t.sibling:null);Ce(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return I1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,E1(t,e,n)}return Pr(t,e,n)}var C1,mp,b1,A1;C1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mp=function(){};b1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,hi(Xn.current);var i=null;switch(n){case"input":s=Vf(t,s),r=Vf(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=Uf(t,s),r=Uf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Du)}$f(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pe("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};A1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Na(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vA(t,e,n){var r=e.pendingProps;switch(Nm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return $t(e.type)&&Lu(),_t(e),null;case 3:return r=e.stateNode,Lo(),ke(zt),ke(It),zm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xn!==null&&(xp(xn),xn=null))),mp(t,e),_t(e),null;case 5:Um(e);var s=hi(El.current);if(n=e.type,t!==null&&e.stateNode!=null)b1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return _t(e),null}if(t=hi(Xn.current),Dc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gn]=e,r[_l]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Fa.length;s++)Pe(Fa[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":ov(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":lv(r,i),Pe("invalid",r)}$f(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Oc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Oc(r.textContent,a,t),s=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":Ic(r),av(r,i,!0);break;case"textarea":Ic(r),cv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Du)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[_l]=r,C1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bf(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Fa.length;s++)Pe(Fa[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":ov(t,r),s=Vf(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":lv(t,r),s=Uf(t,r),Pe("invalid",t);break;default:s=r}$f(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?iE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ul(t,c):typeof c=="number"&&ul(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Pe("scroll",t):c!=null&&ym(t,i,c,o))}switch(n){case"input":Ic(t),av(t,r,!1);break;case"textarea":Ic(t),cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Os(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?co(t,!!r.multiple,i,!1):r.defaultValue!=null&&co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Du)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)A1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=hi(El.current),hi(Xn.current),Dc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(i=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:Oc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return _t(e),null;case 13:if(ke(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Yt!==null&&e.mode&1&&!(e.flags&128))qE(),Oo(),e.flags|=98560,i=!1;else if(i=Dc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Gn]=e}else Oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),i=!1}else xn!==null&&(xp(xn),xn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?tt===0&&(tt=3):Zm())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Lo(),mp(t,e),t===null&&yl(e.stateNode.containerInfo),_t(e),null;case 10:return Mm(e.type._context),_t(e),null;case 17:return $t(e.type)&&Lu(),_t(e),null;case 19:if(ke(Le),i=e.memoizedState,i===null)return _t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Na(i,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$u(t),o!==null){for(e.flags|=128,Na(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>Vo&&(e.flags|=128,r=!0,Na(i,!1),e.lanes=4194304)}else{if(!r)if(t=$u(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Na(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Oe)return _t(e),null}else 2*He()-i.renderingStartTime>Vo&&n!==1073741824&&(e.flags|=128,r=!0,Na(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=Le.current,Ce(Le,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return Jm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function _A(t,e){switch(Nm(e),e.tag){case 1:return $t(e.type)&&Lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lo(),ke(zt),ke(It),zm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Um(e),null;case 13:if(ke(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Le),null;case 4:return Lo(),null;case 10:return Mm(e.type._context),null;case 22:case 23:return Jm(),null;case 24:return null;default:return null}}var Vc=!1,xt=!1,wA=typeof WeakSet=="function"?WeakSet:Set,Q=null;function oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function gp(t,e,n){try{n()}catch(r){$e(t,e,r)}}var Jv=!1;function EA(t,e){if(Zf=ku,t=OE(),Rm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ep={focusedElem:t,selectionRange:n},ku=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,w=S.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?E:vn(e.type,E),w);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){$e(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return S=Jv,Jv=!1,S}function Ja(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gp(e,n,i)}s=s.next}while(s!==r)}}function Od(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function P1(t){var e=t.alternate;e!==null&&(t.alternate=null,P1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[_l],delete e[rp],delete e[rA],delete e[sA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function R1(t){return t.tag===5||t.tag===3||t.tag===4}function Zv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||R1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Du));else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}function _p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_p(t,e,n),t=t.sibling;t!==null;)_p(t,e,n),t=t.sibling}var ut=null,Tn=!1;function Kr(t,e,n){for(n=n.child;n!==null;)k1(t,e,n),n=n.sibling}function k1(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Id,n)}catch{}switch(n.tag){case 5:xt||oo(n,e);case 6:var r=ut,s=Tn;ut=null,Kr(t,e,n),ut=r,Tn=s,ut!==null&&(Tn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Tn?(t=ut,n=n.stateNode,t.nodeType===8?Zh(t.parentNode,n):t.nodeType===1&&Zh(t,n),pl(t)):Zh(ut,n.stateNode));break;case 4:r=ut,s=Tn,ut=n.stateNode.containerInfo,Tn=!0,Kr(t,e,n),ut=r,Tn=s;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gp(n,e,o),s=s.next}while(s!==r)}Kr(t,e,n);break;case 1:if(!xt&&(oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Kr(t,e,n),xt=r):Kr(t,e,n);break;default:Kr(t,e,n)}}function e_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wA),e.forEach(function(r){var s=RA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,Tn=!1;break e;case 3:ut=a.stateNode.containerInfo,Tn=!0;break e;case 4:ut=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(ut===null)throw Error(B(160));k1(i,o,s),ut=null,Tn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$e(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)N1(e,t),e=e.sibling}function N1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),$n(t),r&4){try{Ja(3,t,t.return),Od(3,t)}catch(E){$e(t,t.return,E)}try{Ja(5,t,t.return)}catch(E){$e(t,t.return,E)}}break;case 1:gn(e,t),$n(t),r&512&&n!==null&&oo(n,n.return);break;case 5:if(gn(e,t),$n(t),r&512&&n!==null&&oo(n,n.return),t.flags&32){var s=t.stateNode;try{ul(s,"")}catch(E){$e(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&eE(s,i),Bf(a,o);var u=Bf(a,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?iE(s,f):d==="dangerouslySetInnerHTML"?rE(s,f):d==="children"?ul(s,f):ym(s,d,f,u)}switch(a){case"input":jf(s,i);break;case"textarea":tE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?co(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?co(s,!!i.multiple,i.defaultValue,!0):co(s,!!i.multiple,i.multiple?[]:"",!1))}s[_l]=i}catch(E){$e(t,t.return,E)}}break;case 6:if(gn(e,t),$n(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){$e(t,t.return,E)}}break;case 3:if(gn(e,t),$n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pl(e.containerInfo)}catch(E){$e(t,t.return,E)}break;case 4:gn(e,t),$n(t);break;case 13:gn(e,t),$n(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ym=He())),r&4&&e_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(u=xt)||d,gn(e,t),xt=u):gn(e,t),$n(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(f=Q=d;Q!==null;){switch(m=Q,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ja(4,m,m.return);break;case 1:oo(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(E){$e(r,n,E)}}break;case 5:oo(m,m.return);break;case 22:if(m.memoizedState!==null){n_(f);continue}}p!==null?(p.return=m,Q=p):n_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=sE("display",o))}catch(E){$e(t,t.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(E){$e(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gn(e,t),$n(t),r&4&&e_(t);break;case 21:break;default:gn(e,t),$n(t)}}function $n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(R1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ul(s,""),r.flags&=-33);var i=Zv(t);_p(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zv(t);vp(t,a,o);break;default:throw Error(B(161))}}catch(c){$e(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TA(t,e,n){Q=t,O1(t)}function O1(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Vc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||xt;a=Vc;var u=xt;if(Vc=o,(xt=c)&&!u)for(Q=s;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?r_(s):c!==null?(c.return=o,Q=c):r_(s);for(;i!==null;)Q=i,O1(i),i=i.sibling;Q=s,Vc=a,xt=u}t_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):t_(t)}}function t_(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Od(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Fv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}xt||e.flags&512&&yp(e)}catch(m){$e(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function n_(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function r_(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Od(4,e)}catch(c){$e(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){$e(e,s,c)}}var i=e.return;try{yp(e)}catch(c){$e(e,i,c)}break;case 5:var o=e.return;try{yp(e)}catch(c){$e(e,o,c)}}}catch(c){$e(e,e.return,c)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var xA=Math.ceil,Wu=Mr.ReactCurrentDispatcher,Gm=Mr.ReactCurrentOwner,un=Mr.ReactCurrentBatchConfig,_e=0,ct=null,Ge=null,ft=0,Kt=0,ao=qs(0),tt=0,Il=null,Ci=0,Dd=0,Qm=0,Za=null,Ft=null,Ym=0,Vo=1/0,yr=null,qu=!1,wp=null,xs=null,jc=!1,ms=null,Ku=0,el=0,Ep=null,uu=-1,du=0;function kt(){return _e&6?He():uu!==-1?uu:uu=He()}function Ss(t){return t.mode&1?_e&2&&ft!==0?ft&-ft:oA.transition!==null?(du===0&&(du=yE()),du):(t=xe,t!==0||(t=window.event,t=t===void 0?16:SE(t.type)),t):1}function An(t,e,n,r){if(50<el)throw el=0,Ep=null,Error(B(185));Kl(t,n,r),(!(_e&2)||t!==ct)&&(t===ct&&(!(_e&2)&&(Dd|=n),tt===4&&ss(t,ft)),Bt(t,r),n===1&&_e===0&&!(e.mode&1)&&(Vo=He()+500,Rd&&Ks()))}function Bt(t,e){var n=t.callbackNode;ob(t,e);var r=Ru(t,t===ct?ft:0);if(r===0)n!==null&&hv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hv(n),e===1)t.tag===0?iA(s_.bind(null,t)):BE(s_.bind(null,t)),tA(function(){!(_e&6)&&Ks()}),n=null;else{switch(vE(r)){case 1:n=Tm;break;case 4:n=mE;break;case 16:n=Pu;break;case 536870912:n=gE;break;default:n=Pu}n=z1(n,D1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function D1(t,e){if(uu=-1,du=0,_e&6)throw Error(B(327));var n=t.callbackNode;if(mo()&&t.callbackNode!==n)return null;var r=Ru(t,t===ct?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gu(t,r);else{e=r;var s=_e;_e|=2;var i=M1();(ct!==t||ft!==e)&&(yr=null,Vo=He()+500,wi(t,e));do try{CA();break}catch(a){L1(t,a)}while(!0);Lm(),Wu.current=i,_e=s,Ge!==null?e=0:(ct=null,ft=0,e=tt)}if(e!==0){if(e===2&&(s=Gf(t),s!==0&&(r=s,e=Tp(t,s))),e===1)throw n=Il,wi(t,0),ss(t,r),Bt(t,He()),n;if(e===6)ss(t,r);else{if(s=t.current.alternate,!(r&30)&&!SA(s)&&(e=Gu(t,r),e===2&&(i=Gf(t),i!==0&&(r=i,e=Tp(t,i))),e===1))throw n=Il,wi(t,0),ss(t,r),Bt(t,He()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ai(t,Ft,yr);break;case 3:if(ss(t,r),(r&130023424)===r&&(e=Ym+500-He(),10<e)){if(Ru(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=np(ai.bind(null,t,Ft,yr),e);break}ai(t,Ft,yr);break;case 4:if(ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-bn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xA(r/1960))-r,10<r){t.timeoutHandle=np(ai.bind(null,t,Ft,yr),r);break}ai(t,Ft,yr);break;case 5:ai(t,Ft,yr);break;default:throw Error(B(329))}}}return Bt(t,He()),t.callbackNode===n?D1.bind(null,t):null}function Tp(t,e){var n=Za;return t.current.memoizedState.isDehydrated&&(wi(t,e).flags|=256),t=Gu(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&xp(e)),t}function xp(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function SA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Pn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ss(t,e){for(e&=~Qm,e&=~Dd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function s_(t){if(_e&6)throw Error(B(327));mo();var e=Ru(t,0);if(!(e&1))return Bt(t,He()),null;var n=Gu(t,e);if(t.tag!==0&&n===2){var r=Gf(t);r!==0&&(e=r,n=Tp(t,r))}if(n===1)throw n=Il,wi(t,0),ss(t,e),Bt(t,He()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,Ft,yr),Bt(t,He()),null}function Xm(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Vo=He()+500,Rd&&Ks())}}function bi(t){ms!==null&&ms.tag===0&&!(_e&6)&&mo();var e=_e;_e|=1;var n=un.transition,r=xe;try{if(un.transition=null,xe=1,t)return t()}finally{xe=r,un.transition=n,_e=e,!(_e&6)&&Ks()}}function Jm(){Kt=ao.current,ke(ao)}function wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,eA(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Nm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lu();break;case 3:Lo(),ke(zt),ke(It),zm();break;case 5:Um(r);break;case 4:Lo();break;case 13:ke(Le);break;case 19:ke(Le);break;case 10:Mm(r.type._context);break;case 22:case 23:Jm()}n=n.return}if(ct=t,Ge=t=Is(t.current,null),ft=Kt=e,tt=0,Il=null,Qm=Dd=Ci=0,Ft=Za=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}di=null}return t}function L1(t,e){do{var n=Ge;try{if(Lm(),au.current=Hu,Bu){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bu=!1}if(Ii=0,at=Je=Ve=null,Xa=!1,Tl=0,Gm.current=null,n===null||n.return===null){tt=1,Il=e,Ge=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=ft,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Wv(o);if(p!==null){p.flags&=-257,qv(p,o,a,i,e),p.mode&1&&Hv(i,u,e),e=p,c=u;var S=e.updateQueue;if(S===null){var E=new Set;E.add(c),e.updateQueue=E}else S.add(c);break e}else{if(!(e&1)){Hv(i,u,e),Zm();break e}c=Error(B(426))}}else if(Oe&&a.mode&1){var w=Wv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),qv(w,o,a,i,e),Om(Mo(c,a));break e}}i=c=Mo(c,a),tt!==4&&(tt=2),Za===null?Za=[i]:Za.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=v1(i,c,e);jv(i,v);break e;case 1:a=c;var _=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(xs===null||!xs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=_1(i,a,e);jv(i,N);break e}}i=i.return}while(i!==null)}j1(n)}catch(D){e=D,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function M1(){var t=Wu.current;return Wu.current=Hu,t===null?Hu:t}function Zm(){(tt===0||tt===3||tt===2)&&(tt=4),ct===null||!(Ci&268435455)&&!(Dd&268435455)||ss(ct,ft)}function Gu(t,e){var n=_e;_e|=2;var r=M1();(ct!==t||ft!==e)&&(yr=null,wi(t,e));do try{IA();break}catch(s){L1(t,s)}while(!0);if(Lm(),_e=n,Wu.current=r,Ge!==null)throw Error(B(261));return ct=null,ft=0,tt}function IA(){for(;Ge!==null;)V1(Ge)}function CA(){for(;Ge!==null&&!XC();)V1(Ge)}function V1(t){var e=U1(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?j1(t):Ge=e,Gm.current=null}function j1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_A(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ge=null;return}}else if(n=vA(n,e,Kt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);tt===0&&(tt=5)}function ai(t,e,n){var r=xe,s=un.transition;try{un.transition=null,xe=1,bA(t,e,n,r)}finally{un.transition=s,xe=r}return null}function bA(t,e,n,r){do mo();while(ms!==null);if(_e&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ab(t,i),t===ct&&(Ge=ct=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jc||(jc=!0,z1(Pu,function(){return mo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=un.transition,un.transition=null;var o=xe;xe=1;var a=_e;_e|=4,Gm.current=null,EA(t,n),N1(n,t),Kb(ep),ku=!!Zf,ep=Zf=null,t.current=n,TA(n),JC(),_e=a,xe=o,un.transition=i}else t.current=n;if(jc&&(jc=!1,ms=t,Ku=s),i=t.pendingLanes,i===0&&(xs=null),tb(n.stateNode),Bt(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qu)throw qu=!1,t=wp,wp=null,t;return Ku&1&&t.tag!==0&&mo(),i=t.pendingLanes,i&1?t===Ep?el++:(el=0,Ep=t):el=0,Ks(),null}function mo(){if(ms!==null){var t=vE(Ku),e=un.transition,n=xe;try{if(un.transition=null,xe=16>t?16:t,ms===null)var r=!1;else{if(t=ms,ms=null,Ku=0,_e&6)throw Error(B(331));var s=_e;for(_e|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Ja(8,d,i)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var m=d.sibling,p=d.return;if(P1(d),d===u){Q=null;break}if(m!==null){m.return=p,Q=m;break}Q=p}}}var S=i.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var w=E.sibling;E.sibling=null,E=w}while(E!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ja(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Q=v;break e}Q=i.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=_;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Od(9,a)}}catch(D){$e(a,a.return,D)}if(a===o){Q=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,Q=N;break e}Q=a.return}}if(_e=s,Ks(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Id,t)}catch{}r=!0}return r}finally{xe=n,un.transition=e}}return!1}function i_(t,e,n){e=Mo(n,e),e=v1(t,e,1),t=Ts(t,e,1),e=kt(),t!==null&&(Kl(t,1,e),Bt(t,e))}function $e(t,e,n){if(t.tag===3)i_(t,t,n);else for(;e!==null;){if(e.tag===3){i_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xs===null||!xs.has(r))){t=Mo(n,t),t=_1(e,t,1),e=Ts(e,t,1),t=kt(),e!==null&&(Kl(e,1,t),Bt(e,t));break}}e=e.return}}function AA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(ft&n)===n&&(tt===4||tt===3&&(ft&130023424)===ft&&500>He()-Ym?wi(t,0):Qm|=n),Bt(t,e)}function F1(t,e){e===0&&(t.mode&1?(e=Ac,Ac<<=1,!(Ac&130023424)&&(Ac=4194304)):e=1);var n=kt();t=Ar(t,e),t!==null&&(Kl(t,e,n),Bt(t,n))}function PA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F1(t,n)}function RA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),F1(t,n)}var U1;U1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,yA(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,Oe&&e.flags&1048576&&HE(e,ju,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cu(t,e),t=e.pendingProps;var s=No(e,It.current);po(e,n),s=Bm(null,e,r,t,s,n);var i=Hm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(i=!0,Mu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jm(e),s.updater=Nd,e.stateNode=s,s._reactInternals=e,cp(e,r,t,n),e=hp(null,e,r,!0,i,n)):(e.tag=0,Oe&&i&&km(e),Pt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=NA(r),t=vn(r,t),s){case 0:e=dp(null,e,r,t,n);break e;case 1:e=Qv(null,e,r,t,n);break e;case 11:e=Kv(null,e,r,t,n);break e;case 14:e=Gv(null,e,r,vn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),dp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),Qv(t,e,r,s,n);case 3:e:{if(x1(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,YE(t,e),zu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Mo(Error(B(423)),e),e=Yv(t,e,r,n,s);break e}else if(r!==s){s=Mo(Error(B(424)),e),e=Yv(t,e,r,n,s);break e}else for(Yt=Es(e.stateNode.containerInfo.firstChild),Xt=e,Oe=!0,xn=null,n=GE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),r===s){e=Pr(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return XE(e),t===null&&op(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,tp(r,s)?o=null:i!==null&&tp(r,i)&&(e.flags|=32),T1(t,e),Pt(t,e,o,n),e.child;case 6:return t===null&&op(e),null;case 13:return S1(t,e,n);case 4:return Fm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Do(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),Kv(t,e,r,s,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(Fu,r._currentValue),r._currentValue=o,i!==null)if(Pn(i.value,o)){if(i.children===s.children&&!zt.current){e=Pr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Sr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ap(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ap(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,po(e,n),s=dn(s),r=r(s),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,s=vn(r,e.pendingProps),s=vn(r.type,s),Gv(t,e,r,s,n);case 15:return w1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),cu(t,e),e.tag=1,$t(r)?(t=!0,Mu(e)):t=!1,po(e,n),y1(e,r,s),cp(e,r,s,n),hp(null,e,r,!0,t,n);case 19:return I1(t,e,n);case 22:return E1(t,e,n)}throw Error(B(156,e.tag))};function z1(t,e){return pE(t,e)}function kA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new kA(t,e,n,r)}function eg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function NA(t){if(typeof t=="function")return eg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_m)return 11;if(t===wm)return 14}return 2}function Is(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")eg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xi:return Ei(n.children,s,i,e);case vm:o=8,s|=8;break;case Of:return t=cn(12,n,e,s|2),t.elementType=Of,t.lanes=i,t;case Df:return t=cn(13,n,e,s),t.elementType=Df,t.lanes=i,t;case Lf:return t=cn(19,n,e,s),t.elementType=Lf,t.lanes=i,t;case Xw:return Ld(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qw:o=10;break e;case Yw:o=9;break e;case _m:o=11;break e;case wm:o=14;break e;case ts:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=cn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ei(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Ld(t,e,n,r){return t=cn(22,t,r,e),t.elementType=Xw,t.lanes=n,t.stateNode={isHidden:!1},t}function lf(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function cf(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tg(t,e,n,r,s,i,o,a,c){return t=new OA(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=cn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jm(i),t}function DA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $1(t){if(!t)return Ds;t=t._reactInternals;e:{if(Li(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if($t(n))return $E(t,n,e)}return e}function B1(t,e,n,r,s,i,o,a,c){return t=tg(n,r,!0,t,s,i,o,a,c),t.context=$1(null),n=t.current,r=kt(),s=Ss(n),i=Sr(r,s),i.callback=e??null,Ts(n,i,s),t.current.lanes=s,Kl(t,s,r),Bt(t,r),t}function Md(t,e,n,r){var s=e.current,i=kt(),o=Ss(s);return n=$1(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ts(s,e,o),t!==null&&(An(t,s,o,i),ou(t,s,o)),o}function Qu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ng(t,e){o_(t,e),(t=t.alternate)&&o_(t,e)}function LA(){return null}var H1=typeof reportError=="function"?reportError:function(t){console.error(t)};function rg(t){this._internalRoot=t}Vd.prototype.render=rg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Md(t,e,null,null)};Vd.prototype.unmount=rg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bi(function(){Md(null,t,null,null)}),e[br]=null}};function Vd(t){this._internalRoot=t}Vd.prototype.unstable_scheduleHydration=function(t){if(t){var e=EE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rs.length&&e!==0&&e<rs[n].priority;n++);rs.splice(n,0,t),n===0&&xE(t)}};function sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a_(){}function MA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Qu(o);i.call(u)}}var o=B1(e,r,t,0,null,!1,!1,"",a_);return t._reactRootContainer=o,t[br]=o.current,yl(t.nodeType===8?t.parentNode:t),bi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Qu(c);a.call(u)}}var c=tg(t,0,!1,null,null,!1,!1,"",a_);return t._reactRootContainer=c,t[br]=c.current,yl(t.nodeType===8?t.parentNode:t),bi(function(){Md(e,c,n,r)}),c}function Fd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Qu(o);a.call(c)}}Md(e,o,t,s)}else o=MA(n,e,t,s,r);return Qu(o)}_E=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ja(e.pendingLanes);n!==0&&(xm(e,n|1),Bt(e,He()),!(_e&6)&&(Vo=He()+500,Ks()))}break;case 13:bi(function(){var r=Ar(t,1);if(r!==null){var s=kt();An(r,t,1,s)}}),ng(t,1)}};Sm=function(t){if(t.tag===13){var e=Ar(t,134217728);if(e!==null){var n=kt();An(e,t,134217728,n)}ng(t,134217728)}};wE=function(t){if(t.tag===13){var e=Ss(t),n=Ar(t,e);if(n!==null){var r=kt();An(n,t,e,r)}ng(t,e)}};EE=function(){return xe};TE=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Wf=function(t,e,n){switch(e){case"input":if(jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Pd(r);if(!s)throw Error(B(90));Zw(r),jf(r,s)}}}break;case"textarea":tE(t,n);break;case"select":e=n.value,e!=null&&co(t,!!n.multiple,e,!1)}};lE=Xm;cE=bi;var VA={usingClientEntryPoint:!1,Events:[Ql,to,Pd,oE,aE,Xm]},Oa={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jA={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hE(t),t===null?null:t.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||LA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Id=Fc.inject(jA),Yn=Fc}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VA;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(e))throw Error(B(200));return DA(t,e,null,n)};en.createRoot=function(t,e){if(!sg(t))throw Error(B(299));var n=!1,r="",s=H1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=tg(t,1,!1,null,null,n,!1,r,s),t[br]=e.current,yl(t.nodeType===8?t.parentNode:t),new rg(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=hE(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return bi(t)};en.hydrate=function(t,e,n){if(!jd(e))throw Error(B(200));return Fd(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!sg(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=H1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=B1(e,null,t,1,n??null,s,!1,i,o),t[br]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Vd(e)};en.render=function(t,e,n){if(!jd(e))throw Error(B(200));return Fd(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!jd(t))throw Error(B(40));return t._reactRootContainer?(bi(function(){Fd(null,null,t,!1,function(){t._reactRootContainer=null,t[br]=null})}),!0):!1};en.unstable_batchedUpdates=Xm;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Fd(t,e,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function W1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W1)}catch(t){console.error(t)}}W1(),Ww.exports=en;var Xl=Ww.exports;const q1=Nw(Xl);var K1,l_=Xl;K1=l_.createRoot,l_.hydrateRoot;const FA=1,UA=1e6;let uf=0;function zA(){return uf=(uf+1)%Number.MAX_SAFE_INTEGER,uf.toString()}const df=new Map,c_=t=>{if(df.has(t))return;const e=setTimeout(()=>{df.delete(t),tl({type:"REMOVE_TOAST",toastId:t})},UA);df.set(t,e)},$A=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,FA)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?c_(n):t.toasts.forEach(r=>{c_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},fu=[];let pu={toasts:[]};function tl(t){pu=$A(pu,t),fu.forEach(e=>{e(pu)})}function BA({...t}){const e=zA(),n=s=>tl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>tl({type:"DISMISS_TOAST",toastId:e});return tl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function HA(){const[t,e]=b.useState(pu);return b.useEffect(()=>(fu.push(e),()=>{const n=fu.indexOf(e);n>-1&&fu.splice(n,1)}),[t]),{...t,toast:BA,dismiss:n=>tl({type:"DISMISS_TOAST",toastId:n})}}function Ze(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function u_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function G1(...t){return e=>{let n=!1;const r=t.map(s=>{const i=u_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():u_(t[s],null)}}}}function Rn(...t){return b.useCallback(G1(...t),t)}function Ud(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),c=n.length;n=[...n,o];const u=f=>{var v;const{scope:m,children:p,...S}=f,E=((v=m==null?void 0:m[t])==null?void 0:v[c])||a,w=b.useMemo(()=>S,Object.values(S));return g.jsx(E.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(f,m){var E;const p=((E=m==null?void 0:m[t])==null?void 0:E[c])||a,S=b.useContext(p);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,WA(s,...e)]}function WA(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Yu(t){const e=KA(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),c=a.find(QA);if(c){const u=c.props.children,d=a.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return g.jsx(e,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var qA=Yu("Slot");function KA(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=XA(s),a=YA(i,s.props);return s.type!==b.Fragment&&(a.ref=r?G1(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Q1=Symbol("radix.slottable");function GA(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Q1,e}function QA(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Q1}function YA(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function XA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function JA(t){const e=t+"CollectionProvider",[n,r]=Ud(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:w,children:v}=E,_=W.useRef(null),T=W.useRef(new Map).current;return g.jsx(s,{scope:w,itemMap:T,collectionRef:_,children:v})};o.displayName=e;const a=t+"CollectionSlot",c=Yu(a),u=W.forwardRef((E,w)=>{const{scope:v,children:_}=E,T=i(a,v),N=Rn(w,T.collectionRef);return g.jsx(c,{ref:N,children:_})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=Yu(d),p=W.forwardRef((E,w)=>{const{scope:v,children:_,...T}=E,N=W.useRef(null),D=Rn(w,N),M=i(d,v);return W.useEffect(()=>(M.itemMap.set(N,{ref:N,...T}),()=>void M.itemMap.delete(N))),g.jsx(m,{[f]:"",ref:D,children:_})});p.displayName=d;function S(E){const w=i(t+"CollectionConsumer",E);return W.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((M,I)=>T.indexOf(M.ref.current)-T.indexOf(I.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},S,r]}var ZA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=ZA.reduce((t,e)=>{const n=Yu(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Y1(t,e){t&&Xl.flushSync(()=>t.dispatchEvent(e))}function Ls(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function eP(t,e=globalThis==null?void 0:globalThis.document){const n=Ls(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var tP="DismissableLayer",Sp="dismissableLayer.update",nP="dismissableLayer.pointerDownOutside",rP="dismissableLayer.focusOutside",d_,X1=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ig=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=b.useContext(X1),[d,f]=b.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),S=Rn(e,I=>f(I)),E=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=E.indexOf(w),_=d?E.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,N=_>=v,D=iP(I=>{const x=I.target,A=[...u.branches].some(P=>P.contains(x));!N||A||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},m),M=oP(I=>{const x=I.target;[...u.branches].some(P=>P.contains(x))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},m);return eP(I=>{_===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},m),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(d_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),h_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=d_)}},[d,m,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),h_())},[d,u]),b.useEffect(()=>{const I=()=>p({});return document.addEventListener(Sp,I),()=>document.removeEventListener(Sp,I)},[]),g.jsx(Ht.div,{...c,ref:S,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:Ze(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ze(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ze(t.onPointerDownCapture,D.onPointerDownCapture)})});ig.displayName=tP;var sP="DismissableLayerBranch",J1=b.forwardRef((t,e)=>{const n=b.useContext(X1),r=b.useRef(null),s=Rn(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(Ht.div,{...t,ref:s})});J1.displayName=sP;function iP(t,e=globalThis==null?void 0:globalThis.document){const n=Ls(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){Z1(nP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function oP(t,e=globalThis==null?void 0:globalThis.document){const n=Ls(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&Z1(rP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function h_(){const t=new CustomEvent(Sp);document.dispatchEvent(t)}function Z1(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Y1(s,i):s.dispatchEvent(i)}var aP=ig,lP=J1,Ms=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},cP="Portal",eT=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);Ms(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?q1.createPortal(g.jsx(Ht.div,{...r,ref:e}),o):null});eT.displayName=cP;function uP(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var og=t=>{const{present:e,children:n}=t,r=dP(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=Rn(r.ref,hP(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};og.displayName="Presence";function dP(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,c]=uP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Uc(r.current);i.current=a==="mounted"?u:"none"},[a]),Ms(()=>{const u=r.current,d=s.current;if(d!==t){const m=i.current,p=Uc(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Ms(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const E=Uc(r.current).includes(p.animationName);if(p.target===e&&E&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=p=>{p.target===e&&(i.current=Uc(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Uc(t){return(t==null?void 0:t.animationName)||"none"}function hP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fP=Bw[" useInsertionEffect ".trim().toString()]||Ms;function pP({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=mP({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=b.useCallback(d=>{var f;if(a){const m=gP(d)?d(t):d;m!==t&&((f=o.current)==null||f.call(o,m))}else i(d)},[a,t,i,o]);return[c,u]}function mP({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return fP(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function gP(t){return typeof t=="function"}var yP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vP="VisuallyHidden",zd=b.forwardRef((t,e)=>g.jsx(Ht.span,{...t,ref:e,style:{...yP,...t.style}}));zd.displayName=vP;var _P=zd,ag="ToastProvider",[lg,wP,EP]=JA("Toast"),[tT,t3]=Ud("Toast",[EP]),[TP,$d]=tT(ag),nT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),m=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ag}\`. Expected non-empty \`string\`.`),g.jsx(lg.Provider,{scope:e,children:g.jsx(TP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};nT.displayName=ag;var rT="ToastViewport",xP=["F8"],Ip="toast.viewportPause",Cp="toast.viewportResume",sT=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=xP,label:s="Notifications ({hotkey})",...i}=t,o=$d(rT,n),a=wP(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),m=Rn(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;b.useEffect(()=>{const w=v=>{var T;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),b.useEffect(()=>{const w=c.current,v=f.current;if(S&&w&&v){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Ip);v.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Cp);v.dispatchEvent(M),o.isClosePausedRef.current=!1}},N=M=>{!w.contains(M.relatedTarget)&&T()},D=()=>{w.contains(document.activeElement)||T()};return w.addEventListener("focusin",_),w.addEventListener("focusout",N),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",D),window.addEventListener("blur",_),window.addEventListener("focus",T),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",D),window.removeEventListener("blur",_),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const E=b.useCallback(({tabbingDirection:w})=>{const _=a().map(T=>{const N=T.ref.current,D=[N,...MP(N)];return w==="forwards"?D:D.reverse()});return(w==="forwards"?_.reverse():_).flat()},[a]);return b.useEffect(()=>{const w=f.current;if(w){const v=_=>{var D,M,I;const T=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!T){const x=document.activeElement,A=_.shiftKey;if(_.target===w&&A){(D=u.current)==null||D.focus();return}const O=E({tabbingDirection:A?"backwards":"forwards"}),R=O.findIndex(H=>H===x);hf(O.slice(R+1))?_.preventDefault():A?(M=u.current)==null||M.focus():(I=d.current)==null||I.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[a,E]),g.jsxs(lP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&g.jsx(bp,{ref:u,onFocusFromOutsideViewport:()=>{const w=E({tabbingDirection:"forwards"});hf(w)}}),g.jsx(lg.Slot,{scope:n,children:g.jsx(Ht.ol,{tabIndex:-1,...i,ref:m})}),S&&g.jsx(bp,{ref:d,onFocusFromOutsideViewport:()=>{const w=E({tabbingDirection:"backwards"});hf(w)}})]})});sT.displayName=rT;var iT="ToastFocusProxy",bp=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=$d(iT,n);return g.jsx(zd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});bp.displayName=iT;var Jl="Toast",SP="toast.swipeStart",IP="toast.swipeMove",CP="toast.swipeCancel",bP="toast.swipeEnd",oT=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=pP({prop:r,defaultProp:s??!0,onChange:i,caller:Jl});return g.jsx(og,{present:n||a,children:g.jsx(RP,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Ls(t.onPause),onResume:Ls(t.onResume),onSwipeStart:Ze(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ze(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ze(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ze(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});oT.displayName=Jl;var[AP,PP]=tT(Jl,{onClose(){}}),RP=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...S}=t,E=$d(Jl,n),[w,v]=b.useState(null),_=Rn(e,H=>v(H)),T=b.useRef(null),N=b.useRef(null),D=s||E.duration,M=b.useRef(0),I=b.useRef(D),x=b.useRef(0),{onToastAdd:A,onToastRemove:P}=E,k=Ls(()=>{var ie;(w==null?void 0:w.contains(document.activeElement))&&((ie=E.viewport)==null||ie.focus()),o()}),O=b.useCallback(H=>{!H||H===1/0||(window.clearTimeout(x.current),M.current=new Date().getTime(),x.current=window.setTimeout(k,H))},[k]);b.useEffect(()=>{const H=E.viewport;if(H){const ie=()=>{O(I.current),u==null||u()},ne=()=>{const oe=new Date().getTime()-M.current;I.current=I.current-oe,window.clearTimeout(x.current),c==null||c()};return H.addEventListener(Ip,ne),H.addEventListener(Cp,ie),()=>{H.removeEventListener(Ip,ne),H.removeEventListener(Cp,ie)}}},[E.viewport,D,c,u,O]),b.useEffect(()=>{i&&!E.isClosePausedRef.current&&O(D)},[i,D,E.isClosePausedRef,O]),b.useEffect(()=>(A(),()=>P()),[A,P]);const R=b.useMemo(()=>w?fT(w):null,[w]);return E.viewport?g.jsxs(g.Fragment,{children:[R&&g.jsx(kP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),g.jsx(AP,{scope:n,onClose:k,children:Xl.createPortal(g.jsx(lg.ItemSlot,{scope:n,children:g.jsx(aP,{asChild:!0,onEscapeKeyDown:Ze(a,()=>{E.isFocusedToastEscapeKeyDownRef.current||k(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":E.swipeDirection,...S,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ze(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ze(t.onPointerDown,H=>{H.button===0&&(T.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ze(t.onPointerMove,H=>{if(!T.current)return;const ie=H.clientX-T.current.x,ne=H.clientY-T.current.y,oe=!!N.current,j=["left","right"].includes(E.swipeDirection),z=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,K=j?z(0,ie):0,re=j?0:z(0,ne),X=H.pointerType==="touch"?10:2,de={x:K,y:re},ce={originalEvent:H,delta:de};oe?(N.current=de,zc(IP,f,ce,{discrete:!1})):f_(de,E.swipeDirection,X)?(N.current=de,zc(SP,d,ce,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ie)>X||Math.abs(ne)>X)&&(T.current=null)}),onPointerUp:Ze(t.onPointerUp,H=>{const ie=N.current,ne=H.target;if(ne.hasPointerCapture(H.pointerId)&&ne.releasePointerCapture(H.pointerId),N.current=null,T.current=null,ie){const oe=H.currentTarget,j={originalEvent:H,delta:ie};f_(ie,E.swipeDirection,E.swipeThreshold)?zc(bP,p,j,{discrete:!0}):zc(CP,m,j,{discrete:!0}),oe.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),kP=t=>{const{__scopeToast:e,children:n,...r}=t,s=$d(Jl,e),[i,o]=b.useState(!1),[a,c]=b.useState(!1);return DP(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:g.jsx(eT,{asChild:!0,children:g.jsx(zd,{...r,children:i&&g.jsxs(g.Fragment,{children:[s.label," ",n]})})})},NP="ToastTitle",aT=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Ht.div,{...r,ref:e})});aT.displayName=NP;var OP="ToastDescription",lT=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Ht.div,{...r,ref:e})});lT.displayName=OP;var cT="ToastAction",uT=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(hT,{altText:n,asChild:!0,children:g.jsx(cg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${cT}\`. Expected non-empty \`string\`.`),null)});uT.displayName=cT;var dT="ToastClose",cg=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=PP(dT,n);return g.jsx(hT,{asChild:!0,children:g.jsx(Ht.button,{type:"button",...r,ref:e,onClick:Ze(t.onClick,s.onClose)})})});cg.displayName=dT;var hT=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return g.jsx(Ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function fT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),LP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...fT(r))}}),e}function zc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Y1(s,i):s.dispatchEvent(i)}var f_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function DP(t=()=>{}){const e=Ls(t);Ms(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function LP(t){return t.nodeType===t.ELEMENT_NODE}function MP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var VP=nT,pT=sT,mT=oT,gT=aT,yT=lT,vT=uT,_T=cg;function wT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=wT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ET(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=wT(t))&&(r&&(r+=" "),r+=e);return r}const p_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,m_=ET,TT=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return m_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=p_(d)||p_(f);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(S=>{let[E,w]=S;return Array.isArray(w)?w.includes({...i,...a}[E]):{...i,...a}[E]===w})?[...u,f,m]:u},[]);return m_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>b.createElement("svg",{ref:c,...FP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:xT("lucide",s),...a},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(UP,{ref:i,iconNode:e,className:xT(`lucide-${jP(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=lr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=lr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=lr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=lr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=lr("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=lr("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=lr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=lr("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=lr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=lr("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ug="-",KP=t=>{const e=QP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ug);return a[0]===""&&a.length!==1&&a.shift(),ST(a,e)||GP(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},ST=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?ST(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ug);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},v_=/^\[(.+)\]$/,GP=t=>{if(v_.test(t)){const e=v_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},QP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return XP(Object.entries(t.classGroups),n).forEach(([i,o])=>{Ap(o,r,i,e)}),r},Ap=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:__(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(YP(s)){Ap(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ap(o,__(e,i),n,r)})})},__=(t,e)=>{let n=t;return e.split(ug).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},YP=t=>t.isThemeGetter,XP=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,JP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},IT="!",ZP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,f;for(let w=0;w<a.length;w++){let v=a[w];if(u===0){if(v===s&&(r||a.slice(w,w+i)===e)){c.push(a.slice(d,w)),d=w+i;continue}if(v==="/"){f=w;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?a:a.substring(d),p=m.startsWith(IT),S=p?m.substring(1):m,E=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:S,maybePostfixModifierPosition:E}};return n?a=>n({className:a,parseClassName:o}):o},eR=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},tR=t=>({cache:JP(t.cacheSize),parseClassName:ZP(t),...KP(t)}),nR=/\s+/,rR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(nR);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let S=!!p,E=r(S?m.substring(0,p):m);if(!E){if(!S){a=u+(a.length>0?" "+a:a);continue}if(E=r(m),!E){a=u+(a.length>0?" "+a:a);continue}S=!1}const w=eR(d).join(":"),v=f?w+IT:w,_=v+E;if(i.includes(_))continue;i.push(_);const T=s(E,S);for(let N=0;N<T.length;++N){const D=T[N];i.push(v+D)}a=u+(a.length>0?" "+a:a)}return a};function sR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=CT(e))&&(r&&(r+=" "),r+=n);return r}const CT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=CT(t[r]))&&(n&&(n+=" "),n+=e);return n};function iR(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=tR(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=rR(c,n);return s(c,d),d}return function(){return i(sR.apply(null,arguments))}}const Ae=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bT=/^\[(?:([a-z-]+):)?(.+)\]$/i,oR=/^\d+\/\d+$/,aR=new Set(["px","full","screen"]),lR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pr=t=>go(t)||aR.has(t)||oR.test(t),Gr=t=>Xo(t,"length",wR),go=t=>!!t&&!Number.isNaN(Number(t)),pf=t=>Xo(t,"number",go),Da=t=>!!t&&Number.isInteger(Number(t)),fR=t=>t.endsWith("%")&&go(t.slice(0,-1)),ue=t=>bT.test(t),Qr=t=>lR.test(t),pR=new Set(["length","size","percentage"]),mR=t=>Xo(t,pR,AT),gR=t=>Xo(t,"position",AT),yR=new Set(["image","url"]),vR=t=>Xo(t,yR,TR),_R=t=>Xo(t,"",ER),La=()=>!0,Xo=(t,e,n)=>{const r=bT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},wR=t=>cR.test(t)&&!uR.test(t),AT=()=>!1,ER=t=>dR.test(t),TR=t=>hR.test(t),xR=()=>{const t=Ae("colors"),e=Ae("spacing"),n=Ae("blur"),r=Ae("brightness"),s=Ae("borderColor"),i=Ae("borderRadius"),o=Ae("borderSpacing"),a=Ae("borderWidth"),c=Ae("contrast"),u=Ae("grayscale"),d=Ae("hueRotate"),f=Ae("invert"),m=Ae("gap"),p=Ae("gradientColorStops"),S=Ae("gradientColorStopPositions"),E=Ae("inset"),w=Ae("margin"),v=Ae("opacity"),_=Ae("padding"),T=Ae("saturate"),N=Ae("scale"),D=Ae("sepia"),M=Ae("skew"),I=Ae("space"),x=Ae("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ue,e],O=()=>[ue,e],R=()=>["",pr,Gr],H=()=>["auto",go,ue],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ue],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[go,ue];return{cacheSize:500,separator:":",theme:{colors:[La],spacing:[pr,Gr],blur:["none","",Qr,ue],brightness:re(),borderColor:[t],borderRadius:["none","","full",Qr,ue],borderSpacing:O(),borderWidth:R(),contrast:re(),grayscale:z(),hueRotate:re(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[fR,Gr],inset:k(),margin:k(),opacity:re(),padding:O(),saturate:re(),scale:re(),sepia:z(),skew:re(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Qr]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),ue]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Da,ue]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Da,ue]}],"grid-cols":[{"grid-cols":[La]}],"col-start-end":[{col:["auto",{span:["full",Da,ue]},ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[La]}],"row-start-end":[{row:["auto",{span:[Da,ue]},ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Qr]},Qr]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qr,Gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pf]}],"font-family":[{font:[La]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",go,pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pr,Gr]}],"underline-offset":[{"underline-offset":["auto",pr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),gR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[pr,ue]}],"outline-w":[{outline:[pr,Gr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[pr,Gr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qr,_R]}],"shadow-color":[{shadow:[La]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Qr,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Da,ue]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pr,Gr,pf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SR=iR(xR);function Dt(...t){return SR(ET(t))}const IR=VP,PT=b.forwardRef(({className:t,...e},n)=>g.jsx(pT,{ref:n,className:Dt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));PT.displayName=pT.displayName;const CR=TT("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RT=b.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(mT,{ref:r,className:Dt(CR({variant:e}),t),...n}));RT.displayName=mT.displayName;const bR=b.forwardRef(({className:t,...e},n)=>g.jsx(vT,{ref:n,className:Dt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));bR.displayName=vT.displayName;const kT=b.forwardRef(({className:t,...e},n)=>g.jsx(_T,{ref:n,className:Dt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(WP,{className:"h-4 w-4"})}));kT.displayName=_T.displayName;const NT=b.forwardRef(({className:t,...e},n)=>g.jsx(gT,{ref:n,className:Dt("text-sm font-semibold",t),...e}));NT.displayName=gT.displayName;const OT=b.forwardRef(({className:t,...e},n)=>g.jsx(yT,{ref:n,className:Dt("text-sm opacity-90",t),...e}));OT.displayName=yT.displayName;function AR(){const{toasts:t}=HA();return g.jsxs(IR,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return g.jsxs(RT,{...i,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(NT,{children:n}),r&&g.jsx(OT,{children:r})]}),s,g.jsx(kT,{})]},e)}),g.jsx(PT,{})]})}var w_=["light","dark"],PR="(prefers-color-scheme: dark)",RR=b.createContext(void 0),kR={setTheme:t=>{},themes:[]},NR=()=>{var t;return(t=b.useContext(RR))!=null?t:kR};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?w_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(S,E=!1,w=!0)=>{let v=o?o[S]:S,_=E?S+"|| ''":`'${v}'`,T="";return s&&w&&!E&&w_.includes(S)&&(T+=`d.style.colorScheme = '${S}';`),n==="class"?E||v?T+=`c.add(${_})`:T+="null":v&&(T+=`d[s](n,${_})`),T},p=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${PR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var OR=t=>{switch(t){case"success":return MR;case"info":return jR;case"warning":return VR;case"error":return FR;default:return null}},DR=Array(12).fill(0),LR=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},DR.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),MR=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),VR=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jR=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FR=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UR=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zR=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Pp=1,$R=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Pp++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],W.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(HR(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Pp++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vt=new $R,BR=(t,e)=>{let n=(e==null?void 0:e.id)||Pp++;return Vt.addToast({title:t,...e,id:n}),n},HR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",WR=BR,qR=()=>Vt.toasts,KR=()=>Vt.getActiveToasts();Object.assign(WR,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:qR,getToasts:KR});function GR(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}GR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bc(t){return t.label!==void 0}var QR=3,YR="32px",XR="16px",E_=4e3,JR=356,ZR=14,ek=20,tk=200;function yn(...t){return t.filter(Boolean).join(" ")}function nk(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var rk=t=>{var e,n,r,s,i,o,a,c,u,d,f;let{invert:m,toast:p,unstyled:S,interacting:E,setHeights:w,visibleToasts:v,heights:_,index:T,toasts:N,expanded:D,removeToast:M,defaultRichColors:I,closeButton:x,style:A,cancelButtonStyle:P,actionButtonStyle:k,className:O="",descriptionClassName:R="",duration:H,position:ie,gap:ne,loadingIcon:oe,expandByDefault:j,classNames:z,icons:K,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:X}=t,[de,ce]=W.useState(null),[Ne,qe]=W.useState(null),[ye,Dn]=W.useState(!1),[fn,ur]=W.useState(!1),[Ln,dr]=W.useState(!1),[nn,Js]=W.useState(!1),[da,jr]=W.useState(!1),[Zs,Fr]=W.useState(0),[De,rt]=W.useState(0),Mn=W.useRef(p.duration||H||E_),cc=W.useRef(null),Vn=W.useRef(null),wh=T===0,ei=T+1<=v,bt=p.type,hr=p.dismissible!==!1,ha=p.className||"",Eh=p.descriptionClassName||"",Ui=W.useMemo(()=>_.findIndex(Z=>Z.toastId===p.id)||0,[_,p.id]),uc=W.useMemo(()=>{var Z;return(Z=p.closeButton)!=null?Z:x},[p.closeButton,x]),fa=W.useMemo(()=>p.duration||H||E_,[p.duration,H]),fr=W.useRef(0),jn=W.useRef(0),zi=W.useRef(0),Lt=W.useRef(null),[dc,$i]=ie.split("-"),pa=W.useMemo(()=>_.reduce((Z,Ee,Ie)=>Ie>=Ui?Z:Z+Ee.height,0),[_,Ui]),Ur=zR(),hc=p.invert||m,Ye=bt==="loading";jn.current=W.useMemo(()=>Ui*ne+pa,[Ui,pa]),W.useEffect(()=>{Mn.current=fa},[fa]),W.useEffect(()=>{Dn(!0)},[]),W.useEffect(()=>{let Z=Vn.current;if(Z){let Ee=Z.getBoundingClientRect().height;return rt(Ee),w(Ie=>[{toastId:p.id,height:Ee,position:p.position},...Ie]),()=>w(Ie=>Ie.filter(st=>st.toastId!==p.id))}},[w,p.id]),W.useLayoutEffect(()=>{if(!ye)return;let Z=Vn.current,Ee=Z.style.height;Z.style.height="auto";let Ie=Z.getBoundingClientRect().height;Z.style.height=Ee,rt(Ie),w(st=>st.find(Wt=>Wt.toastId===p.id)?st.map(Wt=>Wt.toastId===p.id?{...Wt,height:Ie}:Wt):[{toastId:p.id,height:Ie,position:p.position},...st])},[ye,p.title,p.description,w,p.id]);let pn=W.useCallback(()=>{ur(!0),Fr(jn.current),w(Z=>Z.filter(Ee=>Ee.toastId!==p.id)),setTimeout(()=>{M(p)},tk)},[p,M,w,jn]);W.useEffect(()=>{if(p.promise&&bt==="loading"||p.duration===1/0||p.type==="loading")return;let Z;return D||E||X&&Ur?(()=>{if(zi.current<fr.current){let Ee=new Date().getTime()-fr.current;Mn.current=Mn.current-Ee}zi.current=new Date().getTime()})():Mn.current!==1/0&&(fr.current=new Date().getTime(),Z=setTimeout(()=>{var Ee;(Ee=p.onAutoClose)==null||Ee.call(p,p),pn()},Mn.current)),()=>clearTimeout(Z)},[D,E,p,bt,X,Ur,pn]),W.useEffect(()=>{p.delete&&pn()},[pn,p.delete]);function ti(){var Z,Ee,Ie;return K!=null&&K.loading?W.createElement("div",{className:yn(z==null?void 0:z.loader,(Z=p==null?void 0:p.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":bt==="loading"},K.loading):oe?W.createElement("div",{className:yn(z==null?void 0:z.loader,(Ee=p==null?void 0:p.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":bt==="loading"},oe):W.createElement(LR,{className:yn(z==null?void 0:z.loader,(Ie=p==null?void 0:p.classNames)==null?void 0:Ie.loader),visible:bt==="loading"})}return W.createElement("li",{tabIndex:0,ref:Vn,className:yn(O,ha,z==null?void 0:z.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[bt],(n=p==null?void 0:p.classNames)==null?void 0:n[bt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:I,"data-styled":!(p.jsx||p.unstyled||S),"data-mounted":ye,"data-promise":!!p.promise,"data-swiped":da,"data-removed":fn,"data-visible":ei,"data-y-position":dc,"data-x-position":$i,"data-index":T,"data-front":wh,"data-swiping":Ln,"data-dismissible":hr,"data-type":bt,"data-invert":hc,"data-swipe-out":nn,"data-swipe-direction":Ne,"data-expanded":!!(D||j&&ye),style:{"--index":T,"--toasts-before":T,"--z-index":N.length-T,"--offset":`${fn?Zs:jn.current}px`,"--initial-height":j?"auto":`${De}px`,...A,...p.style},onDragEnd:()=>{dr(!1),ce(null),Lt.current=null},onPointerDown:Z=>{Ye||!hr||(cc.current=new Date,Fr(jn.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(dr(!0),Lt.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,Ee,Ie,st;if(nn||!hr)return;Lt.current=null;let Wt=Number(((Z=Vn.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Fn=Number(((Ee=Vn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rn=new Date().getTime()-((Ie=cc.current)==null?void 0:Ie.getTime()),Mt=de==="x"?Wt:Fn,mn=Math.abs(Mt)/rn;if(Math.abs(Mt)>=ek||mn>.11){Fr(jn.current),(st=p.onDismiss)==null||st.call(p,p),qe(de==="x"?Wt>0?"right":"left":Fn>0?"down":"up"),pn(),Js(!0),jr(!1);return}dr(!1),ce(null)},onPointerMove:Z=>{var Ee,Ie,st,Wt;if(!Lt.current||!hr||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Fn=Z.clientY-Lt.current.y,rn=Z.clientX-Lt.current.x,Mt=(Ie=t.swipeDirections)!=null?Ie:nk(ie);!de&&(Math.abs(rn)>1||Math.abs(Fn)>1)&&ce(Math.abs(rn)>Math.abs(Fn)?"x":"y");let mn={x:0,y:0};de==="y"?(Mt.includes("top")||Mt.includes("bottom"))&&(Mt.includes("top")&&Fn<0||Mt.includes("bottom")&&Fn>0)&&(mn.y=Fn):de==="x"&&(Mt.includes("left")||Mt.includes("right"))&&(Mt.includes("left")&&rn<0||Mt.includes("right")&&rn>0)&&(mn.x=rn),(Math.abs(mn.x)>0||Math.abs(mn.y)>0)&&jr(!0),(st=Vn.current)==null||st.style.setProperty("--swipe-amount-x",`${mn.x}px`),(Wt=Vn.current)==null||Wt.style.setProperty("--swipe-amount-y",`${mn.y}px`)}},uc&&!p.jsx?W.createElement("button",{"aria-label":re,"data-disabled":Ye,"data-close-button":!0,onClick:Ye||!hr?()=>{}:()=>{var Z;pn(),(Z=p.onDismiss)==null||Z.call(p,p)},className:yn(z==null?void 0:z.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:UR):null,p.jsx||b.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,bt||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:yn(z==null?void 0:z.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ti():null,p.type!=="loading"?p.icon||(K==null?void 0:K[bt])||OR(bt):null):null,W.createElement("div",{"data-content":"",className:yn(z==null?void 0:z.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:yn(z==null?void 0:z.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:yn(R,Eh,z==null?void 0:z.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),b.isValidElement(p.cancel)?p.cancel:p.cancel&&Bc(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:Z=>{var Ee,Ie;Bc(p.cancel)&&hr&&((Ie=(Ee=p.cancel).onClick)==null||Ie.call(Ee,Z),pn())},className:yn(z==null?void 0:z.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,b.isValidElement(p.action)?p.action:p.action&&Bc(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:Z=>{var Ee,Ie;Bc(p.action)&&((Ie=(Ee=p.action).onClick)==null||Ie.call(Ee,Z),!Z.defaultPrevented&&pn())},className:yn(z==null?void 0:z.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function T_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function sk(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?XR:YR;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var ik=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:S=QR,toastOptions:E,dir:w=T_(),gap:v=ZR,loadingIcon:_,icons:T,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:D}=t,[M,I]=W.useState([]),x=W.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[A,P]=W.useState([]),[k,O]=W.useState(!1),[R,H]=W.useState(!1),[ie,ne]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=W.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=W.useRef(null),K=W.useRef(!1),re=W.useCallback(X=>{I(de=>{var ce;return(ce=de.find(Ne=>Ne.id===X.id))!=null&&ce.delete||Vt.dismiss(X.id),de.filter(({id:Ne})=>Ne!==X.id)})},[]);return W.useEffect(()=>Vt.subscribe(X=>{if(X.dismiss){I(de=>de.map(ce=>ce.id===X.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{q1.flushSync(()=>{I(de=>{let ce=de.findIndex(Ne=>Ne.id===X.id);return ce!==-1?[...de.slice(0,ce),{...de[ce],...X},...de.slice(ce+1)]:[X,...de]})})})}),[]),W.useEffect(()=>{if(d!=="system"){ne(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:de})=>{ne(de?"dark":"light")})}catch{X.addListener(({matches:ce})=>{try{ne(ce?"dark":"light")}catch(Ne){console.error(Ne)}})}},[d]),W.useEffect(()=>{M.length<=1&&O(!1)},[M]),W.useEffect(()=>{let X=de=>{var ce,Ne;s.every(qe=>de[qe]||de.code===qe)&&(O(!0),(ce=oe.current)==null||ce.focus()),de.code==="Escape"&&(document.activeElement===oe.current||(Ne=oe.current)!=null&&Ne.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),W.useEffect(()=>{if(oe.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,K.current=!1)}},[oe.current]),W.createElement("section",{ref:e,"aria-label":`${N} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((X,de)=>{var ce;let[Ne,qe]=X.split("-");return M.length?W.createElement("ol",{key:X,dir:w==="auto"?T_():w,tabIndex:-1,ref:oe,className:a,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":Ne,"data-lifted":k&&M.length>1&&!i,"data-x-position":qe,style:{"--front-toast-height":`${((ce=A[0])==null?void 0:ce.height)||0}px`,"--width":`${JR}px`,"--gap":`${v}px`,...p,...sk(c,u)},onBlur:ye=>{K.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(K.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||K.current||(K.current=!0,z.current=ye.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{R||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},M.filter(ye=>!ye.position&&de===0||ye.position===X).map((ye,Dn)=>{var fn,ur;return W.createElement(rk,{key:ye.id,icons:T,index:Dn,toast:ye,defaultRichColors:f,duration:(fn=E==null?void 0:E.duration)!=null?fn:m,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:n,visibleToasts:S,closeButton:(ur=E==null?void 0:E.closeButton)!=null?ur:o,interacting:R,position:X,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:re,toasts:M.filter(Ln=>Ln.position==ye.position),heights:A.filter(Ln=>Ln.position==ye.position),setHeights:P,expandByDefault:i,gap:v,loadingIcon:_,expanded:k,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const ok=({...t})=>{const{theme:e="system"}=NR();return g.jsx(ik,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},ak=["top","right","bottom","left"],Vs=Math.min,Gt=Math.max,Xu=Math.round,Hc=Math.floor,Jn=t=>({x:t,y:t}),lk={left:"right",right:"left",bottom:"top",top:"bottom"},ck={start:"end",end:"start"};function Rp(t,e,n){return Gt(t,Vs(e,n))}function Rr(t,e){return typeof t=="function"?t(e):t}function kr(t){return t.split("-")[0]}function Jo(t){return t.split("-")[1]}function dg(t){return t==="x"?"y":"x"}function hg(t){return t==="y"?"height":"width"}const uk=new Set(["top","bottom"]);function Qn(t){return uk.has(kr(t))?"y":"x"}function fg(t){return dg(Qn(t))}function dk(t,e,n){n===void 0&&(n=!1);const r=Jo(t),s=fg(t),i=hg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ju(o)),[o,Ju(o)]}function hk(t){const e=Ju(t);return[kp(t),e,kp(e)]}function kp(t){return t.replace(/start|end/g,e=>ck[e])}const x_=["left","right"],S_=["right","left"],fk=["top","bottom"],pk=["bottom","top"];function mk(t,e,n){switch(t){case"top":case"bottom":return n?e?S_:x_:e?x_:S_;case"left":case"right":return e?fk:pk;default:return[]}}function gk(t,e,n,r){const s=Jo(t);let i=mk(kr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(kp)))),i}function Ju(t){return t.replace(/left|right|bottom|top/g,e=>lk[e])}function yk(t){return{top:0,right:0,bottom:0,left:0,...t}}function DT(t){return typeof t!="number"?yk(t):{top:t,right:t,bottom:t,left:t}}function Zu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function I_(t,e,n){let{reference:r,floating:s}=t;const i=Qn(e),o=fg(e),a=hg(o),c=kr(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Jo(e)){case"start":p[o]-=m*(n&&u?-1:1);break;case"end":p[o]+=m*(n&&u?-1:1);break}return p}const vk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=I_(u,r,c),m=r,p={},S=0;for(let E=0;E<a.length;E++){const{name:w,fn:v}=a[E],{x:_,y:T,data:N,reset:D}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,f=T??f,p={...p,[w]:{...p[w],...N}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:f}=I_(u,m,c)),E=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Cl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Rr(e,t),S=DT(p),w=a[m?f==="floating"?"reference":"floating":f],v=Zu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),_=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Zu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:T,strategy:c}):_);return{top:(v.top-D.top+S.top)/N.y,bottom:(D.bottom-v.bottom+S.bottom)/N.y,left:(v.left-D.left+S.left)/N.x,right:(D.right-v.right+S.right)/N.x}}const _k=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Rr(t,e)||{};if(u==null)return{};const f=DT(d),m={x:n,y:r},p=fg(s),S=hg(p),E=await o.getDimensions(u),w=p==="y",v=w?"top":"left",_=w?"bottom":"right",T=w?"clientHeight":"clientWidth",N=i.reference[S]+i.reference[p]-m[p]-i.floating[S],D=m[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=M?M[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(M)))&&(I=a.floating[T]||i.floating[S]);const x=N/2-D/2,A=I/2-E[S]/2-1,P=Vs(f[v],A),k=Vs(f[_],A),O=P,R=I-E[S]-k,H=I/2-E[S]/2+x,ie=Rp(O,H,R),ne=!c.arrow&&Jo(s)!=null&&H!==ie&&i.reference[S]/2-(H<O?P:k)-E[S]/2<0,oe=ne?H<O?H-O:H-R:0;return{[p]:m[p]+oe,data:{[p]:ie,centerOffset:H-ie-oe,...ne&&{alignmentOffset:oe}},reset:ne}}}),wk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,...w}=Rr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=kr(s),_=Qn(a),T=kr(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=m||(T||!E?[Ju(a)]:hk(a)),M=S!=="none";!m&&M&&D.push(...gk(a,E,S,N));const I=[a,...D],x=await Cl(e,w),A=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(x[v]),f){const H=dk(s,o,N);A.push(x[H[0]],x[H[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(H=>H<=0)){var k,O;const H=(((k=i.flip)==null?void 0:k.index)||0)+1,ie=I[H];if(ie&&(!(f==="alignment"?_!==Qn(ie):!1)||P.every(j=>j.overflows[0]>0&&Qn(j.placement)===_)))return{data:{index:H,overflows:P},reset:{placement:ie}};let ne=(O=P.filter(oe=>oe.overflows[0]<=0).sort((oe,j)=>oe.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!ne)switch(p){case"bestFit":{var R;const oe=(R=P.filter(j=>{if(M){const z=Qn(j.placement);return z===_||z==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(z=>z>0).reduce((z,K)=>z+K,0)]).sort((j,z)=>j[1]-z[1])[0])==null?void 0:R[0];oe&&(ne=oe);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function C_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function b_(t){return ak.some(e=>t[e]>=0)}const Ek=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Rr(t,e);switch(r){case"referenceHidden":{const i=await Cl(e,{...s,elementContext:"reference"}),o=C_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:b_(o)}}}case"escaped":{const i=await Cl(e,{...s,altBoundary:!0}),o=C_(i,n.floating);return{data:{escapedOffsets:o,escaped:b_(o)}}}default:return{}}}}},LT=new Set(["left","top"]);async function Tk(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=kr(n),a=Jo(n),c=Qn(n)==="y",u=LT.has(o)?-1:1,d=i&&c?-1:1,f=Rr(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(p=a==="end"?S*-1:S),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const xk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await Tk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Sk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:v,y:_}=w;return{x:v,y:_}}},...c}=Rr(t,e),u={x:n,y:r},d=await Cl(e,c),f=Qn(kr(s)),m=dg(f);let p=u[m],S=u[f];if(i){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",_=p+d[w],T=p-d[v];p=Rp(_,p,T)}if(o){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",_=S+d[w],T=S-d[v];S=Rp(_,S,T)}const E=a.fn({...e,[m]:p,[f]:S});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[m]:i,[f]:o}}}}}},Ik=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Rr(t,e),d={x:n,y:r},f=Qn(s),m=dg(f);let p=d[m],S=d[f];const E=Rr(a,e),w=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(c){const T=m==="y"?"height":"width",N=i.reference[m]-i.floating[T]+w.mainAxis,D=i.reference[m]+i.reference[T]-w.mainAxis;p<N?p=N:p>D&&(p=D)}if(u){var v,_;const T=m==="y"?"width":"height",N=LT.has(kr(s)),D=i.reference[f]-i.floating[T]+(N&&((v=o.offset)==null?void 0:v[f])||0)+(N?0:w.crossAxis),M=i.reference[f]+i.reference[T]+(N?0:((_=o.offset)==null?void 0:_[f])||0)-(N?w.crossAxis:0);S<D?S=D:S>M&&(S=M)}return{[m]:p,[f]:S}}}},Ck=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Rr(t,e),d=await Cl(e,u),f=kr(s),m=Jo(s),p=Qn(s)==="y",{width:S,height:E}=i.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=f,w=m==="end"?"top":"bottom");const _=E-d.top-d.bottom,T=S-d.left-d.right,N=Vs(E-d[w],_),D=Vs(S-d[v],T),M=!e.middlewareData.shift;let I=N,x=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),M&&!m){const P=Gt(d.left,0),k=Gt(d.right,0),O=Gt(d.top,0),R=Gt(d.bottom,0);p?x=S-2*(P!==0||k!==0?P+k:Gt(d.left,d.right)):I=E-2*(O!==0||R!==0?O+R:Gt(d.top,d.bottom))}await c({...e,availableWidth:x,availableHeight:I});const A=await o.getDimensions(a.floating);return S!==A.width||E!==A.height?{reset:{rects:!0}}:{}}}};function Bd(){return typeof window<"u"}function Zo(t){return MT(t)?(t.nodeName||"").toLowerCase():"#document"}function Jt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cr(t){var e;return(e=(MT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function MT(t){return Bd()?t instanceof Node||t instanceof Jt(t).Node:!1}function kn(t){return Bd()?t instanceof Element||t instanceof Jt(t).Element:!1}function ir(t){return Bd()?t instanceof HTMLElement||t instanceof Jt(t).HTMLElement:!1}function A_(t){return!Bd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jt(t).ShadowRoot}const bk=new Set(["inline","contents"]);function Zl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Nn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!bk.has(s)}const Ak=new Set(["table","td","th"]);function Pk(t){return Ak.has(Zo(t))}const Rk=[":popover-open",":modal"];function Hd(t){return Rk.some(e=>{try{return t.matches(e)}catch{return!1}})}const kk=["transform","translate","scale","rotate","perspective"],Nk=["transform","translate","scale","rotate","perspective","filter"],Ok=["paint","layout","strict","content"];function pg(t){const e=mg(),n=kn(t)?Nn(t):t;return kk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Nk.some(r=>(n.willChange||"").includes(r))||Ok.some(r=>(n.contain||"").includes(r))}function Dk(t){let e=js(t);for(;ir(e)&&!jo(e);){if(pg(e))return e;if(Hd(e))return null;e=js(e)}return null}function mg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Lk=new Set(["html","body","#document"]);function jo(t){return Lk.has(Zo(t))}function Nn(t){return Jt(t).getComputedStyle(t)}function Wd(t){return kn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function js(t){if(Zo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||A_(t)&&t.host||cr(t);return A_(e)?e.host:e}function VT(t){const e=js(t);return jo(e)?t.ownerDocument?t.ownerDocument.body:t.body:ir(e)&&Zl(e)?e:VT(e)}function bl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=VT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Jt(s);if(i){const a=Np(o);return e.concat(o,o.visualViewport||[],Zl(s)?s:[],a&&n?bl(a):[])}return e.concat(s,bl(s,[],n))}function Np(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jT(t){const e=Nn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ir(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Xu(n)!==i||Xu(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function gg(t){return kn(t)?t:t.contextElement}function yo(t){const e=gg(t);if(!ir(e))return Jn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=jT(e);let o=(i?Xu(n.width):n.width)/r,a=(i?Xu(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Mk=Jn(0);function FT(t){const e=Jt(t);return!mg()||!e.visualViewport?Mk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Vk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jt(t)?!1:e}function Ai(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=gg(t);let o=Jn(1);e&&(r?kn(r)&&(o=yo(r)):o=yo(t));const a=Vk(i,n,r)?FT(i):Jn(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=Jt(i),p=r&&kn(r)?Jt(r):r;let S=m,E=Np(S);for(;E&&r&&p!==S;){const w=yo(E),v=E.getBoundingClientRect(),_=Nn(E),T=v.left+(E.clientLeft+parseFloat(_.paddingLeft))*w.x,N=v.top+(E.clientTop+parseFloat(_.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=T,u+=N,S=Jt(E),E=Np(S)}}return Zu({width:d,height:f,x:c,y:u})}function yg(t,e){const n=Wd(t).scrollLeft;return e?e.left+n:Ai(cr(t)).left+n}function UT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:yg(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function jk(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=cr(r),a=e?Hd(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Jn(1);const d=Jn(0),f=ir(r);if((f||!f&&!i)&&((Zo(r)!=="body"||Zl(o))&&(c=Wd(r)),ir(r))){const p=Ai(r);u=yo(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=o&&!f&&!i?UT(o,c,!0):Jn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Fk(t){return Array.from(t.getClientRects())}function Uk(t){const e=cr(t),n=Wd(t),r=t.ownerDocument.body,s=Gt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Gt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+yg(t);const a=-n.scrollTop;return Nn(r).direction==="rtl"&&(o+=Gt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function zk(t,e){const n=Jt(t),r=cr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=mg();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const $k=new Set(["absolute","fixed"]);function Bk(t,e){const n=Ai(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=ir(t)?yo(t):Jn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function P_(t,e,n){let r;if(e==="viewport")r=zk(t,n);else if(e==="document")r=Uk(cr(t));else if(kn(e))r=Bk(e,n);else{const s=FT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Zu(r)}function zT(t,e){const n=js(t);return n===e||!kn(n)||jo(n)?!1:Nn(n).position==="fixed"||zT(n,e)}function Hk(t,e){const n=e.get(t);if(n)return n;let r=bl(t,[],!1).filter(a=>kn(a)&&Zo(a)!=="body"),s=null;const i=Nn(t).position==="fixed";let o=i?js(t):t;for(;kn(o)&&!jo(o);){const a=Nn(o),c=pg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&$k.has(s.position)||Zl(o)&&!c&&zT(t,o))?r=r.filter(d=>d!==o):s=a,o=js(o)}return e.set(t,r),r}function Wk(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Hd(e)?[]:Hk(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const f=P_(e,d,s);return u.top=Gt(f.top,u.top),u.right=Vs(f.right,u.right),u.bottom=Vs(f.bottom,u.bottom),u.left=Gt(f.left,u.left),u},P_(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qk(t){const{width:e,height:n}=jT(t);return{width:e,height:n}}function Kk(t,e,n){const r=ir(e),s=cr(e),i=n==="fixed",o=Ai(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Jn(0);function u(){c.x=yg(s)}if(r||!r&&!i)if((Zo(e)!=="body"||Zl(s))&&(a=Wd(e)),r){const p=Ai(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?UT(s,a):Jn(0),f=o.left+a.scrollLeft-c.x-d.x,m=o.top+a.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function mf(t){return Nn(t).position==="static"}function R_(t,e){if(!ir(t)||Nn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return cr(t)===n&&(n=n.ownerDocument.body),n}function $T(t,e){const n=Jt(t);if(Hd(t))return n;if(!ir(t)){let s=js(t);for(;s&&!jo(s);){if(kn(s)&&!mf(s))return s;s=js(s)}return n}let r=R_(t,e);for(;r&&Pk(r)&&mf(r);)r=R_(r,e);return r&&jo(r)&&mf(r)&&!pg(r)?n:r||Dk(t)||n}const Gk=async function(t){const e=this.getOffsetParent||$T,n=this.getDimensions,r=await n(t.floating);return{reference:Kk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Qk(t){return Nn(t).direction==="rtl"}const Yk={convertOffsetParentRelativeRectToViewportRelativeRect:jk,getDocumentElement:cr,getClippingRect:Wk,getOffsetParent:$T,getElementRects:Gk,getClientRects:Fk,getDimensions:qk,getScale:yo,isElement:kn,isRTL:Qk};function BT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Xk(t,e){let n=null,r;const s=cr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(a||e(),!m||!p)return;const S=Hc(f),E=Hc(s.clientWidth-(d+m)),w=Hc(s.clientHeight-(f+p)),v=Hc(d),T={rootMargin:-S+"px "+-E+"px "+-w+"px "+-v+"px",threshold:Gt(0,Vs(1,c))||1};let N=!0;function D(M){const I=M[0].intersectionRatio;if(I!==c){if(!N)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!BT(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(D,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(t)}return o(!0),i}function Jk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=gg(t),d=s||i?[...u?bl(u):[],...bl(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=u&&a?Xk(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(v=>{let[_]=v;_&&_.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let S,E=c?Ai(t):null;c&&w();function w(){const v=Ai(t);E&&!BT(E,v)&&n(),E=v,S=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(S)}}const Zk=xk,eN=Sk,tN=wk,nN=Ck,rN=Ek,k_=_k,sN=Ik,iN=(t,e,n)=>{const r=new Map,s={platform:Yk,...n},i={...s.platform,_c:r};return vk(t,e,{...s,platform:i})};var oN=typeof document<"u",aN=function(){},mu=oN?b.useLayoutEffect:aN;function ed(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ed(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ed(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function HT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function N_(t,e){const n=HT(t);return Math.round(e*n)/n}function gf(t){const e=b.useRef(t);return mu(()=>{e.current=t}),e}function lN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=b.useState(r);ed(m,r)||p(r);const[S,E]=b.useState(null),[w,v]=b.useState(null),_=b.useCallback(j=>{j!==M.current&&(M.current=j,E(j))},[]),T=b.useCallback(j=>{j!==I.current&&(I.current=j,v(j))},[]),N=i||S,D=o||w,M=b.useRef(null),I=b.useRef(null),x=b.useRef(d),A=c!=null,P=gf(c),k=gf(s),O=gf(u),R=b.useCallback(()=>{if(!M.current||!I.current)return;const j={placement:e,strategy:n,middleware:m};k.current&&(j.platform=k.current),iN(M.current,I.current,j).then(z=>{const K={...z,isPositioned:O.current!==!1};H.current&&!ed(x.current,K)&&(x.current=K,Xl.flushSync(()=>{f(K)}))})},[m,e,n,k,O]);mu(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const H=b.useRef(!1);mu(()=>(H.current=!0,()=>{H.current=!1}),[]),mu(()=>{if(N&&(M.current=N),D&&(I.current=D),N&&D){if(P.current)return P.current(N,D,R);R()}},[N,D,R,P,A]);const ie=b.useMemo(()=>({reference:M,floating:I,setReference:_,setFloating:T}),[_,T]),ne=b.useMemo(()=>({reference:N,floating:D}),[N,D]),oe=b.useMemo(()=>{const j={position:n,left:0,top:0};if(!ne.floating)return j;const z=N_(ne.floating,d.x),K=N_(ne.floating,d.y);return a?{...j,transform:"translate("+z+"px, "+K+"px)",...HT(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:K}},[n,a,ne.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:R,refs:ie,elements:ne,floatingStyles:oe}),[d,R,ie,ne,oe])}const cN=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?k_({element:r.current,padding:s}).fn(n):{}:r?k_({element:r,padding:s}).fn(n):{}}}},uN=(t,e)=>({...Zk(t),options:[t,e]}),dN=(t,e)=>({...eN(t),options:[t,e]}),hN=(t,e)=>({...sN(t),options:[t,e]}),fN=(t,e)=>({...tN(t),options:[t,e]}),pN=(t,e)=>({...nN(t),options:[t,e]}),mN=(t,e)=>({...rN(t),options:[t,e]}),gN=(t,e)=>({...cN(t),options:[t,e]});var yN="Arrow",WT=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return g.jsx(Ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});WT.displayName=yN;var vN=WT;function _N(t){const[e,n]=b.useState(void 0);return Ms(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var qT="Popper",[KT,GT]=Ud(qT),[r3,QT]=KT(qT),YT="PopperAnchor",XT=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=QT(YT,n),o=b.useRef(null),a=Rn(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Ht.div,{...s,ref:a})});XT.displayName=YT;var vg="PopperContent",[wN,EN]=KT(vg),JT=b.forwardRef((t,e)=>{var ye,Dn,fn,ur,Ln,dr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:S,...E}=t,w=QT(vg,n),[v,_]=b.useState(null),T=Rn(e,nn=>_(nn)),[N,D]=b.useState(null),M=_N(N),I=(M==null?void 0:M.width)??0,x=(M==null?void 0:M.height)??0,A=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,R={padding:P,boundary:k.filter(xN),altBoundary:O},{refs:H,floatingStyles:ie,placement:ne,isPositioned:oe,middlewareData:j}=lN({strategy:"fixed",placement:A,whileElementsMounted:(...nn)=>Jk(...nn,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[uN({mainAxis:s+x,alignmentAxis:o}),c&&dN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hN():void 0,...R}),c&&fN({...R}),pN({...R,apply:({elements:nn,rects:Js,availableWidth:da,availableHeight:jr})=>{const{width:Zs,height:Fr}=Js.reference,De=nn.floating.style;De.setProperty("--radix-popper-available-width",`${da}px`),De.setProperty("--radix-popper-available-height",`${jr}px`),De.setProperty("--radix-popper-anchor-width",`${Zs}px`),De.setProperty("--radix-popper-anchor-height",`${Fr}px`)}}),N&&gN({element:N,padding:a}),SN({arrowWidth:I,arrowHeight:x}),m&&mN({strategy:"referenceHidden",...R})]}),[z,K]=tx(ne),re=Ls(S);Ms(()=>{oe&&(re==null||re())},[oe,re]);const X=(ye=j.arrow)==null?void 0:ye.x,de=(Dn=j.arrow)==null?void 0:Dn.y,ce=((fn=j.arrow)==null?void 0:fn.centerOffset)!==0,[Ne,qe]=b.useState();return Ms(()=>{v&&qe(window.getComputedStyle(v).zIndex)},[v]),g.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:oe?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(ur=j.transformOrigin)==null?void 0:ur.x,(Ln=j.transformOrigin)==null?void 0:Ln.y].join(" "),...((dr=j.hide)==null?void 0:dr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(wN,{scope:n,placedSide:z,onArrowChange:D,arrowX:X,arrowY:de,shouldHideArrow:ce,children:g.jsx(Ht.div,{"data-side":z,"data-align":K,...E,ref:T,style:{...E.style,animation:oe?void 0:"none"}})})})});JT.displayName=vg;var ZT="PopperArrow",TN={top:"bottom",right:"left",bottom:"top",left:"right"},ex=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=EN(ZT,r),o=TN[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(vN,{...s,ref:n,style:{...s.style,display:"block"}})})});ex.displayName=ZT;function xN(t){return t!==null}var SN=t=>({name:"transformOrigin",options:t,fn(e){var w,v,_;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=tx(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((_=s.arrow)==null?void 0:_.y)??0)+c/2;let S="",E="";return u==="bottom"?(S=o?f:`${m}px`,E=`${-c}px`):u==="top"?(S=o?f:`${m}px`,E=`${r.floating.height+c}px`):u==="right"?(S=`${-c}px`,E=o?f:`${p}px`):u==="left"&&(S=`${r.floating.width+c}px`,E=o?f:`${p}px`),{data:{x:S,y:E}}}});function tx(t){const[e,n="center"]=t.split("-");return[e,n]}var IN=XT,CN=JT,bN=ex,[qd,s3]=Ud("Tooltip",[GT]),_g=GT(),nx="TooltipProvider",AN=700,O_="tooltip.open",[PN,rx]=qd(nx),sx=t=>{const{__scopeTooltip:e,delayDuration:n=AN,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=b.useRef(!0),a=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),g.jsx(PN,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};sx.displayName=nx;var ix="Tooltip",[i3,Kd]=qd(ix),Op="TooltipTrigger",RN=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Kd(Op,n),i=rx(Op,n),o=_g(n),a=b.useRef(null),c=Rn(e,a,s.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(IN,{asChild:!0,...o,children:g.jsx(Ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ze(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ze(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ze(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ze(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ze(t.onBlur,s.onClose),onClick:Ze(t.onClick,s.onClose)})})});RN.displayName=Op;var kN="TooltipPortal",[o3,NN]=qd(kN,{forceMount:void 0}),Fo="TooltipContent",ox=b.forwardRef((t,e)=>{const n=NN(Fo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Kd(Fo,t.__scopeTooltip);return g.jsx(og,{present:r||o.open,children:o.disableHoverableContent?g.jsx(ax,{side:s,...i,ref:e}):g.jsx(ON,{side:s,...i,ref:e})})}),ON=b.forwardRef((t,e)=>{const n=Kd(Fo,t.__scopeTooltip),r=rx(Fo,t.__scopeTooltip),s=b.useRef(null),i=Rn(e,s),[o,a]=b.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=b.useCallback(()=>{a(null),f(!1)},[f]),p=b.useCallback((S,E)=>{const w=S.currentTarget,v={x:S.clientX,y:S.clientY},_=jN(v,w.getBoundingClientRect()),T=FN(v,_),N=UN(E.getBoundingClientRect()),D=$N([...T,...N]);a(D),f(!0)},[f]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(c&&d){const S=w=>p(w,d),E=w=>p(w,c);return c.addEventListener("pointerleave",S),d.addEventListener("pointerleave",E),()=>{c.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",E)}}},[c,d,p,m]),b.useEffect(()=>{if(o){const S=E=>{const w=E.target,v={x:E.clientX,y:E.clientY},_=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),T=!zN(v,o);_?m():T&&(m(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,d,o,u,m]),g.jsx(ax,{...t,ref:i})}),[DN,LN]=qd(ix,{isInside:!1}),MN=GA("TooltipContent"),ax=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Kd(Fo,n),u=_g(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(O_,d),()=>document.removeEventListener(O_,d)),[d]),b.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),g.jsx(ig,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:g.jsxs(CN,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(MN,{children:r}),g.jsx(DN,{scope:n,isInside:!0,children:g.jsx(_P,{id:c.contentId,role:"tooltip",children:s||r})})]})})});ox.displayName=Fo;var lx="TooltipArrow",VN=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=_g(n);return LN(lx,n).isInside?null:g.jsx(bN,{...s,...r,ref:e})});VN.displayName=lx;function jN(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function FN(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function UN(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function zN(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,d=a.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function $N(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),BN(e)}function BN(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var HN=sx,cx=ox;const WN=HN,qN=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(cx,{ref:r,sideOffset:e,className:Dt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));qN.displayName=cx.displayName;var Gd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qd=typeof window>"u"||"Deno"in globalThis;function _n(){}function KN(t,e){return typeof t=="function"?t(e):t}function GN(t){return typeof t=="number"&&t>=0&&t!==1/0}function QN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Dp(t,e){return typeof t=="function"?t(e):t}function YN(t,e){return typeof t=="function"?t(e):t}function D_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==wg(o,e.options))return!1}else if(!Pl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function L_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Al(e.options.mutationKey)!==Al(i))return!1}else if(!Pl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function wg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Al)(t)}function Al(t){return JSON.stringify(t,(e,n)=>Lp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Pl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Pl(t[n],e[n])):!1}function ux(t,e){if(t===e)return t;const n=M_(t)&&M_(e);if(n||Lp(t)&&Lp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=ux(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function M_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lp(t){if(!V_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!V_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function V_(t){return Object.prototype.toString.call(t)==="[object Object]"}function XN(t){return new Promise(e=>{setTimeout(e,t)})}function JN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ux(t,e):e}function ZN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function e2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Eg=Symbol();function dx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Eg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var pi,cs,xo,Sw,t2=(Sw=class extends Gd{constructor(){super();we(this,pi);we(this,cs);we(this,xo);le(this,xo,e=>{if(!Qd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,cs)||this.setEventListener(F(this,xo))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,cs))==null||e.call(this),le(this,cs,void 0))}setEventListener(e){var n;le(this,xo,e),(n=F(this,cs))==null||n.call(this),le(this,cs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,pi)!==e&&(le(this,pi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,pi)=="boolean"?F(this,pi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},pi=new WeakMap,cs=new WeakMap,xo=new WeakMap,Sw),hx=new t2,So,us,Io,Iw,n2=(Iw=class extends Gd{constructor(){super();we(this,So,!0);we(this,us);we(this,Io);le(this,Io,e=>{if(!Qd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,us)||this.setEventListener(F(this,Io))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,us))==null||e.call(this),le(this,us,void 0))}setEventListener(e){var n;le(this,Io,e),(n=F(this,us))==null||n.call(this),le(this,us,e(this.setOnline.bind(this)))}setOnline(e){F(this,So)!==e&&(le(this,So,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,So)}},So=new WeakMap,us=new WeakMap,Io=new WeakMap,Iw),td=new n2;function r2(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function s2(t){return Math.min(1e3*2**t,3e4)}function fx(t){return(t??"online")==="online"?td.isOnline():!0}var px=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function yf(t){return t instanceof px}function mx(t){let e=!1,n=0,r=!1,s;const i=r2(),o=E=>{var w;r||(m(new px(E)),(w=t.abort)==null||w.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>hx.isFocused()&&(t.networkMode==="always"||td.isOnline())&&t.canRun(),d=()=>fx(t.networkMode)&&t.canRun(),f=E=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,E),s==null||s(),i.resolve(E))},m=E=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,E),s==null||s(),i.reject(E))},p=()=>new Promise(E=>{var w;s=v=>{(r||u())&&E(v)},(w=t.onPause)==null||w.call(t)}).then(()=>{var E;s=void 0,r||(E=t.onContinue)==null||E.call(t)}),S=()=>{if(r)return;let E;const w=n===0?t.initialPromise:void 0;try{E=w??t.fn()}catch(v){E=Promise.reject(v)}Promise.resolve(E).then(f).catch(v=>{var M;if(r)return;const _=t.retry??(Qd?0:3),T=t.retryDelay??s2,N=typeof T=="function"?T(n,v):T,D=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!D){m(v);return}n++,(M=t.onFail)==null||M.call(t,n,v),XN(N).then(()=>u()?void 0:p()).then(()=>{e?m(v):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?S():p().then(S),i)}}var i2=t=>setTimeout(t,0);function o2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=i2;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Rt=o2(),mi,Cw,gx=(Cw=class{constructor(){we(this,mi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GN(this.gcTime)&&le(this,mi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qd?1/0:5*60*1e3))}clearGcTimeout(){F(this,mi)&&(clearTimeout(F(this,mi)),le(this,mi,void 0))}},mi=new WeakMap,Cw),Co,gi,sn,yi,Et,Hl,vi,wn,mr,bw,a2=(bw=class extends gx{constructor(n){super();we(this,wn);we(this,Co);we(this,gi);we(this,sn);we(this,yi);we(this,Et);we(this,Hl);we(this,vi);le(this,vi,!1),le(this,Hl,n.defaultOptions),this.setOptions(n.options),this.observers=[],le(this,yi,n.client),le(this,sn,F(this,yi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,le(this,Co,c2(this.options)),this.state=n.state??F(this,Co),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,Et))==null?void 0:n.promise}setOptions(n){this.options={...F(this,Hl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,sn).remove(this)}setData(n,r){const s=JN(this.state.data,n,this.options);return yt(this,wn,mr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){yt(this,wn,mr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,Et))==null?void 0:s.promise;return(i=F(this,Et))==null||i.cancel(n),r?r.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Co))}isActive(){return this.observers.some(n=>YN(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Eg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Dp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!QN(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,Et))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,Et))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,sn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,Et)&&(F(this,vi)?F(this,Et).cancel({revert:!0}):F(this,Et).cancelRetry()),this.scheduleGc()),F(this,sn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,wn,mr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Et))return F(this,Et).continueRetry(),F(this,Et).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(S=>S.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(le(this,vi,!0),s.signal)})},o=()=>{const p=dx(this.options,r),E=(()=>{const w={client:F(this,yi),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return le(this,vi,!1),this.options.persister?this.options.persister(p,E,this):p(E)},c=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,yi),state:this.state,fetchFn:o};return i(p),p})();(d=this.options.behavior)==null||d.onFetch(c,this),le(this,gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&yt(this,wn,mr).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=p=>{var S,E,w,v;yf(p)&&p.silent||yt(this,wn,mr).call(this,{type:"error",error:p}),yf(p)||((E=(S=F(this,sn).config).onError)==null||E.call(S,p,this),(v=(w=F(this,sn).config).onSettled)==null||v.call(w,this.state.data,p,this)),this.scheduleGc()};return le(this,Et,mx({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var S,E,w,v;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(_){u(_);return}(E=(S=F(this,sn).config).onSuccess)==null||E.call(S,p,this),(v=(w=F(this,sn).config).onSettled)==null||v.call(w,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,S)=>{yt(this,wn,mr).call(this,{type:"failed",failureCount:p,error:S})},onPause:()=>{yt(this,wn,mr).call(this,{type:"pause"})},onContinue:()=>{yt(this,wn,mr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),F(this,Et).start()}},Co=new WeakMap,gi=new WeakMap,sn=new WeakMap,yi=new WeakMap,Et=new WeakMap,Hl=new WeakMap,vi=new WeakMap,wn=new WeakSet,mr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...l2(s.data,this.options),fetchMeta:n.meta??null};case"success":return le(this,gi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return yf(i)&&i.revert&&F(this,gi)?{...F(this,gi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Rt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,sn).notify({query:this,type:"updated",action:n})})},bw);function l2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function c2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wn,Aw,u2=(Aw=class extends Gd{constructor(e={}){super();we(this,Wn);this.config=e,le(this,Wn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??wg(s,n);let o=this.get(i);return o||(o=new a2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,Wn).has(e.queryHash)||(F(this,Wn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Wn).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Wn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Rt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Wn).get(e)}getAll(){return[...F(this,Wn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>D_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>D_(e,r)):n}notify(e){Rt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Rt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Rt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wn=new WeakMap,Aw),qn,At,_i,Kn,Xr,Pw,d2=(Pw=class extends gx{constructor(n){super();we(this,Kn);we(this,qn);we(this,At);we(this,_i);this.mutationId=n.mutationId,le(this,At,n.mutationCache),le(this,qn,[]),this.state=n.state||h2(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,qn).includes(n)||(F(this,qn).push(n),this.clearGcTimeout(),F(this,At).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){le(this,qn,F(this,qn).filter(r=>r!==n)),this.scheduleGc(),F(this,At).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,qn).length||(this.state.status==="pending"?this.scheduleGc():F(this,At).remove(this))}continue(){var n;return((n=F(this,_i))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,u,d,f,m,p,S,E,w,v,_,T,N,D,M,I,x,A;const r=()=>{yt(this,Kn,Xr).call(this,{type:"continue"})};le(this,_i,mx({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,k)=>{yt(this,Kn,Xr).call(this,{type:"failed",failureCount:P,error:k})},onPause:()=>{yt(this,Kn,Xr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,At).canRun(this)}));const s=this.state.status==="pending",i=!F(this,_i).canStart();try{if(s)r();else{yt(this,Kn,Xr).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=F(this,At).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));k!==this.state.context&&yt(this,Kn,Xr).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const P=await F(this,_i).start();return await((f=(d=F(this,At).config).onSuccess)==null?void 0:f.call(d,P,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,P,n,this.state.context)),await((E=(S=F(this,At).config).onSettled)==null?void 0:E.call(S,P,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,P,null,n,this.state.context)),yt(this,Kn,Xr).call(this,{type:"success",data:P}),P}catch(P){try{throw await((T=(_=F(this,At).config).onError)==null?void 0:T.call(_,P,n,this.state.context,this)),await((D=(N=this.options).onError)==null?void 0:D.call(N,P,n,this.state.context)),await((I=(M=F(this,At).config).onSettled)==null?void 0:I.call(M,void 0,P,this.state.variables,this.state.context,this)),await((A=(x=this.options).onSettled)==null?void 0:A.call(x,void 0,P,n,this.state.context)),P}finally{yt(this,Kn,Xr).call(this,{type:"error",error:P})}}finally{F(this,At).runNext(this)}}},qn=new WeakMap,At=new WeakMap,_i=new WeakMap,Kn=new WeakSet,Xr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rt.batch(()=>{F(this,qn).forEach(s=>{s.onMutationUpdate(n)}),F(this,At).notify({mutation:this,type:"updated",action:n})})},Pw);function h2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _r,En,Wl,Rw,f2=(Rw=class extends Gd{constructor(e={}){super();we(this,_r);we(this,En);we(this,Wl);this.config=e,le(this,_r,new Set),le(this,En,new Map),le(this,Wl,0)}build(e,n,r){const s=new d2({mutationCache:this,mutationId:++Tc(this,Wl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,_r).add(e);const n=Wc(e);if(typeof n=="string"){const r=F(this,En).get(n);r?r.push(e):F(this,En).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,_r).delete(e)){const n=Wc(e);if(typeof n=="string"){const r=F(this,En).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,En).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Wc(e);if(typeof n=="string"){const r=F(this,En).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Wc(e);if(typeof n=="string"){const s=(r=F(this,En).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rt.batch(()=>{F(this,_r).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,_r).clear(),F(this,En).clear()})}getAll(){return Array.from(F(this,_r))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L_(n,r))}findAll(e={}){return this.getAll().filter(n=>L_(e,n))}notify(e){Rt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Rt.batch(()=>Promise.all(e.map(n=>n.continue().catch(_n))))}},_r=new WeakMap,En=new WeakMap,Wl=new WeakMap,Rw);function Wc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function j_(t){return{onFetch:(e,n)=>{var d,f,m,p,S;const r=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let E=!1;const w=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},v=dx(e.options,e.fetchOptions),_=async(T,N,D)=>{if(E)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const I=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:N,direction:D?"backward":"forward",meta:e.options.meta};return w(k),k})(),x=await v(I),{maxPages:A}=e.options,P=D?e2:ZN;return{pages:P(T.pages,x,A),pageParams:P(T.pageParams,N,A)}};if(s&&i.length){const T=s==="backward",N=T?p2:F_,D={pages:i,pageParams:o},M=N(r,D);a=await _(D,M,T)}else{const T=t??i.length;do{const N=c===0?o[0]??r.initialPageParam:F_(r,a);if(c>0&&N==null)break;a=await _(a,N),c++}while(c<T)}return a};e.options.persister?e.fetchFn=()=>{var E,w;return(w=(E=e.options).persister)==null?void 0:w.call(E,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function F_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function p2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ze,ds,hs,bo,Ao,fs,Po,Ro,kw,m2=(kw=class{constructor(t={}){we(this,ze);we(this,ds);we(this,hs);we(this,bo);we(this,Ao);we(this,fs);we(this,Po);we(this,Ro);le(this,ze,t.queryCache||new u2),le(this,ds,t.mutationCache||new f2),le(this,hs,t.defaultOptions||{}),le(this,bo,new Map),le(this,Ao,new Map),le(this,fs,0)}mount(){Tc(this,fs)._++,F(this,fs)===1&&(le(this,Po,hx.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,ze).onFocus())})),le(this,Ro,td.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,ze).onOnline())})))}unmount(){var t,e;Tc(this,fs)._--,F(this,fs)===0&&((t=F(this,Po))==null||t.call(this),le(this,Po,void 0),(e=F(this,Ro))==null||e.call(this),le(this,Ro,void 0))}isFetching(t){return F(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,ds).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,ze).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Dp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,ze).get(r.queryHash),i=s==null?void 0:s.state.data,o=KN(e,i);if(o!==void 0)return F(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Rt.batch(()=>F(this,ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,ze);Rt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,ze);return Rt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Rt.batch(()=>F(this,ze).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(_n).catch(_n)}invalidateQueries(t,e={}){return Rt.batch(()=>(F(this,ze).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Rt.batch(()=>F(this,ze).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_n)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_n)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,ze).build(this,e);return n.isStaleByTime(Dp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_n).catch(_n)}fetchInfiniteQuery(t){return t.behavior=j_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_n).catch(_n)}ensureInfiniteQueryData(t){return t.behavior=j_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return td.isOnline()?F(this,ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,ze)}getMutationCache(){return F(this,ds)}getDefaultOptions(){return F(this,hs)}setDefaultOptions(t){le(this,hs,t)}setQueryDefaults(t,e){F(this,bo).set(Al(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,bo).values()],n={};return e.forEach(r=>{Pl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Ao).set(Al(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Ao).values()],n={};return e.forEach(r=>{Pl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,hs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Eg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,hs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,ze).clear(),F(this,ds).clear()}},ze=new WeakMap,ds=new WeakMap,hs=new WeakMap,bo=new WeakMap,Ao=new WeakMap,fs=new WeakMap,Po=new WeakMap,Ro=new WeakMap,kw),g2=b.createContext(void 0),y2=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(g2.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}var gs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gs||(gs={}));const U_="popstate";function v2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Mp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:nd(s)}return w2(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _2(){return Math.random().toString(36).substr(2,8)}function z_(t,e){return{usr:t.state,key:t.key,idx:e}}function Mp(t,e,n,r){return n===void 0&&(n=null),Rl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ea(e):e,{state:n,key:e&&e.key||r||_2()})}function nd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ea(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function w2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=gs.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Rl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=gs.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:a,location:E.location,delta:v})}function m(w,v){a=gs.Push;let _=Mp(E.location,w,v);u=d()+1;let T=z_(_,u),N=E.createHref(_);try{o.pushState(T,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(N)}i&&c&&c({action:a,location:E.location,delta:1})}function p(w,v){a=gs.Replace;let _=Mp(E.location,w,v);u=d();let T=z_(_,u),N=E.createHref(_);o.replaceState(T,"",N),i&&c&&c({action:a,location:E.location,delta:0})}function S(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof w=="string"?w:nd(w);return _=_.replace(/ $/,"%20"),We(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let E={get action(){return a},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(U_,f),c=w,()=>{s.removeEventListener(U_,f),c=null}},createHref(w){return e(s,w)},createURL:S,encodeLocation(w){let v=S(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(w){return o.go(w)}};return E}var $_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($_||($_={}));function E2(t,e,n){return n===void 0&&(n="/"),T2(t,e,n,!1)}function T2(t,e,n,r){let s=typeof e=="string"?ea(e):e,i=xg(s.pathname||"/",n);if(i==null)return null;let o=yx(t);x2(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=D2(i);a=N2(o[c],u,r)}return a}function yx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(We(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Cs([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yx(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:R2(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of vx(i.path))s(i,o,c)}),e}function vx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=vx(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function x2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const S2=/^:[\w-]+$/,I2=3,C2=2,b2=1,A2=10,P2=-2,B_=t=>t==="*";function R2(t,e){let n=t.split("/"),r=n.length;return n.some(B_)&&(r+=P2),e&&(r+=C2),n.filter(s=>!B_(s)).reduce((s,i)=>s+(S2.test(i)?I2:i===""?b2:A2),r)}function k2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function N2(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=H_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=H_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Cs([i,f.pathname]),pathnameBase:F2(Cs([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Cs([i,f.pathnameBase]))}return o}function H_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=O2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let E=a[f]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const S=a[f];return p&&!S?u[m]=void 0:u[m]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function O2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Tg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function D2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const L2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M2=t=>L2.test(t);function V2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ea(t):t,i;if(n)if(M2(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Tg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=W_(n.substring(1),"/"):i=W_(n,e)}else i=e;return{pathname:i,search:U2(r),hash:z2(s)}}function W_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function j2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sg(t,e){let n=j2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ig(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ea(t):(s=Rl({},t),We(!s.pathname||!s.pathname.includes("?"),vf("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),vf("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),vf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let c=V2(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Cs=t=>t.join("/").replace(/\/\/+/g,"/"),F2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,z2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _x=["post","put","patch","delete"];new Set(_x);const B2=["get",..._x];new Set(B2);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kl.apply(this,arguments)}const Cg=b.createContext(null),H2=b.createContext(null),Gs=b.createContext(null),Yd=b.createContext(null),Qs=b.createContext({outlet:null,matches:[],isDataRoute:!1}),wx=b.createContext(null);function W2(t,e){let{relative:n}=e===void 0?{}:e;ta()||We(!1);let{basename:r,navigator:s}=b.useContext(Gs),{hash:i,pathname:o,search:a}=Tx(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Cs([r,o])),s.createHref({pathname:c,search:a,hash:i})}function ta(){return b.useContext(Yd)!=null}function na(){return ta()||We(!1),b.useContext(Yd).location}function Ex(t){b.useContext(Gs).static||b.useLayoutEffect(t)}function Xd(){let{isDataRoute:t}=b.useContext(Qs);return t?sO():q2()}function q2(){ta()||We(!1);let t=b.useContext(Cg),{basename:e,future:n,navigator:r}=b.useContext(Gs),{matches:s}=b.useContext(Qs),{pathname:i}=na(),o=JSON.stringify(Sg(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return Ex(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Ig(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Cs([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function Tx(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Gs),{matches:s}=b.useContext(Qs),{pathname:i}=na(),o=JSON.stringify(Sg(s,r.v7_relativeSplatPath));return b.useMemo(()=>Ig(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function K2(t,e){return G2(t,e)}function G2(t,e,n,r){ta()||We(!1);let{navigator:s}=b.useContext(Gs),{matches:i}=b.useContext(Qs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=na(),d;if(e){var f;let w=typeof e=="string"?ea(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||We(!1),d=w}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=E2(t,{pathname:p}),E=Z2(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Cs([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Cs([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&E?b.createElement(Yd.Provider,{value:{location:kl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gs.Pop}},E):E}function Q2(){let t=rO(),e=$2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const Y2=b.createElement(Q2,null);class X2 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Qs.Provider,{value:this.props.routeContext},b.createElement(wx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J2(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(Cg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Qs.Provider,{value:e},r)}function Z2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||We(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,S=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||S){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,S=!1,E=null,w=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||Y2,c&&(u<0&&m===0?(S=!0,w=null):u===m&&(S=!0,w=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),_=()=>{let T;return p?T=E:S?T=w:f.route.Component?T=b.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,b.createElement(J2,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement(X2,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var xx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xx||{}),rd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rd||{});function eO(t){let e=b.useContext(Cg);return e||We(!1),e}function tO(t){let e=b.useContext(H2);return e||We(!1),e}function nO(t){let e=b.useContext(Qs);return e||We(!1),e}function Sx(t){let e=nO(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function rO(){var t;let e=b.useContext(wx),n=tO(rd.UseRouteError),r=Sx(rd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sO(){let{router:t}=eO(xx.UseNavigateStable),e=Sx(rd.UseNavigateStable),n=b.useRef(!1);return Ex(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,kl({fromRouteId:e},i)))},[t,e])}function iO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function oO(t){let{to:e,replace:n,state:r,relative:s}=t;ta()||We(!1);let{future:i,static:o}=b.useContext(Gs),{matches:a}=b.useContext(Qs),{pathname:c}=na(),u=Xd(),d=Ig(e,Sg(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Jr(t){We(!1)}function aO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=gs.Pop,navigator:i,static:o=!1,future:a}=t;ta()&&We(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:o,future:kl({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=ea(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:S="default"}=r,E=b.useMemo(()=>{let w=xg(d,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:p,key:S},navigationType:s}},[c,d,f,m,p,S,s]);return E==null?null:b.createElement(Gs.Provider,{value:u},b.createElement(Yd.Provider,{children:n,value:E}))}function lO(t){let{children:e,location:n}=t;return K2(Vp(e),n)}new Promise(()=>{});function Vp(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,Vp(r.props.children,i));return}r.type!==Jr&&We(!1),!r.props.index||!r.props.children||We(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}function cO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function uO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dO(t,e){return t.button===0&&(!e||e==="_self")&&!uO(t)}const hO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fO="6";try{window.__reactRouterVersion=fO}catch{}const pO="startTransition",q_=Bw[pO];function mO(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=v2({window:s,v5Compat:!0}));let o=i.current,[a,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(f=>{u&&q_?q_(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>iO(r),[r]),b.createElement(aO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const gO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vo=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=cO(e,hO),{basename:p}=b.useContext(Gs),S,E=!1;if(typeof u=="string"&&yO.test(u)&&(S=u,gO))try{let T=new URL(window.location.href),N=u.startsWith("//")?new URL(T.protocol+u):new URL(u),D=xg(N.pathname,p);N.origin===T.origin&&D!=null?u=D+N.search+N.hash:E=!0}catch{}let w=W2(u,{relative:s}),v=vO(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function _(T){r&&r(T),T.defaultPrevented||v(T)}return b.createElement("a",jp({},m,{href:S||w,onClick:E||i?r:_,ref:n,target:c}))});var K_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K_||(K_={}));var G_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(G_||(G_={}));function vO(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Xd(),u=na(),d=Tx(t,{relative:o});return b.useCallback(f=>{if(dO(f,n)){f.preventDefault();let m=r!==void 0?r:nd(u)===nd(d);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,r,s,n,t,i,o,a])}const _O=TT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),gr=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?qA:"button";return g.jsx(o,{className:Dt(_O({variant:e,size:n,className:t})),ref:i,...s})});gr.displayName="Button";const li=b.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Dt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));li.displayName="Input";const Zr=b.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Dt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Zr.displayName="Card";const wO=b.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Dt("flex flex-col space-y-1.5 p-6",t),...e}));wO.displayName="CardHeader";const EO=b.forwardRef(({className:t,...e},n)=>g.jsx("h3",{ref:n,className:Dt("text-2xl font-semibold leading-none tracking-tight",t),...e}));EO.displayName="CardTitle";const TO=b.forwardRef(({className:t,...e},n)=>g.jsx("p",{ref:n,className:Dt("text-sm text-muted-foreground",t),...e}));TO.displayName="CardDescription";const es=b.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Dt("p-6 pt-0",t),...e}));es.displayName="CardContent";const xO=b.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Dt("flex items-center p-6 pt-0",t),...e}));xO.displayName="CardFooter";const Nl="/assets/suros-logo-new-uXOabC5U.png",SO=()=>{const[t,e]=b.useState({name:"",company:"",email:"",phone:"",trades:"",bidsPerMonth:""}),n=r=>{r.preventDefault(),console.log("Demo request:",t)};return g.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[g.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-background border-b border-border z-50 shadow-lg",children:g.jsxs("div",{className:"container mx-auto px-6 py-2 flex items-center justify-between",children:[g.jsx("img",{src:Nl,alt:"Suros Logic Systems",className:"h-12 md:h-16"}),g.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[g.jsx(gr,{size:"lg",className:"bg-primary hover:bg-primary/90",asChild:!0,children:g.jsx("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:"Book a Free Demo"})}),g.jsx(gr,{size:"lg",variant:"outline",className:"border-white/40 text-white hover:bg-white/10",asChild:!0,children:g.jsx("a",{href:"/auth",children:"Login"})})]})]})}),g.jsx("section",{className:"pt-32 pb-20 px-6",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"space-y-8 animate-fade-in",children:[g.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold leading-tight",children:["AI that writes your"," ",g.jsx("span",{className:"bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent animate-pulse",children:"bids for you"})]}),g.jsx("p",{className:"text-xl text-muted-foreground",children:"Suros Logic Systems turns a simple project form into a fully formatted, professional bid document  in minutes, not hours."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsx(gr,{size:"lg",className:"bg-primary hover:bg-primary/90 text-lg",asChild:!0,children:g.jsxs("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:["Book a Free 15-Min Demo ",g.jsx($c,{className:"ml-2"})]})}),g.jsx(gr,{size:"lg",variant:"outline",className:"text-lg",children:"See Sample Bid"})]})]}),g.jsx("div",{className:"relative animate-fade-in",style:{animationDelay:"0.2s"},children:g.jsx(Zr,{className:"bg-card/80 backdrop-blur border-primary/30 shadow-lg shadow-primary/10",children:g.jsxs(es,{className:"p-8 space-y-6",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Bid Input Form"}),g.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Company Name, Client Name"]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Scope of Work, Plumbing, Drywall"]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Payment Terms"]})]})]}),g.jsx("div",{className:"flex items-center justify-center py-4",children:g.jsx($c,{className:"text-secondary",size:32})}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Professional Bid Document"}),g.jsxs("div",{className:"bg-background/50 p-4 rounded-lg border border-secondary/20",children:[g.jsx(ff,{className:"text-secondary mb-2",size:24}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Fully formatted Word document ready to send"})]})]})]})})})]}),g.jsx("div",{className:"mt-12 text-center",children:g.jsx("p",{className:"text-muted-foreground max-w-3xl mx-auto",children:"Built for contractors, remodelers, and trade professionals who are tired of typing the same bid 100 different ways."})})]})}),g.jsx("section",{className:"py-20 px-6 bg-card/30",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Bids are stealing your nights and weekends"}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:["You spend hours writing and formatting the same scopes over and over.","Inconsistent templates make your company look less professional.","Some bids never even get sent because you run out of time.","Every revision means more hours fighting with formatting."].map((r,s)=>g.jsx(Zr,{className:"bg-card border-primary/30 hover:border-primary/60 hover:shadow-lg hover:shadow-primary/20 transition-all",children:g.jsx(es,{className:"p-6",children:g.jsx("p",{className:"text-muted-foreground",children:r})})},s))})]})}),g.jsx("section",{className:"py-20 px-6",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Your bid, fully written, from one simple form"}),g.jsx("p",{className:"text-muted-foreground text-lg",children:"No AI experience required. We handle the prompts, templates, and formatting for you."})]}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"1",title:"Fill Out Simple Form",description:"Contractor fills out a simple online form with project details and line items."},{step:"2",title:"AI Expands Content",description:"Optimized AI prompts expand and structure the content like a human-written bid."},{step:"3",title:"Generate Document",description:"The system generates a beautifully formatted Word document, keeping your style consistent."},{step:"4",title:"Instant Delivery",description:"The bid is emailed to you instantly, ready to edit or send to your client."}].map((r,s)=>g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"text-6xl font-bold text-primary/20 mb-4",children:r.step}),g.jsx("h3",{className:"text-xl font-semibold mb-3",children:r.title}),g.jsx("p",{className:"text-muted-foreground",children:r.description})]},s))})]})}),g.jsx("section",{className:"py-20 px-6 bg-card/30",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"Built for real-world contracting"}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:g.jsx(qP,{className:"text-primary",size:32}),title:"Contractor-Tuned AI Prompts",description:"AI workflows specifically optimized for contracting bids, not generic text."},{icon:g.jsx(ff,{className:"text-secondary",size:32}),title:"Clean, Consistent Templates",description:"Same professional structure every time across all bids."},{icon:g.jsx(y_,{className:"text-primary",size:32}),title:"Trade & Scope Line Items",description:"Plumbing, Electrical, Drywall, HVAC, Painting, Flooring, etc., with space for detailed scopes."},{icon:g.jsx(ff,{className:"text-secondary",size:32}),title:"Word Docs, Not Lock-in",description:"You get an editable Word document you can tweak, save, or reuse."},{icon:g.jsx(zP,{className:"text-primary",size:32}),title:"Time Savings",description:"Replace hours of typing with a few minutes of form filling."},{icon:g.jsx(HP,{className:"text-secondary",size:32}),title:"No Complex Software",description:"Just log in, fill out the form, and get your bid."}].map((r,s)=>g.jsx(Zr,{className:"bg-card hover:bg-card/80 transition-colors border-border hover:border-primary/50",children:g.jsxs(es,{className:"p-6 space-y-4",children:[g.jsx("div",{children:r.icon}),g.jsx("h3",{className:"text-xl font-semibold",children:r.title}),g.jsx("p",{className:"text-muted-foreground",children:r.description})]})},s))})]})}),g.jsx("section",{className:"py-20 px-6",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"Perfect for..."}),g.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:g.jsx(BP,{className:"text-primary",size:48}),title:"General Contractors & Remodelers",description:"Handle multiple bids daily with consistent, professional formatting."},{icon:g.jsx(y_,{className:"text-secondary",size:48}),title:"Specialty Trades",description:"Plumbing, electrical, HVAC, flooring, tile, painting - we've got your scope covered."},{icon:g.jsx($P,{className:"text-primary",size:48}),title:"Estimators & Office Managers",description:"Free up your team to focus on project management, not document formatting."}].map((r,s)=>g.jsx(Zr,{className:"bg-gradient-to-br from-card to-card/50 border-primary/20 text-center",children:g.jsxs(es,{className:"p-8 space-y-4",children:[g.jsx("div",{className:"flex justify-center",children:r.icon}),g.jsx("h3",{className:"text-xl font-semibold",children:r.title}),g.jsx("p",{className:"text-muted-foreground",children:r.description})]})},s))})]})}),g.jsx("section",{className:"py-20 px-6 bg-card/30",children:g.jsxs("div",{className:"container mx-auto",children:[g.jsx("div",{className:"text-center mb-16",children:g.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Simple pricing that pays for itself"})}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[g.jsx(Zr,{className:"bg-card border-primary/40 hover:border-primary/70 hover:shadow-xl hover:shadow-primary/30 transition-all",children:g.jsxs(es,{className:"p-8 space-y-6",children:[g.jsx("h3",{className:"text-2xl font-bold text-primary",children:"QuickStart Bid Templates"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"text-3xl font-bold",children:["$150",g.jsx("span",{className:"text-lg text-muted-foreground",children:"/month"})]}),g.jsx("p",{className:"text-muted-foreground",children:"One-time setup: $300"})]}),g.jsx("ul",{className:"space-y-3",children:["Access to prebuilt, optimized bid templates","Standard form with common contractor fields","AI-tuned prompts for clean, detailed bids","Ideal for ready-to-use system"].map((r,s)=>g.jsxs("li",{className:"flex items-start gap-3",children:[g.jsx(g_,{className:"text-primary mt-1 flex-shrink-0",size:20}),g.jsx("span",{className:"text-muted-foreground",children:r})]},s))}),g.jsx(gr,{className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:"Get Started"})]})}),g.jsx(Zr,{className:"bg-gradient-to-br from-card to-secondary/10 border-secondary/40 hover:border-secondary/70 hover:shadow-xl hover:shadow-secondary/30 transition-all",children:g.jsxs(es,{className:"p-8 space-y-6",children:[g.jsx("h3",{className:"text-2xl font-bold text-secondary",children:"Custom Workflow Build"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"text-3xl font-bold",children:["Custom",g.jsx("span",{className:"text-lg text-muted-foreground",children:" pricing"})]}),g.jsx("p",{className:"text-muted-foreground",children:"Setup & monthly based on complexity"})]}),g.jsx("ul",{className:"space-y-3",children:["Customized form matching your exact bid structure","Tailored prompts for your trades & regions","Multiple document types (bids, change orders)","Perfect for multi-location companies"].map((r,s)=>g.jsxs("li",{className:"flex items-start gap-3",children:[g.jsx(g_,{className:"text-secondary mt-1 flex-shrink-0",size:20}),g.jsx("span",{className:"text-muted-foreground",children:r})]},s))}),g.jsx(gr,{className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground",size:"lg",children:"Contact Sales"})]})})]}),g.jsx("p",{className:"text-center text-muted-foreground mt-8 max-w-2xl mx-auto",children:"All plans include onboarding support and access to improvements as we upgrade the system."})]})}),g.jsx("section",{className:"py-20 px-6",children:g.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[g.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Beyond bids: full quoting and automation systems"}),g.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Suros Logic Systems can also build tailored quoting systems that mirror your existing Excel/Word bids, and automated workflows that push bid data into CRMs, email follow-ups, and project management tools."}),g.jsxs(gr,{size:"lg",variant:"outline",className:"border-primary/50 hover:bg-primary/10",children:["Talk to us about custom automation ",g.jsx($c,{className:"ml-2"})]})]})}),g.jsx("section",{className:"py-20 px-6 bg-card/30",children:g.jsx("div",{className:"container mx-auto",children:g.jsx("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[{title:"Save hours on every bid",description:"Stop spending nights and weekends on formatting"},{title:"More consistent proposals",description:"Professional structure across every bid you send"},{title:"Focus on what matters",description:"Free your team to focus on jobs, not documents"}].map((r,s)=>g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"text-5xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:s+1}),g.jsx("h3",{className:"text-2xl font-semibold",children:r.title}),g.jsx("p",{className:"text-muted-foreground",children:r.description})]},s))})})}),g.jsx("section",{className:"py-20 px-6",children:g.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[g.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Our Vision"}),g.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"Suros Logic Systems was created by people who live in the contracting world. We know how much time goes into every quote, every bid, every revision. Our vision is an AI-driven document automation suite that handles not just bids, but contracts, change orders, and more  across industries like construction, legal, and real estate."})]})}),g.jsx("section",{className:"py-32 px-6 bg-gradient-to-br from-primary/20 via-background to-secondary/20",children:g.jsxs("div",{className:"container mx-auto max-w-4xl text-center space-y-8",children:[g.jsx("h2",{className:"text-5xl font-bold",children:"Ready to stop rewriting the same bid for the 100th time?"}),g.jsx("p",{className:"text-xl text-muted-foreground",children:"Book a free 15-minute demo and see how Suros Logic Systems can automate your next bid."}),g.jsx(Zr,{className:"bg-card/80 backdrop-blur",children:g.jsxs(es,{className:"p-8",children:[g.jsxs("form",{onSubmit:n,className:"space-y-4",children:[g.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[g.jsx(li,{placeholder:"Name",value:t.name,onChange:r=>e({...t,name:r.target.value}),required:!0}),g.jsx(li,{placeholder:"Company",value:t.company,onChange:r=>e({...t,company:r.target.value}),required:!0}),g.jsx(li,{type:"email",placeholder:"Email",value:t.email,onChange:r=>e({...t,email:r.target.value}),required:!0}),g.jsx(li,{type:"tel",placeholder:"Phone",value:t.phone,onChange:r=>e({...t,phone:r.target.value}),required:!0})]}),g.jsx(li,{placeholder:"What trades do you do?",value:t.trades,onChange:r=>e({...t,trades:r.target.value}),required:!0}),g.jsx(li,{placeholder:"Approx. bids per month",value:t.bidsPerMonth,onChange:r=>e({...t,bidsPerMonth:r.target.value}),required:!0}),g.jsx(gr,{size:"lg",className:"w-full bg-primary hover:bg-primary/90 text-lg",asChild:!0,children:g.jsxs("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:["Book My Demo ",g.jsx($c,{className:"ml-2"})]})})]}),g.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:g.jsx("a",{href:"#",className:"underline hover:text-primary",children:"Request a Sample Bid"})})]})})]})}),g.jsx("footer",{className:"py-8 px-6 border-t border-border",children:g.jsxs("div",{className:"container mx-auto text-center space-y-4",children:[g.jsx("img",{src:Nl,alt:"Suros Logic Systems",className:"h-10 mx-auto opacity-70"}),g.jsx("p",{className:"text-muted-foreground",children:" 2024 Suros Logic Systems. All rights reserved."})]})})]})},IO=()=>{const t=na();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),g.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},Q_={company_address:"",company_phone:"",company_email:"",invoice_date:"",invoice_number:"",salesperson:"",job:"",payment_terms:"",approx_weeks:"",contingency_coverage:"",total_costs:"",deposit_required:"",weekly_payments:"",final_amount_due:"",customer_name:"",customer_address:"",customer_phone:"",customer_email:""},Y_=["Plumbing","Drywall","Electrical","Flooring"],CO={trade:"",scope:"",material_labor_included:"Yes",line_total:""},bO=()=>{const[t,e]=b.useState(Q_),[n,r]=b.useState(""),[s,i]=b.useState([]),o=w=>{const v=w.replace(/\D/g,"").substring(0,10),_=v.length;return _<4?v:_<7?`(${v.slice(0,3)}) ${v.slice(3)}`:`(${v.slice(0,3)}) ${v.slice(3,6)}-${v.slice(6)}`},a=w=>{const v=w.replace(/[^0-9.]/g,"");if(!v)return"";const _=Number(v);return isNaN(_)?"":_.toLocaleString("en-US",{style:"currency",currency:"USD"})},c=(w,v)=>{const _=a(v);e(T=>({...T,[w]:_}))},u=w=>{const{id:v,value:_}=w.target;if(v==="customer_phone"||v==="company_phone"){e(T=>({...T,[v]:o(_)}));return}if(v==="total_costs"||v==="deposit_required"||v==="weekly_payments"||v==="final_amount_due"){c(v,_);return}e(T=>({...T,[v]:_}))},d=()=>{const w=parseInt(n);if(!w||w<1){alert("Enter a valid number of line items.");return}const v=Array.from({length:w},(_,T)=>({...CO,trade:"",scope:""}));i(v)},f=(w,v,_)=>{i(T=>T.map((N,D)=>D===w?{...N,[v]:_}:N))},m=(w,v)=>{if(v.key==="Enter"){v.preventDefault();const _=s[w].scope,T=v.target.selectionStart,N=_.substring(0,T),D=_.substring(T),M=N+`
- `+D;f(w,"scope",M),setTimeout(()=>{const I=v.target;I.selectionStart=T+3,I.selectionEnd=T+3},0)}},p=(w,v)=>{let _=v.target.value;s[w].scope===""&&_.length===1&&(_="- "+_),f(w,"scope",_)},S=w=>{const v=w.target.value;if(!v)return;/\S+@\S+\.\S+/.test(v)||alert("Please enter a valid email address.")},E=async w=>{w.preventDefault();const v=N=>Number(String(N).replace(/[^0-9.]/g,""))||0,_=s.map(N=>({trade:N.trade,scope:N.scope.split(/\r?\n/).filter(Boolean),material_labor_included:N.material_labor_included,line_total:v(N.line_total)})),T={...t,approx_weeks:Number(t.approx_weeks),total_costs:v(t.total_costs),deposit_required:v(t.deposit_required),weekly_payments:v(t.weekly_payments),final_amount_due:v(t.final_amount_due),line_items:_};try{(await fetch("https://astutearc7.app.n8n.cloud/webhook/lastcall-bid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).ok?(alert("Bid submitted successfully!"),e(Q_),i([]),r("")):alert("Error submitting bid.")}catch{alert("Network error.")}};return g.jsx("div",{className:"bid-form-page",children:g.jsx("div",{className:"page-bg",children:g.jsxs("div",{className:"container",children:[g.jsx("div",{className:"logo",children:g.jsx("img",{src:Nl,alt:"Suros Logic Systems Logo"})}),g.jsx("h1",{children:g.jsx("b",{children:"Last Call Home Solutions LLC"})}),g.jsxs("div",{className:"header-info",children:[g.jsx("label",{children:"Address:"}),g.jsx("input",{type:"text",id:"company_address",placeholder:"1234 Main St, Tampa FL",value:t.company_address,onChange:u}),g.jsx("label",{children:"Phone:"}),g.jsx("input",{type:"text",id:"company_phone",placeholder:"(000) 000-0000",value:t.company_phone,onChange:u}),g.jsx("label",{children:"Email:"}),g.jsx("input",{type:"email",id:"company_email",placeholder:"example@email.com",value:t.company_email,onChange:u,onBlur:S}),g.jsx("p",{className:"slogan",children:"Last call youll make for all your contracting and remodeling needs."})]}),g.jsxs("form",{onSubmit:E,children:[g.jsx("h2",{children:"Invoice Information"}),g.jsx("label",{children:"Invoice Date:"}),g.jsx("input",{type:"date",id:"invoice_date",value:t.invoice_date,onChange:u}),g.jsx("label",{children:"Invoice #:"}),g.jsx("input",{type:"text",id:"invoice_number",placeholder:"LC-2025-1178",value:t.invoice_number,onChange:u}),g.jsx("h2",{children:"Project & Payment Info"}),g.jsx("label",{children:"Salesperson Name:"}),g.jsx("input",{type:"text",id:"salesperson",placeholder:"Dennis Call",value:t.salesperson,onChange:u}),g.jsx("label",{children:"Job Name or Address:"}),g.jsx("input",{type:"text",id:"job",placeholder:"Kitchen Remodel, Tampa FL",value:t.job,onChange:u}),g.jsx("label",{children:g.jsx("strong",{children:"Payment Terms:"})}),g.jsx("textarea",{id:"payment_terms",rows:2,placeholder:"Deposit of 50% prior to work commencing and weekly progress payments.",value:t.payment_terms,onChange:u}),g.jsx("label",{children:"Approximate Working Weeks:"}),g.jsx("input",{type:"number",id:"approx_weeks",placeholder:"5",value:t.approx_weeks,onChange:u}),g.jsx("h2",{children:"Line Items"}),g.jsx("label",{children:"How many line items (trades)?"}),g.jsx("input",{type:"number",id:"num_line_items",min:1,max:20,value:n,onChange:w=>r(w.target.value)}),g.jsx("button",{type:"button",onClick:d,children:"Generate Line Item Sections"}),g.jsx("div",{id:"lineItemsContainer",children:s.map((w,v)=>{const _=Y_[v%Y_.length];return g.jsxs("div",{className:"line-item",children:[g.jsxs("h3",{children:[v+1," LINE ITEM"]}),g.jsx("label",{children:"Trade Name:"}),g.jsx("input",{type:"text",placeholder:_,value:w.trade,onChange:T=>f(v,"trade",T.target.value)}),g.jsx("label",{children:"Scope of Work (one per line):"}),g.jsx("textarea",{className:"scope-input",placeholder:"- Enter one task per line",value:w.scope,onChange:T=>p(v,T),onKeyDown:T=>m(v,T)}),g.jsx("label",{children:"Material and Labor Included?"}),g.jsxs("select",{value:w.material_labor_included,onChange:T=>f(v,"material_labor_included",T.target.value),children:[g.jsx("option",{value:"Yes",children:"Yes"}),g.jsx("option",{value:"No",children:"No"})]}),g.jsx("label",{children:"Line Total ($):"}),g.jsx("input",{type:"text",placeholder:"$",value:w.line_total,onChange:T=>f(v,"line_total",T.target.value)})]},v)})}),g.jsx("h2",{children:"Contingency (10%)"}),g.jsx("textarea",{id:"contingency_coverage",rows:3,placeholder:"Covers miscellaneous materials and unexpected repairs...",value:t.contingency_coverage,onChange:u}),g.jsx("p",{className:"contingency-warning",children:g.jsx("strong",{children:"CONTINGENCY FUNDS NOT UTILIZED WILL BE RETURNED TO THE CUSTOMER."})}),g.jsx("h2",{children:"Totals & Payment"}),g.jsx("label",{children:"Total Costs (tax percentage included):"}),g.jsx("input",{type:"text",id:"total_costs",placeholder:"$",value:t.total_costs,onChange:u}),g.jsx("label",{children:"Deposit Required:"}),g.jsx("input",{type:"text",id:"deposit_required",placeholder:"$",value:t.deposit_required,onChange:u}),g.jsx("label",{children:"Weekly Progress Payments  ____ (beginning second working week):"}),g.jsx("input",{type:"text",id:"weekly_payments",placeholder:"$",value:t.weekly_payments,onChange:u}),g.jsx("label",{children:"Final Amount Due Upon Completion:"}),g.jsx("input",{type:"text",id:"final_amount_due",placeholder:"$",value:t.final_amount_due,onChange:u}),g.jsx("h2",{children:"Customer Info"}),g.jsx("label",{children:"Customer Name:"}),g.jsx("input",{type:"text",id:"customer_name",placeholder:"John Doe",value:t.customer_name,onChange:u}),g.jsx("label",{children:"Customer Address:"}),g.jsx("input",{type:"text",id:"customer_address",placeholder:"1234 Main St, Tampa FL",value:t.customer_address,onChange:u}),g.jsx("label",{children:"Customer Phone:"}),g.jsx("input",{type:"text",id:"customer_phone",placeholder:"(000) 000-0000",value:t.customer_phone,onChange:u}),g.jsx("label",{children:"Customer Email:"}),g.jsx("input",{type:"email",id:"customer_email",placeholder:"example@email.com",value:t.customer_email,onChange:u,onBlur:S}),g.jsxs("div",{className:"submit-area",children:[g.jsx("button",{type:"submit",children:"Generate My Bid"}),g.jsx("p",{className:"powered",children:"POWERED by Suros Logic Systems, LLC"})]})]})]})})})},AO={company_address:"4829 Rolling Brook Dr, Tampa, FL 33625",company_phone:"(813) 555-9082",company_email:"office@lastcallhomesolutions.com",invoice_date:"2025-11-28",invoice_number:"LC-2025-1178",salesperson:"Dennis Call",job:"Kitchen Remodel  2290 Maple Ridge Ct, Tampa FL",payment_terms:"50% deposit required before work begins. Weekly progress payments due every Friday. Final amount due upon project completion.",approx_weeks:5,contingency_coverage:"Covers miscellaneous materials, unexpected repairs, hardware replacements, drywall patching, plumbing seals, tile work, and fixture adjustments.",total_costs:"$18750",deposit_required:"$9375",weekly_payments:4,final_amount_due:"$1875",customer_name:"Michael Thompson",customer_address:"2290 Maple Ridge Ct, Tampa FL 33625",customer_phone:"(813) 445-7710",customer_email:"michael.thompson@example.com"},qc=t=>t&&parseFloat(t.replace(/[^0-9.]/g,""))||0,_f={2:[{trade:"Plumbing",scope:`- Disconnect old plumbing
- Install new PEX water lines
- Replace garbage disposal
- Install new shutoff valves`,line_total:"$5200",material_labor_included:"Yes"},{trade:"Drywall",scope:`- Remove damaged drywall
- Install new 1/2" drywall
- Tape and mud seams
- Sand and prep for paint`,line_total:"$4100",material_labor_included:"Yes"}],3:[{trade:"Electrical",scope:`- Add recessed lighting
- Install two GFCI outlets
- Replace breaker for kitchen circuit`,line_total:"$2600",material_labor_included:"Yes"},{trade:"Flooring",scope:`- Remove old tile
- Install new LVP flooring
- Add new baseboards`,line_total:"$4800",material_labor_included:"Yes"},{trade:"Painting",scope:`- Prime all walls
- Apply two coats interior paint
- Paint trim and baseboards`,line_total:"$2300",material_labor_included:"Yes"}],4:[{trade:"Demolition",scope:`- Remove cabinetry
- Remove countertops
- Dispose of debris`,line_total:"$1800",material_labor_included:"Yes"},{trade:"Cabinet Installation",scope:`- Install RTA cabinets
- Level and secure bases
- Hang uppers`,line_total:"$6200",material_labor_included:"Yes"},{trade:"Countertops",scope:`- Template for quartz slabs
- Install quartz countertops
- Seal and finish`,line_total:"$5400",material_labor_included:"Yes"},{trade:"Backsplash",scope:`- Install subway tile
- Apply grout
- Seal tile and grout`,line_total:"$2200",material_labor_included:"Yes"}],5:[{trade:"Appliance Installation",scope:`- Install refrigerator
- Install dishwasher & connect water line
- Install over-the-range microwave
- Test all electrical and water connections`,line_total:"$1500",material_labor_included:"Yes"},{trade:"Interior Painting",scope:`- Patch wall imperfections
- Apply primer to all walls
- Apply two coats interior paint
- Paint trim and baseboards`,line_total:"$2800",material_labor_included:"Yes"},{trade:"Plumbing Fixtures",scope:`- Replace kitchen faucet
- Install under-sink plumbing kit
- Install garbage disposal
- Test for leaks and drainage`,line_total:"$950",material_labor_included:"Yes"},{trade:"Tile Flooring",scope:`- Remove existing flooring
- Install cement board
- Lay porcelain tile
- Apply grout and seal flooring`,line_total:"$4200",material_labor_included:"Yes"}]},PO=()=>{const[t,e]=b.useState(AO),[n,r]=b.useState("2"),[s,i]=b.useState(_f[2]),o=f=>{const{id:m,value:p}=f.target;e(S=>({...S,[m]:p}))},a=(f,m,p)=>{i(S=>S.map((E,w)=>w===f?{...E,[m]:p}:E))},c=(f,m)=>{if(m.key==="Enter"){m.preventDefault();const p=s[f].scope,S=m.target.selectionStart,E=p.substring(0,S),w=p.substring(S),v=E+`
- `+w;a(f,"scope",v),setTimeout(()=>{const _=m.target;_.selectionStart=_.selectionEnd=S+3},0)}},u=()=>{const f=parseInt(n),m=_f[f]||_f[2];i(m)},d=async f=>{f.preventDefault();const m=s.map(S=>({trade:S.trade,scope:S.scope.split(/\r?\n/).map(E=>E.trim()).filter(Boolean),material_labor_included:S.material_labor_included,line_total:qc(S.line_total)})),p={...t,approx_weeks:Number(t.approx_weeks),total_costs:qc(t.total_costs),deposit_required:qc(t.deposit_required),weekly_payments:Number(t.weekly_payments),final_amount_due:qc(t.final_amount_due),line_items:m};try{(await fetch("https://astutearc7.app.n8n.cloud/webhook/lastcall-bid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok?alert("Bid submitted successfully!"):alert("Error submitting bid.")}catch{alert("Network error.")}};return g.jsx("div",{className:"page-bg bid-form-page",children:g.jsxs("div",{className:"container",children:[g.jsx("div",{className:"logo",children:g.jsx("img",{src:Nl,alt:"Suros Logic Systems Logo"})}),g.jsx("h1",{children:g.jsx("b",{children:"Last Call Home Solutions LLC"})}),g.jsx("label",{children:"Address:"}),g.jsx("input",{id:"company_address",value:t.company_address,onChange:o}),g.jsx("label",{children:"Phone:"}),g.jsx("input",{id:"company_phone",value:t.company_phone,onChange:o}),g.jsx("label",{children:"Email:"}),g.jsx("input",{id:"company_email",type:"email",value:t.company_email,onChange:o}),g.jsx("p",{style:{textAlign:"center",marginTop:10},children:g.jsx("em",{children:"Last call youll make for all your contracting and remodeling needs."})}),g.jsxs("form",{onSubmit:d,children:[g.jsx("h2",{children:"Invoice Information"}),g.jsx("label",{children:"Invoice Date:"}),g.jsx("input",{type:"date",id:"invoice_date",value:t.invoice_date,onChange:o}),g.jsx("label",{children:"Invoice #:"}),g.jsx("input",{id:"invoice_number",value:t.invoice_number,onChange:o}),g.jsx("h2",{children:"Project & Payment Info"}),g.jsx("label",{children:"Salesperson Name:"}),g.jsx("input",{id:"salesperson",value:t.salesperson,onChange:o}),g.jsx("label",{children:"Job Name or Address:"}),g.jsx("input",{id:"job",value:t.job,onChange:o}),g.jsx("label",{children:g.jsx("strong",{children:"Payment Terms:"})}),g.jsx("textarea",{id:"payment_terms",rows:2,value:t.payment_terms,onChange:o}),g.jsx("label",{children:"Approximate Working Weeks:"}),g.jsx("input",{id:"approx_weeks",type:"number",value:t.approx_weeks,onChange:o}),g.jsx("h2",{children:"Line Items"}),g.jsx("label",{children:"How many line items?"}),g.jsx("input",{type:"number",min:"1",max:"20",value:n,onChange:f=>r(f.target.value)}),g.jsx("button",{type:"button",onClick:u,children:"Generate Line Item Sections"}),g.jsx("div",{children:s.map((f,m)=>g.jsxs("div",{className:"line-item",children:[g.jsxs("h3",{children:[m+1," LINE ITEM"]}),g.jsx("label",{children:"Trade Name:"}),g.jsx("input",{value:f.trade,onChange:p=>a(m,"trade",p.target.value)}),g.jsx("label",{children:"Scope of Work:"}),g.jsx("textarea",{className:"scope-input",value:f.scope,onKeyDown:p=>c(m,p),onChange:p=>a(m,"scope",p.target.value)}),g.jsx("label",{children:"Material and Labor Included?"}),g.jsxs("select",{value:f.material_labor_included,onChange:p=>a(m,"material_labor_included",p.target.value),children:[g.jsx("option",{value:"Yes",children:"Yes"}),g.jsx("option",{value:"No",children:"No"})]}),g.jsx("label",{children:"Line Total ($):"}),g.jsx("input",{value:f.line_total,onChange:p=>a(m,"line_total",p.target.value)})]},m))}),g.jsx("h2",{children:"Contingency (10%)"}),g.jsx("textarea",{id:"contingency_coverage",rows:3,value:t.contingency_coverage,onChange:o}),g.jsx("p",{children:g.jsx("strong",{children:"CONTINGENCY FUNDS NOT UTILIZED WILL BE RETURNED TO THE CUSTOMER."})}),g.jsx("h2",{children:"Totals & Payment"}),g.jsx("label",{children:"Total Costs:"}),g.jsx("input",{id:"total_costs",value:t.total_costs,onChange:o}),g.jsx("label",{children:"Deposit Required:"}),g.jsx("input",{id:"deposit_required",value:t.deposit_required,onChange:o}),g.jsx("label",{children:"Weekly Progress Payments  ____:"}),g.jsx("input",{id:"weekly_payments",type:"number",value:t.weekly_payments,onChange:o}),g.jsx("label",{children:"Final Amount Due Upon Completion:"}),g.jsx("input",{id:"final_amount_due",value:t.final_amount_due,onChange:o}),g.jsx("h2",{children:"Customer Info"}),g.jsx("label",{children:"Customer Name:"}),g.jsx("input",{id:"customer_name",value:t.customer_name,onChange:o}),g.jsx("label",{children:"Customer Address:"}),g.jsx("input",{id:"customer_address",value:t.customer_address,onChange:o}),g.jsx("label",{children:"Customer Phone:"}),g.jsx("input",{id:"customer_phone",value:t.customer_phone,onChange:o}),g.jsx("label",{children:"Customer Email:"}),g.jsx("input",{id:"customer_email",type:"email",value:t.customer_email,onChange:o}),g.jsxs("div",{className:"submit-area",children:[g.jsx("button",{type:"submit",children:"Generate My Bid"}),g.jsx("p",{className:"powered",children:"POWERED by Suros Logic Systems, LLC"})]})]})]})})},RO=()=>{};var X_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},kO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Cx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ix(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new NO;const m=i<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OO=function(t){const e=Ix(t);return Cx.encodeByteArray(e,!0)},sd=function(t){return OO(t).replace(/\./g,"")},bx=function(t){try{return Cx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=()=>DO().__FIREBASE_DEFAULTS__,MO=()=>{if(typeof process>"u"||typeof X_>"u")return;const t=X_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bx(t[1]);return e&&JSON.parse(e)},Jd=()=>{try{return RO()||LO()||MO()||VO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ax=t=>{var e,n;return(n=(e=Jd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},jO=t=>{const e=Ax(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Px=()=>{var t;return(t=Jd())==null?void 0:t.config},Rx=t=>{var e;return(e=Jd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sd(JSON.stringify(n)),sd(JSON.stringify(o)),""].join(".")}const nl={};function zO(){const t={prod:[],emulator:[]};for(const e of Object.keys(nl))nl[e]?t.emulator.push(e):t.prod.push(e);return t}function $O(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let J_=!1;function Nx(t,e){if(typeof window>"u"||typeof document>"u"||!ra(window.location.host)||nl[t]===e||nl[t]||J_)return;nl[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=zO().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{J_=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=$O(r),p=n("text"),S=document.getElementById(p)||document.createElement("span"),E=n("learnmore"),w=document.getElementById(E)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),d(w,E);const N=u();c(_,v),T.append(_,S,w,N),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function HO(){var e;const t=(e=Jd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GO(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QO(){return!HO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YO(){try{return typeof indexedDB=="object"}catch{return!1}}function XO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JO,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?ZO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Vr(s,a,r)}}function ZO(t,e){return t.replace(eD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const eD=/\{\$([^}]+)}/g;function tD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Z_(i)&&Z_(o)){if(!Pi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Z_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ua(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function za(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nD(t,e){const n=new rD(t,e);return n.subscribe.bind(n)}class rD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wf),s.error===void 0&&(s.error=wf),s.complete===void 0&&(s.complete=wf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Ri{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aD(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oD(t){return t===ci?void 0:t}function aD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const cD={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},uD=pe.INFO,dD={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},hD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=dD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bg{constructor(e){this.name=e,this._logLevel=uD,this._logHandler=hD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const fD=(t,e)=>e.some(n=>t instanceof n);let e0,t0;function pD(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mD(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ox=new WeakMap,Fp=new WeakMap,Dx=new WeakMap,Ef=new WeakMap,Ag=new WeakMap;function gD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(bs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ox.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function yD(t){if(Fp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Fp.set(t,e)}let Up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vD(t){Up=t(Up)}function _D(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tf(this),e,...n);return Dx.set(r,e.sort?e.sort():[e]),bs(r)}:mD().includes(t)?function(...e){return t.apply(Tf(this),e),bs(Ox.get(this))}:function(...e){return bs(t.apply(Tf(this),e))}}function wD(t){return typeof t=="function"?_D(t):(t instanceof IDBTransaction&&yD(t),fD(t,pD())?new Proxy(t,Up):t)}function bs(t){if(t instanceof IDBRequest)return gD(t);if(Ef.has(t))return Ef.get(t);const e=wD(t);return e!==t&&(Ef.set(t,e),Ag.set(e,t)),e}const Tf=t=>Ag.get(t);function ED(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=bs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(bs(o.result),c.oldVersion,c.newVersion,bs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const TD=["get","getKey","getAll","getAllKeys","count"],xD=["put","add","delete","clear"],xf=new Map;function n0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=xD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||TD.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return xf.set(e,i),i}vD(t=>({...t,get:(e,n,r)=>n0(e,n)||t.get(e,n,r),has:(e,n)=>!!n0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ID(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ID(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zp="@firebase/app",r0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new bg("@firebase/app"),CD="@firebase/app-compat",bD="@firebase/analytics-compat",AD="@firebase/analytics",PD="@firebase/app-check-compat",RD="@firebase/app-check",kD="@firebase/auth",ND="@firebase/auth-compat",OD="@firebase/database",DD="@firebase/data-connect",LD="@firebase/database-compat",MD="@firebase/functions",VD="@firebase/functions-compat",jD="@firebase/installations",FD="@firebase/installations-compat",UD="@firebase/messaging",zD="@firebase/messaging-compat",$D="@firebase/performance",BD="@firebase/performance-compat",HD="@firebase/remote-config",WD="@firebase/remote-config-compat",qD="@firebase/storage",KD="@firebase/storage-compat",GD="@firebase/firestore",QD="@firebase/ai",YD="@firebase/firestore-compat",XD="firebase",JD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",ZD={[zp]:"fire-core",[CD]:"fire-core-compat",[AD]:"fire-analytics",[bD]:"fire-analytics-compat",[RD]:"fire-app-check",[PD]:"fire-app-check-compat",[kD]:"fire-auth",[ND]:"fire-auth-compat",[OD]:"fire-rtdb",[DD]:"fire-data-connect",[LD]:"fire-rtdb-compat",[MD]:"fire-fn",[VD]:"fire-fn-compat",[jD]:"fire-iid",[FD]:"fire-iid-compat",[UD]:"fire-fcm",[zD]:"fire-fcm-compat",[$D]:"fire-perf",[BD]:"fire-perf-compat",[HD]:"fire-rc",[WD]:"fire-rc-compat",[qD]:"fire-gcs",[KD]:"fire-gcs-compat",[GD]:"fire-fst",[YD]:"fire-fst-compat",[QD]:"fire-vertex","fire-js":"fire-js",[XD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Map,eL=new Map,Bp=new Map;function s0(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Uo(t){const e=t.name;if(Bp.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,t);for(const n of id.values())s0(n,t);for(const n of eL.values())s0(n,t);return!0}function Pg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Sn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new ec("app","Firebase",tL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=JD;function Lx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$p,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw As.create("bad-app-name",{appName:String(s)});if(n||(n=Px()),!n)throw As.create("no-options");const i=id.get(s);if(i){if(Pi(n,i.options)&&Pi(r,i.config))return i;throw As.create("duplicate-app",{appName:s})}const o=new lD(s);for(const c of Bp.values())o.addComponent(c);const a=new nL(n,r,o);return id.set(s,a),a}function Mx(t=$p){const e=id.get(t);if(!e&&t===$p&&Px())return Lx();if(!e)throw As.create("no-app",{appName:t});return e}function Ps(t,e,n){let r=ZD[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(o.join(" "));return}Uo(new Ri(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="firebase-heartbeat-database",sL=1,Ol="firebase-heartbeat-store";let Sf=null;function Vx(){return Sf||(Sf=ED(rL,sL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw As.create("idb-open",{originalErrorMessage:t.message})})),Sf}async function iL(t){try{const n=(await Vx()).transaction(Ol),r=await n.objectStore(Ol).get(jx(t));return await n.done,r}catch(e){if(e instanceof Vr)Nr.warn(e.message);else{const n=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(n.message)}}}async function i0(t,e){try{const r=(await Vx()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(e,jx(t)),await r.done}catch(n){if(n instanceof Vr)Nr.warn(n.message);else{const r=As.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(r.message)}}}function jx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=1024,aL=30;class lL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=o0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>aL){const o=dL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o0(),{heartbeatsToSend:r,unsentEntries:s}=cL(this._heartbeatsCache.heartbeats),i=sd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Nr.warn(n),""}}}function o0(){return new Date().toISOString().substring(0,10)}function cL(t,e=oL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),a0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),a0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YO()?XO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return i0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function a0(t){return sd(JSON.stringify({version:2,heartbeats:t})).length}function dL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){Uo(new Ri("platform-logger",e=>new SD(e),"PRIVATE")),Uo(new Ri("heartbeat",e=>new lL(e),"PRIVATE")),Ps(zp,r0,t),Ps(zp,r0,"esm2020"),Ps("fire-js","")}hL("");function Fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fL=Fx,Ux=new ec("auth","Firebase",Fx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new bg("@firebase/auth");function pL(t,...e){od.logLevel<=pe.WARN&&od.warn(`Auth (${sa}): ${t}`,...e)}function gu(t,...e){od.logLevel<=pe.ERROR&&od.error(`Auth (${sa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw Rg(t,...e)}function Zn(t,...e){return Rg(t,...e)}function zx(t,e,n){const r={...fL(),[e]:n};return new ec("auth","Firebase",r).create(e,{appName:t.name})}function Rs(t){return zx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ux.create(t,...e)}function ee(t,e,...n){if(!t)throw Rg(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gu(e),new Error(e)}function Or(t,e){t||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function mL(){return l0()==="http:"||l0()==="https:"}function l0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mL()||qO()||"connection"in navigator)?navigator.onLine:!0}function yL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=BO()||KO()}get(){return gL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){Or(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wL=new nc(3e4,6e4);function Mi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ys(t,e,n,r,s={}){return Bx(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=tc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return WO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&ra(t.emulatorConfig.host)&&(u.credentials="include"),$x.fetch()(await Hx(t,t.config.apiHost,n,a),u)})}async function Bx(t,e,n){t._canInitEmulator=!1;const r={...vL,...e};try{const s=new TL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Kc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Kc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Kc(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zx(t,d,u);On(t,d)}}catch(s){if(s instanceof Vr)throw s;On(t,"network-request-failed",{message:String(s)})}}async function Zd(t,e,n,r,s={}){const i=await Ys(t,e,n,r,s);return"mfaPendingCredential"in i&&On(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Hx(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?kg(t.config,s):`${t.config.apiScheme}://${s}`;return _L.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function EL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),wL.get())})}}function Kc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Zn(t,e,r);return s.customData._tokenResponse=n,s}function c0(t){return t!==void 0&&t.enterprise!==void 0}class xL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SL(t,e){return Ys(t,"GET","/v2/recaptchaConfig",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function ad(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CL(t,e=!1){const n=mt(t),r=await n.getIdToken(e),s=Ng(r);ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:rl(If(s.auth_time)),issuedAtTime:rl(If(s.iat)),expirationTime:rl(If(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function If(t){return Number(t)*1e3}function Ng(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gu("JWT malformed, contained fewer than 3 sections"),null;try{const s=bx(n);return s?JSON.parse(s):(gu("Failed to decode base64 JWT payload"),null)}catch(s){return gu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function u0(t){const e=Ng(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&bL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Dl(t,ad(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?Wx(s.providerUserInfo):[],o=RL(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Wp(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function PL(t){const e=mt(t);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Wx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){const n=await Bx(t,{},async()=>{const r=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Hx(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&ra(t.emulatorConfig.host)&&(c.credentials="include"),$x.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NL(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=u0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await kL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new _o;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ee(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ee(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class In{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new AL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CL(this,e)}reload(){return PL(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new In({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await Dl(this,IL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:S,stsTokenManager:E}=n;ee(f&&E,e,"internal-error");const w=_o.fromJSON(this.name,E);ee(typeof f=="string",e,"internal-error"),Yr(r,e.name),Yr(s,e.name),ee(typeof m=="boolean",e,"internal-error"),ee(typeof p=="boolean",e,"internal-error"),Yr(i,e.name),Yr(o,e.name),Yr(a,e.name),Yr(c,e.name),Yr(u,e.name),Yr(d,e.name);const v=new In({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:w,createdAt:u,lastLoginAt:d});return S&&Array.isArray(S)&&(v.providerData=S.map(_=>({..._}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new _o;s.updateFromServerResponse(n);const i=new In({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ld(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ee(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Wx(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new _o;a.updateFromIdToken(r);const c=new In({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Wp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;function xr(t){Or(t instanceof Function,"Expected a class definition");let e=d0.get(t);return e?(Or(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qx.type="NONE";const h0=qx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t,e,n){return`firebase:${t}:${e}:${n}`}class wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yu(this.userKey,s.apiKey,i),this.fullPersistenceKey=yu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ad(this.auth,{idToken:e}).catch(()=>{});return n?In._fromGetAccountInfoResponse(this.auth,n,e):null}return In._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wo(xr(h0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||xr(h0);const o=yu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const m=await ad(e,{idToken:d}).catch(()=>{});if(!m)break;f=await In._fromGetAccountInfoResponse(e,m,d)}else f=In._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new wo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new wo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jx(e))return"Blackberry";if(Zx(e))return"Webos";if(Gx(e))return"Safari";if((e.includes("chrome/")||Qx(e))&&!e.includes("edge/"))return"Chrome";if(Xx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Kx(t=Ct()){return/firefox\//i.test(t)}function Gx(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qx(t=Ct()){return/crios\//i.test(t)}function Yx(t=Ct()){return/iemobile/i.test(t)}function Xx(t=Ct()){return/android/i.test(t)}function Jx(t=Ct()){return/blackberry/i.test(t)}function Zx(t=Ct()){return/webos/i.test(t)}function Og(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OL(t=Ct()){var e;return Og(t)&&!!((e=window.navigator)!=null&&e.standalone)}function DL(){return GO()&&document.documentMode===10}function eS(t=Ct()){return Og(t)||Xx(t)||Zx(t)||Jx(t)||/windows phone/i.test(t)||Yx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e=[]){let n;switch(t){case"Browser":n=f0(Ct());break;case"Worker":n=`${f0(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",Mi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=6;class jL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??VL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new LL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ad(this,{idToken:e}),r=await In._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Sn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(Rs(this));const n=e?mt(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ML(this),n=new jL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&pL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ia(t){return mt(t)}class p0{constructor(e){this.auth=e,this.observer=null,this.addObserver=nD(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UL(t){eh=t}function nS(t){return eh.loadJS(t)}function zL(){return eh.recaptchaEnterpriseScript}function $L(){return eh.gapiScript}function BL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HL{constructor(){this.enterprise=new WL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qL="recaptcha-enterprise",rS="NO_RECAPTCHA";class KL{constructor(e){this.type=qL,this.auth=ia(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{SL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new xL(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;c0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(rS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HL().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&c0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=zL();c.length!==0&&(c+=a),nS(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function m0(t,e,n,r=!1,s=!1){const i=new KL(t);let o;if(s)o=rS;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function g0(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await m0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await m0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t,e){const n=Pg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Pi(i,e??{}))return s;On(s,"already-initialized")}return n.initialize({options:e})}function QL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YL(t,e,n){const r=ia(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=sS(e),{host:o,port:a}=XL(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Pi(u,r.config.emulator)&&Pi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ra(o)?(kx(`${i}//${o}${c}`),Nx("Auth",!0)):JL()}function sS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XL(t){const e=sS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:y0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:y0(o)}}}function y0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function ZL(t,e){return Ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e){return Zd(t,"POST","/v1/accounts:signInWithPassword",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e){return Zd(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}async function nM(t,e){return Zd(t,"POST","/v1/accounts:signInWithEmailLink",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Dg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g0(e,n,"signInWithPassword",eM);case"emailLink":return tM(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g0(e,r,"signUpPassword",ZL);case"emailLink":return nM(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e){return Zd(t,"POST","/v1/accounts:signInWithIdp",Mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="http://localhost";class ki extends Dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new ki(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:rM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iM(t){const e=Ua(za(t)).link,n=e?Ua(za(e)).deep_link_id:null,r=Ua(za(t)).deep_link_id;return(r?Ua(za(r)).link:null)||r||n||e||t}class Lg{constructor(e){const n=Ua(za(e)),r=n.apiKey??null,s=n.oobCode??null,i=sM(n.mode??null);ee(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=iM(e);try{return new Lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,n){return Ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lg.parseLink(n);return ee(r,"argument-error"),Ll._fromEmailAndCode(e,r.code,r.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends iS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends rc{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ki._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return os.credential(n,r)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends rc{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends rc{constructor(){super("twitter.com")}static credential(e,n){return ki._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ls.credential(n,r)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await In._fromIdTokenResponse(e,r,s),o=v0(r);return new zo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=v0(r);return new zo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function v0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends Vr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new cd(e,n,r,s)}}function oS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(t,i,e,r):i})}async function oM(t,e,n=!1){const r=await Dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e,n=!1){const{auth:r}=t;if(Sn(r.app))return Promise.reject(Rs(r));const s="reauthenticate";try{const i=await Dl(t,oS(r,s,e,t),n);ee(i.idToken,r,"internal-error");const o=Ng(i.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),zo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&On(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(t,e,n=!1){if(Sn(t.app))return Promise.reject(Rs(t));const r="signIn",s=await oS(t,r,e),i=await zo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function lM(t,e){return aS(ia(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t){const e=ia(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function uM(t,e,n){return Sn(t.app)?Promise.reject(Rs(t)):lM(mt(t),oa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cM(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t,e){return mt(t).setPersistence(e)}function hM(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function fM(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function pM(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function mM(t){return mt(t).signOut()}const ud="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=1e3,yM=10;class cS extends lS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);DL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,yM):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cS.type="LOCAL";const uS=cS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends lS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dS.type="SESSION";const hS=dS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new th(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await vM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Mg("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function wM(t){er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function EM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function xM(){return fS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="firebaseLocalStorageDb",SM=1,dd="firebaseLocalStorage",mS="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nh(t,e){return t.transaction([dd],e?"readwrite":"readonly").objectStore(dd)}function IM(){const t=indexedDB.deleteDatabase(pS);return new sc(t).toPromise()}function qp(){const t=indexedDB.open(pS,SM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dd,{keyPath:mS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dd)?e(r):(r.close(),await IM(),e(await qp()))})})}async function _0(t,e,n){const r=nh(t,!0).put({[mS]:e,value:n});return new sc(r).toPromise()}async function CM(t,e){const n=nh(t,!1).get(e),r=await new sc(n).toPromise();return r===void 0?null:r.value}function w0(t,e){const n=nh(t,!0).delete(e);return new sc(n).toPromise()}const bM=800,AM=3;class gS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>AM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(xM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await EM(),!this.activeServiceWorker)return;this.sender=new _M(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qp();return await _0(e,ud,"1"),await w0(e,ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=nh(s,!1).getAll();return new sc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gS.type="LOCAL";const PM=gS;new nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t,e){return e?xr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kM(t){return aS(t.auth,new Vg(t),t.bypassAuthState)}function NM(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),aM(n,new Vg(t),t.bypassAuthState)}async function OM(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),oM(n,new Vg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kM;case"linkViaPopup":case"linkViaRedirect":return OM;case"reauthViaPopup":case"reauthViaRedirect":return NM;default:On(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new nc(2e3,1e4);class lo extends yS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DM.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="pendingRedirect",vu=new Map;class MM extends yS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vu.get(this.auth._key());if(!e){try{const r=await VM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vu.set(this.auth._key(),e)}return this.bypassAuthState||vu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VM(t,e){const n=UM(e),r=FM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jM(t,e){vu.set(t._key(),e)}function FM(t){return xr(t._redirectPersistence)}function UM(t){return yu(LM,t.config.apiKey,t.name)}async function zM(t,e,n=!1){if(Sn(t.app))return Promise.reject(Rs(t));const r=ia(t),s=RM(r,e),o=await new MM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=10*60*1e3;class BM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$M&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(e))}saveEventToCache(e){this.cachedEventUids.add(E0(e)),this.lastProcessedEventTime=Date.now()}}function E0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KM=/^https?/;async function GM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WM(t);for(const n of e)try{if(QM(n))return}catch{}On(t,"unauthorized-domain")}function QM(t){const e=Hp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KM.test(n))return!1;if(qM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=new nc(3e4,6e4);function T0(){const t=er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XM(t){return new Promise((e,n)=>{var s,i,o;function r(){T0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T0(),n(Zn(t,"network-request-failed"))},timeout:YM.get()})}if((i=(s=er().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=er().gapi)!=null&&o.load)r();else{const a=BL("iframefcb");return er()[a]=()=>{gapi.load?r():n(Zn(t,"network-request-failed"))},nS(`${$L()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw _u=null,e})}let _u=null;function JM(t){return _u=_u||XM(t),_u}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new nc(5e3,15e3),eV="__/auth/iframe",tV="emulator/auth/iframe",nV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sV(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kg(e,tV):`https://${t.config.authDomain}/${eV}`,r={apiKey:e.apiKey,appName:t.name,v:sa},s=rV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${tc(r).slice(1)}`}async function iV(t){const e=await JM(t),n=er().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:sV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Zn(t,"network-request-failed"),a=er().setTimeout(()=>{i(o)},ZM.get());function c(){er().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aV=500,lV=600,cV="_blank",uV="http://localhost";class x0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dV(t,e,n,r=aV,s=lV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...oV,width:r.toString(),height:s.toString(),top:i,left:o},u=Ct().toLowerCase();n&&(a=Qx(u)?cV:n),Kx(u)&&(e=e||uV,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[p,S])=>`${m}${p}=${S},`,"");if(OL(u)&&a!=="_self")return hV(e||"",a),new x0(null);const f=window.open(e||"",a,d);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new x0(f)}function hV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="__/auth/handler",pV="emulator/auth/handler",mV=encodeURIComponent("fac");async function S0(t,e,n,r,s,i){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sa,eventId:s};if(e instanceof iS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof rc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${mV}=${encodeURIComponent(c)}`:"";return`${gV(t)}?${tc(a).slice(1)}${u}`}function gV({config:t}){return t.emulator?kg(t,pV):`https://${t.authDomain}/${fV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="webStorageSupport";class yV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hS,this._completeRedirectFn=zM,this._overrideRedirectResult=jM}async _openPopup(e,n,r,s){var o;Or((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await S0(e,n,r,Hp(),s);return dV(e,i,Mg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await S0(e,n,r,Hp(),s);return wM(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Or(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await iV(e),r=new BM(e);return n.register("authEvent",s=>(ee(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cf,{type:Cf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Cf];i!==void 0&&n(!!i),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eS()||Gx()||Og()}}const vV=yV;var I0="@firebase/auth",C0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EV(t){Uo(new Ri("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tS(t)},u=new FL(r,s,i,c);return QL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Uo(new Ri("auth-internal",e=>{const n=ia(e.getProvider("auth").getImmediate());return(r=>new _V(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(I0,C0,wV(t)),Ps(I0,C0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=5*60,xV=Rx("authIdTokenMaxAge")||TV;let b0=null;const SV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xV)return;const s=n==null?void 0:n.token;b0!==s&&(b0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function IV(t=Mx()){const e=Pg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GL(t,{popupRedirectResolver:vV,persistence:[PM,uS,hS]}),r=Rx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=SV(i.toString());fM(n,o,()=>o(n.currentUser)),hM(n,a=>o(a))}}const s=Ax("auth");return s&&YL(n,`http://${s}`),n}function CV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}UL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Zn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",CV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EV("Browser");var A0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,_S;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function A(){}A.prototype=x.prototype,I.F=x.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(P,k,O){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return x.prototype[k].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,x,A){A||(A=0);const P=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)P[k]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(k=0;k<16;++k)P[k]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=I.g[0],A=I.g[1],k=I.g[2];let O=I.g[3],R;R=x+(O^A&(k^O))+P[0]+3614090360&4294967295,x=A+(R<<7&4294967295|R>>>25),R=O+(k^x&(A^k))+P[1]+3905402710&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(A^O&(x^A))+P[2]+606105819&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(x^k&(O^x))+P[3]+3250441966&4294967295,A=k+(R<<22&4294967295|R>>>10),R=x+(O^A&(k^O))+P[4]+4118548399&4294967295,x=A+(R<<7&4294967295|R>>>25),R=O+(k^x&(A^k))+P[5]+1200080426&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(A^O&(x^A))+P[6]+2821735955&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(x^k&(O^x))+P[7]+4249261313&4294967295,A=k+(R<<22&4294967295|R>>>10),R=x+(O^A&(k^O))+P[8]+1770035416&4294967295,x=A+(R<<7&4294967295|R>>>25),R=O+(k^x&(A^k))+P[9]+2336552879&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(A^O&(x^A))+P[10]+4294925233&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(x^k&(O^x))+P[11]+2304563134&4294967295,A=k+(R<<22&4294967295|R>>>10),R=x+(O^A&(k^O))+P[12]+1804603682&4294967295,x=A+(R<<7&4294967295|R>>>25),R=O+(k^x&(A^k))+P[13]+4254626195&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(A^O&(x^A))+P[14]+2792965006&4294967295,k=O+(R<<17&4294967295|R>>>15),R=A+(x^k&(O^x))+P[15]+1236535329&4294967295,A=k+(R<<22&4294967295|R>>>10),R=x+(k^O&(A^k))+P[1]+4129170786&4294967295,x=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(x^A))+P[6]+3225465664&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^A&(O^x))+P[11]+643717713&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^x&(k^O))+P[0]+3921069994&4294967295,A=k+(R<<20&4294967295|R>>>12),R=x+(k^O&(A^k))+P[5]+3593408605&4294967295,x=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(x^A))+P[10]+38016083&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^A&(O^x))+P[15]+3634488961&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^x&(k^O))+P[4]+3889429448&4294967295,A=k+(R<<20&4294967295|R>>>12),R=x+(k^O&(A^k))+P[9]+568446438&4294967295,x=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(x^A))+P[14]+3275163606&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^A&(O^x))+P[3]+4107603335&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^x&(k^O))+P[8]+1163531501&4294967295,A=k+(R<<20&4294967295|R>>>12),R=x+(k^O&(A^k))+P[13]+2850285829&4294967295,x=A+(R<<5&4294967295|R>>>27),R=O+(A^k&(x^A))+P[2]+4243563512&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^A&(O^x))+P[7]+1735328473&4294967295,k=O+(R<<14&4294967295|R>>>18),R=A+(O^x&(k^O))+P[12]+2368359562&4294967295,A=k+(R<<20&4294967295|R>>>12),R=x+(A^k^O)+P[5]+4294588738&4294967295,x=A+(R<<4&4294967295|R>>>28),R=O+(x^A^k)+P[8]+2272392833&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^A)+P[11]+1839030562&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^x)+P[14]+4259657740&4294967295,A=k+(R<<23&4294967295|R>>>9),R=x+(A^k^O)+P[1]+2763975236&4294967295,x=A+(R<<4&4294967295|R>>>28),R=O+(x^A^k)+P[4]+1272893353&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^A)+P[7]+4139469664&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^x)+P[10]+3200236656&4294967295,A=k+(R<<23&4294967295|R>>>9),R=x+(A^k^O)+P[13]+681279174&4294967295,x=A+(R<<4&4294967295|R>>>28),R=O+(x^A^k)+P[0]+3936430074&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^A)+P[3]+3572445317&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^x)+P[6]+76029189&4294967295,A=k+(R<<23&4294967295|R>>>9),R=x+(A^k^O)+P[9]+3654602809&4294967295,x=A+(R<<4&4294967295|R>>>28),R=O+(x^A^k)+P[12]+3873151461&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^A)+P[15]+530742520&4294967295,k=O+(R<<16&4294967295|R>>>16),R=A+(k^O^x)+P[2]+3299628645&4294967295,A=k+(R<<23&4294967295|R>>>9),R=x+(k^(A|~O))+P[0]+4096336452&4294967295,x=A+(R<<6&4294967295|R>>>26),R=O+(A^(x|~k))+P[7]+1126891415&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~A))+P[14]+2878612391&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~x))+P[5]+4237533241&4294967295,A=k+(R<<21&4294967295|R>>>11),R=x+(k^(A|~O))+P[12]+1700485571&4294967295,x=A+(R<<6&4294967295|R>>>26),R=O+(A^(x|~k))+P[3]+2399980690&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~A))+P[10]+4293915773&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~x))+P[1]+2240044497&4294967295,A=k+(R<<21&4294967295|R>>>11),R=x+(k^(A|~O))+P[8]+1873313359&4294967295,x=A+(R<<6&4294967295|R>>>26),R=O+(A^(x|~k))+P[15]+4264355552&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~A))+P[6]+2734768916&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~x))+P[13]+1309151649&4294967295,A=k+(R<<21&4294967295|R>>>11),R=x+(k^(A|~O))+P[4]+4149444226&4294967295,x=A+(R<<6&4294967295|R>>>26),R=O+(A^(x|~k))+P[11]+3174756917&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~A))+P[2]+718787259&4294967295,k=O+(R<<15&4294967295|R>>>17),R=A+(O^(k|~x))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const A=x-this.blockSize,P=this.C;let k=this.h,O=0;for(;O<x;){if(k==0)for(;O<=A;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<x;)if(P[k++]=I.charCodeAt(O++),k==this.blockSize){s(this,P),k=0;break}}else for(;O<x;)if(P[k++]=I[O++],k==this.blockSize){s(this,P),k=0;break}}this.h=k,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,A=0;A<4;++A)for(let P=0;P<32;P+=8)I[x++]=this.g[A]>>>P&255;return I};function i(I,x){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=x(I)}function o(I,x){this.h=x;const A=[];let P=!0;for(let k=I.length-1;k>=0;k--){const O=I[k]|0;P&&O==x||(A[k]=O,P=!1)}this.g=A}var a={};function c(I){return-128<=I&&I<128?i(I,function(x){return new o([x|0],x<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(I<0)return w(u(-I));const x=[];let A=1;for(let P=0;I>=A;P++)x[P]=I/A|0,A*=4294967296;return new o(x,0)}function d(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return w(d(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(x,8));let P=f;for(let O=0;O<I.length;O+=8){var k=Math.min(8,I.length-O);const R=parseInt(I.substring(O,O+k),x);k<8?(k=u(Math.pow(x,k)),P=P.j(k).add(u(R))):(P=P.j(A),P=P.add(u(R)))}return P}var f=c(0),m=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-w(this).m();let I=0,x=1;for(let A=0;A<this.g.length;A++){const P=this.i(A);I+=(P>=0?P:4294967296+P)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(E(this))return"-"+w(this).toString(I);const x=u(Math.pow(I,6));var A=this;let P="";for(;;){const k=N(A,x).g;A=v(A,k.j(x));let O=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=k,S(A))return O+P;for(;O.length<6;)O="0"+O;P=O+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=v(this,I),E(I)?-1:S(I)?0:1};function w(I){const x=I.g.length,A=[];for(let P=0;P<x;P++)A[P]=~I.g[P];return new o(A,~I.h).add(m)}t.abs=function(){return E(this)?w(this):this},t.add=function(I){const x=Math.max(this.g.length,I.g.length),A=[];let P=0;for(let k=0;k<=x;k++){let O=P+(this.i(k)&65535)+(I.i(k)&65535),R=(O>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);P=R>>>16,O&=65535,R&=65535,A[k]=R<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function v(I,x){return I.add(w(x))}t.j=function(I){if(S(this)||S(I))return f;if(E(this))return E(I)?w(this).j(w(I)):w(w(this).j(I));if(E(I))return w(this.j(w(I)));if(this.l(p)<0&&I.l(p)<0)return u(this.m()*I.m());const x=this.g.length+I.g.length,A=[];for(var P=0;P<2*x;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<I.g.length;k++){const O=this.i(P)>>>16,R=this.i(P)&65535,H=I.i(k)>>>16,ie=I.i(k)&65535;A[2*P+2*k]+=R*ie,_(A,2*P+2*k),A[2*P+2*k+1]+=O*ie,_(A,2*P+2*k+1),A[2*P+2*k+1]+=R*H,_(A,2*P+2*k+1),A[2*P+2*k+2]+=O*H,_(A,2*P+2*k+2)}for(I=0;I<x;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=x;I<2*x;I++)A[I]=0;return new o(A,0)};function _(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function T(I,x){this.g=I,this.h=x}function N(I,x){if(S(x))throw Error("division by zero");if(S(I))return new T(f,f);if(E(I))return x=N(w(I),x),new T(w(x.g),w(x.h));if(E(x))return x=N(I,w(x)),new T(w(x.g),x.h);if(I.g.length>30){if(E(I)||E(x))throw Error("slowDivide_ only works with positive integers.");for(var A=m,P=x;P.l(I)<=0;)A=D(A),P=D(P);var k=M(A,1),O=M(P,1);for(P=M(P,2),A=M(A,2);!S(P);){var R=O.add(P);R.l(I)<=0&&(k=k.add(A),O=R),P=M(P,1),A=M(A,1)}return x=v(I,k.j(x)),new T(k,x)}for(k=f;I.l(x)>=0;){for(A=Math.max(1,Math.floor(I.m()/x.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),O=u(A),R=O.j(x);E(R)||R.l(I)>0;)A-=P,O=u(A),R=O.j(x);S(O)&&(O=m),k=k.add(O),I=v(I,R)}return new T(k,I)}t.B=function(I){return N(this,I).h},t.and=function(I){const x=Math.max(this.g.length,I.g.length),A=[];for(let P=0;P<x;P++)A[P]=this.i(P)&I.i(P);return new o(A,this.h&I.h)},t.or=function(I){const x=Math.max(this.g.length,I.g.length),A=[];for(let P=0;P<x;P++)A[P]=this.i(P)|I.i(P);return new o(A,this.h|I.h)},t.xor=function(I){const x=Math.max(this.g.length,I.g.length),A=[];for(let P=0;P<x;P++)A[P]=this.i(P)^I.i(P);return new o(A,this.h^I.h)};function D(I){const x=I.g.length+1,A=[];for(let P=0;P<x;P++)A[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(A,I.h)}function M(I,x){const A=x>>5;x%=32;const P=I.g.length-A,k=[];for(let O=0;O<P;O++)k[O]=x>0?I.i(O+A)>>>x|I.i(O+A+1)<<32-x:I.i(O+A);return new o(k,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_S=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ks=o}).apply(typeof A0<"u"?A0:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wS,$a,ES,wu,Kp,TS,xS,SS;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var h=0;h<l.length;++h){var y=l[h];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var y=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var L=l[C];if(!(L in y))break e;y=y[L]}l=l[l.length-1],C=y[l],h=h(C),h!=C&&h!=null&&e(y,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var y=[],C;for(C in h)Object.prototype.hasOwnProperty.call(h,C)&&y.push([C,h[C]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function c(l,h,y){return l.call.apply(l.bind,arguments)}function u(l,h,y){return u=c,u.apply(null,arguments)}function d(l,h){var y=Array.prototype.slice.call(arguments,1);return function(){var C=y.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function f(l,h){function y(){}y.prototype=h.prototype,l.Z=h.prototype,l.prototype=new y,l.prototype.constructor=l,l.Ob=function(C,L,V){for(var q=Array(arguments.length-2),he=2;he<arguments.length;he++)q[he-2]=arguments[he];return h.prototype[L].apply(C,q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function p(l){const h=l.length;if(h>0){const y=Array(h);for(let C=0;C<h;C++)y[C]=l[C];return y}return[]}function S(l,h){for(let C=1;C<arguments.length;C++){const L=arguments[C];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=l.length||0;const V=L.length||0;l.length=y+V;for(let q=0;q<V;q++)l[y+q]=L[q]}else l.push(L)}}class E{constructor(h,y){this.i=h,this.j=y,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(l){o.setTimeout(()=>{throw l},0)}function v(){var l=I;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class _{constructor(){this.h=this.g=null}add(h,y){const C=T.get();C.set(h,y),this.h?this.h.next=C:this.g=C,this.h=C}}var T=new E(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(h,y){this.h=h,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let D,M=!1,I=new _,x=()=>{const l=Promise.resolve(void 0);D=()=>{l.then(A)}};function A(){for(var l;l=v();){try{l.h.call(l.g)}catch(y){w(y)}var h=T;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}M=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};o.addEventListener("test",y,h),o.removeEventListener("test",y,h)}catch{}return l}();function R(l){return/^[\s\xa0]*$/.test(l)}function H(l,h){k.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}f(H,k),H.prototype.init=function(l,h){const y=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(y=="mouseover"?h=l.fromElement:y=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),ne=0;function oe(l,h,y,C,L){this.listener=l,this.proxy=null,this.src=h,this.type=y,this.capture=!!C,this.ha=L,this.key=++ne,this.da=this.fa=!1}function j(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function z(l,h,y){for(const C in l)h.call(y,l[C],C,l)}function K(l,h){for(const y in l)h.call(void 0,l[y],y,l)}function re(l){const h={};for(const y in l)h[y]=l[y];return h}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(l,h){let y,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(y in C)l[y]=C[y];for(let V=0;V<X.length;V++)y=X[V],Object.prototype.hasOwnProperty.call(C,y)&&(l[y]=C[y])}}function ce(l){this.src=l,this.g={},this.h=0}ce.prototype.add=function(l,h,y,C,L){const V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);const q=qe(l,h,C,L);return q>-1?(h=l[q],y||(h.fa=!1)):(h=new oe(h,this.src,V,!!C,L),h.fa=y,l.push(h)),h};function Ne(l,h){const y=h.type;if(y in l.g){var C=l.g[y],L=Array.prototype.indexOf.call(C,h,void 0),V;(V=L>=0)&&Array.prototype.splice.call(C,L,1),V&&(j(h),l.g[y].length==0&&(delete l.g[y],l.h--))}}function qe(l,h,y,C){for(let L=0;L<l.length;++L){const V=l[L];if(!V.da&&V.listener==h&&V.capture==!!y&&V.ha==C)return L}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Dn={};function fn(l,h,y,C,L){if(Array.isArray(h)){for(let V=0;V<h.length;V++)fn(l,h[V],y,C,L);return null}return y=Fr(y),l&&l[ie]?l.J(h,y,a(C)?!!C.capture:!!C,L):ur(l,h,y,!1,C,L)}function ur(l,h,y,C,L,V){if(!h)throw Error("Invalid event type");const q=a(L)?!!L.capture:!!L;let he=jr(l);if(he||(l[ye]=he=new ce(l)),y=he.add(h,y,C,q,V),y.proxy)return y;if(C=Ln(),y.proxy=C,C.src=l,C.listener=y,l.addEventListener)O||(L=q),L===void 0&&(L=!1),l.addEventListener(h.toString(),C,L);else if(l.attachEvent)l.attachEvent(Js(h.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ln(){function l(y){return h.call(l.src,l.listener,y)}const h=da;return l}function dr(l,h,y,C,L){if(Array.isArray(h))for(var V=0;V<h.length;V++)dr(l,h[V],y,C,L);else C=a(C)?!!C.capture:!!C,y=Fr(y),l&&l[ie]?(l=l.i,V=String(h).toString(),V in l.g&&(h=l.g[V],y=qe(h,y,C,L),y>-1&&(j(h[y]),Array.prototype.splice.call(h,y,1),h.length==0&&(delete l.g[V],l.h--)))):l&&(l=jr(l))&&(h=l.g[h.toString()],l=-1,h&&(l=qe(h,y,C,L)),(y=l>-1?h[l]:null)&&nn(y))}function nn(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ie])Ne(h.i,l);else{var y=l.type,C=l.proxy;h.removeEventListener?h.removeEventListener(y,C,l.capture):h.detachEvent?h.detachEvent(Js(y),C):h.addListener&&h.removeListener&&h.removeListener(C),(y=jr(h))?(Ne(y,l),y.h==0&&(y.src=null,h[ye]=null)):j(l)}}}function Js(l){return l in Dn?Dn[l]:Dn[l]="on"+l}function da(l,h){if(l.da)l=!0;else{h=new H(h,this);const y=l.listener,C=l.ha||l.src;l.fa&&nn(l),l=y.call(C,h)}return l}function jr(l){return l=l[ye],l instanceof ce?l:null}var Zs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fr(l){return typeof l=="function"?l:(l[Zs]||(l[Zs]=function(h){return l.handleEvent(h)}),l[Zs])}function De(){P.call(this),this.i=new ce(this),this.M=this,this.G=null}f(De,P),De.prototype[ie]=!0,De.prototype.removeEventListener=function(l,h,y,C){dr(this,l,h,y,C)};function rt(l,h){var y,C=l.G;if(C)for(y=[];C;C=C.G)y.push(C);if(l=l.M,C=h.type||h,typeof h=="string")h=new k(h,l);else if(h instanceof k)h.target=h.target||l;else{var L=h;h=new k(C,l),de(h,L)}L=!0;let V,q;if(y)for(q=y.length-1;q>=0;q--)V=h.g=y[q],L=Mn(V,C,!0,h)&&L;if(V=h.g=l,L=Mn(V,C,!0,h)&&L,L=Mn(V,C,!1,h)&&L,y)for(q=0;q<y.length;q++)V=h.g=y[q],L=Mn(V,C,!1,h)&&L}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const y=l.g[h];for(let C=0;C<y.length;C++)j(y[C]);delete l.g[h],l.h--}}this.G=null},De.prototype.J=function(l,h,y,C){return this.i.add(String(l),h,!1,y,C)},De.prototype.K=function(l,h,y,C){return this.i.add(String(l),h,!0,y,C)};function Mn(l,h,y,C){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let L=!0;for(let V=0;V<h.length;++V){const q=h[V];if(q&&!q.da&&q.capture==y){const he=q.listener,Xe=q.ha||q.src;q.fa&&Ne(l.i,q),L=he.call(Xe,C)!==!1&&L}}return L&&!C.defaultPrevented}function cc(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(l,h||0)}function Vn(l){l.g=cc(()=>{l.g=null,l.i&&(l.i=!1,Vn(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class wh extends P{constructor(h,y){super(),this.m=h,this.l=y,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Vn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(l){P.call(this),this.h=l,this.g={}}f(ei,P);var bt=[];function hr(l){z(l.g,function(h,y){this.g.hasOwnProperty(y)&&nn(h)},l),l.g={}}ei.prototype.N=function(){ei.Z.N.call(this),hr(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ha=o.JSON.stringify,Eh=o.JSON.parse,Ui=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function uc(){}function fa(){}var fr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jn(){k.call(this,"d")}f(jn,k);function zi(){k.call(this,"c")}f(zi,k);var Lt={},dc=null;function $i(){return dc=dc||new De}Lt.Ia="serverreachability";function pa(l){k.call(this,Lt.Ia,l)}f(pa,k);function Ur(l){const h=$i();rt(h,new pa(h))}Lt.STAT_EVENT="statevent";function hc(l,h){k.call(this,Lt.STAT_EVENT,l),this.stat=h}f(hc,k);function Ye(l){const h=$i();rt(h,new hc(h,l))}Lt.Ja="timingevent";function pn(l,h){k.call(this,Lt.Ja,l),this.size=h}f(pn,k);function ti(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function Z(){this.g=!0}Z.prototype.ua=function(){this.g=!1};function Ee(l,h,y,C,L,V){l.info(function(){if(l.g)if(V){var q="",he=V.split("&");for(let Se=0;Se<he.length;Se++){var Xe=he[Se].split("=");if(Xe.length>1){const it=Xe[0];Xe=Xe[1];const zn=it.split("_");q=zn.length>=2&&zn[1]=="type"?q+(it+"="+Xe+"&"):q+(it+"=redacted&")}}}else q=null;else q=V;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+h+`
`+y+`
`+q})}function Ie(l,h,y,C,L,V,q){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+h+`
`+y+`
`+V+" "+q})}function st(l,h,y,C){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Fn(l,y)+(C?" "+C:"")})}function Wt(l,h){l.info(function(){return"TIMEOUT: "+h})}Z.prototype.info=function(){};function Fn(l,h){if(!l.g)return h;if(!h)return null;try{const V=JSON.parse(h);if(V){for(l=0;l<V.length;l++)if(Array.isArray(V[l])){var y=V[l];if(!(y.length<2)){var C=y[1];if(Array.isArray(C)&&!(C.length<1)){var L=C[0];if(L!="noop"&&L!="stop"&&L!="close")for(let q=1;q<C.length;q++)C[q]=""}}}}return ha(V)}catch{return h}}var rn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mn;function Th(){}f(Th,uc),Th.prototype.g=function(){return new XMLHttpRequest},mn=new Th;function ma(l){return encodeURIComponent(String(l))}function QI(l){var h=1;l=l.split(":");const y=[];for(;h>0&&l.length;)y.push(l.shift()),h--;return l.length&&y.push(l.join(":")),y}function zr(l,h,y,C){this.j=l,this.i=h,this.l=y,this.S=C||1,this.V=new ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gy}function gy(){this.i=null,this.g="",this.h=!1}var yy={},xh={};function Sh(l,h,y){l.M=1,l.A=pc(Un(h)),l.u=y,l.R=!0,vy(l,null)}function vy(l,h){l.F=Date.now(),fc(l),l.B=Un(l.A);var y=l.B,C=l.S;Array.isArray(C)||(C=[String(C)]),ky(y.i,"t",C),l.C=0,y=l.j.L,l.h=new gy,l.g=Qy(l.j,y?h:null,!l.u),l.P>0&&(l.O=new wh(u(l.Y,l,l.g),l.P)),h=l.V,y=l.g,C=l.ba;var L="readystatechange";Array.isArray(L)||(L&&(bt[0]=L.toString()),L=bt);for(let V=0;V<L.length;V++){const q=fn(y,L[V],C||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.J?re(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Ur(),Ee(l.i,l.v,l.B,l.l,l.S,l.u)}zr.prototype.ba=function(l){l=l.target;const h=this.O;h&&Hr(l)==3?h.j():this.Y(l)},zr.prototype.Y=function(l){try{if(l==this.g)e:{const he=Hr(this.g),Xe=this.g.ya(),Se=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||jy(this.g)))){this.K||he!=4||Xe==7||(Xe==8||Se<=0?Ur(3):Ur(2)),Ih(this);var h=this.g.ca();this.X=h;var y=YI(this);if(this.o=h==200,Ie(this.i,this.v,this.B,this.l,this.S,he,h),this.o){if(this.U&&!this.L){t:{if(this.g){var C,L=this.g;if((C=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(C)){var V=C;break t}}V=null}if(l=V)st(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ch(this,l);else{this.o=!1,this.m=3,Ye(12),ni(this),ga(this);break e}}if(this.R){l=!0;let it;for(;!this.K&&this.C<y.length;)if(it=XI(this,y),it==xh){he==4&&(this.m=4,Ye(14),l=!1),st(this.i,this.l,null,"[Incomplete Response]");break}else if(it==yy){this.m=4,Ye(15),st(this.i,this.l,y,"[Invalid Chunk]"),l=!1;break}else st(this.i,this.l,it,null),Ch(this,it);if(_y(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||y.length!=0||this.h.h||(this.m=1,Ye(16),l=!1),this.o=this.o&&l,!l)st(this.i,this.l,y,"[Invalid Chunked Response]"),ni(this),ga(this);else if(y.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Dh(q),q.P=!0,Ye(11))}}else st(this.i,this.l,y,null),Ch(this,y);he==4&&ni(this),this.o&&!this.K&&(he==4?Wy(this.j,this):(this.o=!1,fc(this)))}else dC(this.g),h==400&&y.indexOf("Unknown SID")>0?(this.m=3,Ye(12)):(this.m=0,Ye(13)),ni(this),ga(this)}}}catch{}finally{}};function YI(l){if(!_y(l))return l.g.la();const h=jy(l.g);if(h==="")return"";let y="";const C=h.length,L=Hr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return ni(l),ga(l),"";l.h.i=new o.TextDecoder}for(let V=0;V<C;V++)l.h.h=!0,y+=l.h.i.decode(h[V],{stream:!(L&&V==C-1)});return h.length=0,l.h.g+=y,l.C=0,l.h.g}function _y(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function XI(l,h){var y=l.C,C=h.indexOf(`
`,y);return C==-1?xh:(y=Number(h.substring(y,C)),isNaN(y)?yy:(C+=1,C+y>h.length?xh:(h=h.slice(C,C+y),l.C=C+y,h)))}zr.prototype.cancel=function(){this.K=!0,ni(this)};function fc(l){l.T=Date.now()+l.H,wy(l,l.H)}function wy(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ti(u(l.aa,l),h)}function Ih(l){l.D&&(o.clearTimeout(l.D),l.D=null)}zr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Wt(this.i,this.B),this.M!=2&&(Ur(),Ye(17)),ni(this),this.m=2,ga(this)):wy(this,this.T-l)};function ga(l){l.j.I==0||l.K||Wy(l.j,l)}function ni(l){Ih(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,hr(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Ch(l,h){try{var y=l.j;if(y.I!=0&&(y.g==l||bh(y.h,l))){if(!l.L&&bh(y.h,l)&&y.I==3){try{var C=y.Ba.g.parse(h)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<l.F)_c(y),yc(y);else break e;Oh(y),Ye(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ti(u(y.Va,y),6e3));xy(y.h)<=1&&y.ta&&(y.ta=void 0)}else si(y,11)}else if((l.L||y.g==l)&&_c(y),!R(h))for(L=y.Ba.g.parse(h),h=0;h<L.length;h++){let Se=L[h];const it=Se[0];if(!(it<=y.K))if(y.K=it,Se=Se[1],y.I==2)if(Se[0]=="c"){y.M=Se[1],y.ba=Se[2];const zn=Se[3];zn!=null&&(y.ka=zn,y.j.info("VER="+y.ka));const ii=Se[4];ii!=null&&(y.za=ii,y.j.info("SVER="+y.za));const Wr=Se[5];Wr!=null&&typeof Wr=="number"&&Wr>0&&(C=1.5*Wr,y.O=C,y.j.info("backChannelRequestTimeoutMs_="+C)),C=y;const qr=l.g;if(qr){const Ec=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ec){var V=C.h;V.g||Ec.indexOf("spdy")==-1&&Ec.indexOf("quic")==-1&&Ec.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ah(V,V.h),V.h=null))}if(C.G){const Lh=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;Lh&&(C.wa=Lh,be(C.J,C.G,Lh))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-l.F,y.j.info("Handshake RTT: "+y.T+"ms")),C=y;var q=l;if(C.na=Gy(C,C.L?C.ba:null,C.W),q.L){Sy(C.h,q);var he=q,Xe=C.O;Xe&&(he.H=Xe),he.D&&(Ih(he),fc(he)),C.g=q}else By(C);y.i.length>0&&vc(y)}else Se[0]!="stop"&&Se[0]!="close"||si(y,7);else y.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?si(y,7):Nh(y):Se[0]!="noop"&&y.l&&y.l.qa(Se),y.A=0)}}Ur(4)}catch{}}var JI=class{constructor(l,h){this.g=l,this.map=h}};function Ey(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ty(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function xy(l){return l.h?1:l.g?l.g.size:0}function bh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ah(l,h){l.g?l.g.add(h):l.h=h}function Sy(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Ey.prototype.cancel=function(){if(this.i=Iy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Iy(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const y of l.g.values())h=h.concat(y.G);return h}return p(l.i)}var Cy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZI(l,h){if(l){l=l.split("&");for(let y=0;y<l.length;y++){const C=l[y].indexOf("=");let L,V=null;C>=0?(L=l[y].substring(0,C),V=l[y].substring(C+1)):L=l[y],h(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function $r(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof $r?(this.l=l.l,ya(this,l.j),this.o=l.o,this.g=l.g,va(this,l.u),this.h=l.h,Ph(this,Ny(l.i)),this.m=l.m):l&&(h=String(l).match(Cy))?(this.l=!1,ya(this,h[1]||"",!0),this.o=_a(h[2]||""),this.g=_a(h[3]||"",!0),va(this,h[4]),this.h=_a(h[5]||"",!0),Ph(this,h[6]||"",!0),this.m=_a(h[7]||"")):(this.l=!1,this.i=new Ea(null,this.l))}$r.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(wa(h,by,!0),":");var y=this.g;return(y||h=="file")&&(l.push("//"),(h=this.o)&&l.push(wa(h,by,!0),"@"),l.push(ma(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&l.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(wa(y,y.charAt(0)=="/"?nC:tC,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",wa(y,sC)),l.join("")},$r.prototype.resolve=function(l){const h=Un(this);let y=!!l.j;y?ya(h,l.j):y=!!l.o,y?h.o=l.o:y=!!l.g,y?h.g=l.g:y=l.u!=null;var C=l.h;if(y)va(h,l.u);else if(y=!!l.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var L=h.h.lastIndexOf("/");L!=-1&&(C=h.h.slice(0,L+1)+C)}if(L=C,L==".."||L==".")C="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){C=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let q=0;q<L.length;){const he=L[q++];he=="."?C&&q==L.length&&V.push(""):he==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),C&&q==L.length&&V.push("")):(V.push(he),C=!0)}C=V.join("/")}else C=L}return y?h.h=C:y=l.i.toString()!=="",y?Ph(h,Ny(l.i)):y=!!l.m,y&&(h.m=l.m),h};function Un(l){return new $r(l)}function ya(l,h,y){l.j=y?_a(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function va(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function Ph(l,h,y){h instanceof Ea?(l.i=h,iC(l.i,l.l)):(y||(h=wa(h,rC)),l.i=new Ea(h,l.l))}function be(l,h,y){l.i.set(h,y)}function pc(l){return be(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function _a(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function wa(l,h,y){return typeof l=="string"?(l=encodeURI(l).replace(h,eC),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function eC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var by=/[#\/\?@]/g,tC=/[#\?:]/g,nC=/[#\?]/g,rC=/[#\?@]/g,sC=/#/g;function Ea(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ri(l){l.g||(l.g=new Map,l.h=0,l.i&&ZI(l.i,function(h,y){l.add(decodeURIComponent(h.replace(/\+/g," ")),y)}))}t=Ea.prototype,t.add=function(l,h){ri(this),this.i=null,l=Bi(this,l);let y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(h),this.h+=1,this};function Ay(l,h){ri(l),h=Bi(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Py(l,h){return ri(l),h=Bi(l,h),l.g.has(h)}t.forEach=function(l,h){ri(this),this.g.forEach(function(y,C){y.forEach(function(L){l.call(h,L,C,this)},this)},this)};function Ry(l,h){ri(l);let y=[];if(typeof h=="string")Py(l,h)&&(y=y.concat(l.g.get(Bi(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)y=y.concat(l[h]);return y}t.set=function(l,h){return ri(this),this.i=null,l=Bi(this,l),Py(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=Ry(this,l),l.length>0?String(l[0]):h):h};function ky(l,h,y){Ay(l,h),y.length>0&&(l.i=null,l.g.set(Bi(l,h),p(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let C=0;C<h.length;C++){var y=h[C];const L=ma(y);y=Ry(this,y);for(let V=0;V<y.length;V++){let q=L;y[V]!==""&&(q+="="+ma(y[V])),l.push(q)}}return this.i=l.join("&")};function Ny(l){const h=new Ea;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function Bi(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function iC(l,h){h&&!l.j&&(ri(l),l.i=null,l.g.forEach(function(y,C){const L=C.toLowerCase();C!=L&&(Ay(this,C),ky(this,L,y))},l)),l.j=h}function oC(l,h){const y=new Z;if(o.Image){const C=new Image;C.onload=d(Br,y,"TestLoadImage: loaded",!0,h,C),C.onerror=d(Br,y,"TestLoadImage: error",!1,h,C),C.onabort=d(Br,y,"TestLoadImage: abort",!1,h,C),C.ontimeout=d(Br,y,"TestLoadImage: timeout",!1,h,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else h(!1)}function aC(l,h){const y=new Z,C=new AbortController,L=setTimeout(()=>{C.abort(),Br(y,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:C.signal}).then(V=>{clearTimeout(L),V.ok?Br(y,"TestPingServer: ok",!0,h):Br(y,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Br(y,"TestPingServer: error",!1,h)})}function Br(l,h,y,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(y)}catch{}}function lC(){this.g=new Ui}function Rh(l){this.i=l.Sb||null,this.h=l.ab||!1}f(Rh,uc),Rh.prototype.g=function(){return new mc(this.i,this.h)};function mc(l,h){De.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(mc,De),t=mc.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,xa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oy(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oy(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Ta(this):xa(this),this.readyState==3&&Oy(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Ta(this))},t.Na=function(l){this.g&&(this.response=l,Ta(this))},t.ga=function(){this.g&&Ta(this)};function Ta(l){l.readyState=4,l.l=null,l.j=null,l.B=null,xa(l)}t.setRequestHeader=function(l,h){this.A.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var y=h.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=h.next();return l.join(`\r
`)};function xa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Dy(l){let h="";return z(l,function(y,C){h+=C,h+=":",h+=y,h+=`\r
`}),h}function kh(l,h,y){e:{for(C in y){var C=!1;break e}C=!0}C||(y=Dy(y),typeof l=="string"?y!=null&&ma(y):be(l,h,y))}function Ue(l){De.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ue,De);var cC=/^https?$/i,uC=["POST","PUT"];t=Ue.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,h,y,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mn.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(V){Ly(this,V);return}if(l=y||"",y=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)y.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const V of C.keys())y.set(V,C.get(V));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(uC,h,void 0)>=0)||C||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of y)this.g.setRequestHeader(V,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(V){Ly(this,V)}};function Ly(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,My(l),gc(l)}function My(l){l.A||(l.A=!0,rt(l,"complete"),rt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,rt(this,"complete"),rt(this,"abort"),gc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gc(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Vy(this):this.Xa())},t.Xa=function(){Vy(this)};function Vy(l){if(l.h&&typeof i<"u"){if(l.v&&Hr(l)==4)setTimeout(l.Ca.bind(l),0);else if(rt(l,"readystatechange"),Hr(l)==4){l.h=!1;try{const V=l.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var y;if(!(y=h)){var C;if(C=V===0){let q=String(l.D).match(Cy)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),C=!cC.test(q?q.toLowerCase():"")}y=C}if(y)rt(l,"complete"),rt(l,"success");else{l.o=6;try{var L=Hr(l)>2?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.ca()+"]",My(l)}}finally{gc(l)}}}}function gc(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const y=l.g;l.g=null,h||rt(l,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Hr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Hr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Eh(h)}};function jy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function dC(l){const h={};l=(l.g&&Hr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(R(l[C]))continue;var y=QI(l[C]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=h[L]||[];h[L]=V,V.push(y)}K(h,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(l,h,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||h}function Fy(l){this.za=0,this.i=[],this.j=new Z,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sa("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sa("baseRetryDelayMs",5e3,l),this.Za=Sa("retryDelaySeedMs",1e4,l),this.Ta=Sa("forwardChannelMaxRetries",2,l),this.va=Sa("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Ey(l&&l.concurrentRequestLimit),this.Ba=new lC,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Fy.prototype,t.ka=8,t.I=1,t.connect=function(l,h,y,C){Ye(0),this.W=l,this.H=h||{},y&&C!==void 0&&(this.H.OSID=y,this.H.OAID=C),this.F=this.X,this.J=Gy(this,null,this.W),vc(this)};function Nh(l){if(Uy(l),l.I==3){var h=l.V++,y=Un(l.J);if(be(y,"SID",l.M),be(y,"RID",h),be(y,"TYPE","terminate"),Ia(l,y),h=new zr(l,l.j,h),h.M=2,h.A=pc(Un(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=h.A,y=!0),y||(h.g=Qy(h.j,null),h.g.ea(h.A)),h.F=Date.now(),fc(h)}Ky(l)}function yc(l){l.g&&(Dh(l),l.g.cancel(),l.g=null)}function Uy(l){yc(l),l.v&&(o.clearTimeout(l.v),l.v=null),_c(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function vc(l){if(!Ty(l.h)&&!l.m){l.m=!0;var h=l.Ea;D||x(),M||(D(),M=!0),I.add(h,l),l.D=0}}function hC(l,h){return xy(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ti(u(l.Ea,l,h),qy(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const L=new zr(this,this.j,l);let V=this.o;if(this.U&&(V?(V=re(V),de(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var h=0,y=0;y<this.i.length;y++){t:{var C=this.i[y];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(h+=C,h>4096){h=y;break e}if(h===4096||y===this.i.length-1){h=y+1;break e}}h=1e3}else h=1e3;h=$y(this,L,h),y=Un(this.J),be(y,"RID",l),be(y,"CVER",22),this.G&&be(y,"X-HTTP-Session-Id",this.G),Ia(this,y),V&&(this.R?h="headers="+ma(Dy(V))+"&"+h:this.u&&kh(y,this.u,V)),Ah(this.h,L),this.Ra&&be(y,"TYPE","init"),this.S?(be(y,"$req",h),be(y,"SID","null"),L.U=!0,Sh(L,y,null)):Sh(L,y,h),this.I=2}}else this.I==3&&(l?zy(this,l):this.i.length==0||Ty(this.h)||zy(this))};function zy(l,h){var y;h?y=h.l:y=l.V++;const C=Un(l.J);be(C,"SID",l.M),be(C,"RID",y),be(C,"AID",l.K),Ia(l,C),l.u&&l.o&&kh(C,l.u,l.o),y=new zr(l,l.j,y,l.D+1),l.u===null&&(y.J=l.o),h&&(l.i=h.G.concat(l.i)),h=$y(l,y,1e3),y.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Ah(l.h,y),Sh(y,C,h)}function Ia(l,h){l.H&&z(l.H,function(y,C){be(h,C,y)}),l.l&&z({},function(y,C){be(h,C,y)})}function $y(l,h,y){y=Math.min(l.i.length,y);const C=l.l?u(l.l.Ka,l.l,l):null;e:{var L=l.i;let he=-1;for(;;){const Xe=["count="+y];he==-1?y>0?(he=L[0].g,Xe.push("ofs="+he)):he=0:Xe.push("ofs="+he);let Se=!0;for(let it=0;it<y;it++){var V=L[it].g;const zn=L[it].map;if(V-=he,V<0)he=Math.max(0,L[it].g-100),Se=!1;else try{V="req"+V+"_"||"";try{var q=zn instanceof Map?zn:Object.entries(zn);for(const[ii,Wr]of q){let qr=Wr;a(Wr)&&(qr=ha(Wr)),Xe.push(V+ii+"="+encodeURIComponent(qr))}}catch(ii){throw Xe.push(V+"type="+encodeURIComponent("_badmap")),ii}}catch{C&&C(zn)}}if(Se){q=Xe.join("&");break e}}q=void 0}return l=l.i.splice(0,y),h.G=l,q}function By(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;D||x(),M||(D(),M=!0),I.add(h,l),l.A=0}}function Oh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ti(u(l.Da,l),qy(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Hy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ti(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ye(10),yc(this),Hy(this))};function Dh(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Hy(l){l.g=new zr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=Un(l.na);be(h,"RID","rpc"),be(h,"SID",l.M),be(h,"AID",l.K),be(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&be(h,"TO",l.ia),be(h,"TYPE","xmlhttp"),Ia(l,h),l.u&&l.o&&kh(h,l.u,l.o),l.O&&(l.g.H=l.O);var y=l.g;l=l.ba,y.M=1,y.A=pc(Un(h)),y.u=null,y.R=!0,vy(y,l)}t.Va=function(){this.C!=null&&(this.C=null,yc(this),Oh(this),Ye(19))};function _c(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Wy(l,h){var y=null;if(l.g==h){_c(l),Dh(l),l.g=null;var C=2}else if(bh(l.h,h))y=h.G,Sy(l.h,h),C=1;else return;if(l.I!=0){if(h.o)if(C==1){y=h.u?h.u.length:0,h=Date.now()-h.F;var L=l.D;C=$i(),rt(C,new pn(C,y)),vc(l)}else By(l);else if(L=h.m,L==3||L==0&&h.X>0||!(C==1&&hC(l,h)||C==2&&Oh(l)))switch(y&&y.length>0&&(h=l.h,h.i=h.i.concat(y)),L){case 1:si(l,5);break;case 4:si(l,10);break;case 3:si(l,6);break;default:si(l,2)}}}function qy(l,h){let y=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(y*=2),y*h}function si(l,h){if(l.j.info("Error code "+h),h==2){var y=u(l.bb,l),C=l.Ua;const L=!C;C=new $r(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ya(C,"https"),pc(C),L?oC(C.toString(),y):aC(C.toString(),y)}else Ye(2);l.I=0,l.l&&l.l.pa(h),Ky(l),Uy(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function Ky(l){if(l.I=0,l.ja=[],l.l){const h=Iy(l.h);(h.length!=0||l.i.length!=0)&&(S(l.ja,h),S(l.ja,l.i),l.h.i.length=0,p(l.i),l.i.length=0),l.l.oa()}}function Gy(l,h,y){var C=y instanceof $r?Un(y):new $r(y);if(C.g!="")h&&(C.g=h+"."+C.g),va(C,C.u);else{var L=o.location;C=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;const V=new $r(null);C&&ya(V,C),h&&(V.g=h),L&&va(V,L),y&&(V.h=y),C=V}return y=l.G,h=l.wa,y&&h&&be(C,y,h),be(C,"VER",l.ka),Ia(l,C),C}function Qy(l,h,y){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Ue(new Rh({ab:y})):new Ue(l.ma),h.Fa(l.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yy(){}t=Yy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wc(){}wc.prototype.g=function(l,h){return new qt(l,h)};function qt(l,h){De.call(this),this.g=new Fy(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!R(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!R(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Hi(this)}f(qt,De),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Nh(this.g)},qt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.v&&(y={},y.__data__=ha(l),l=y);h.i.push(new JI(h.Ya++,l)),h.I==3&&vc(h)},qt.prototype.N=function(){this.g.l=null,delete this.j,Nh(this.g),delete this.g,qt.Z.N.call(this)};function Xy(l){jn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const y in h){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}f(Xy,jn);function Jy(){zi.call(this),this.status=1}f(Jy,zi);function Hi(l){this.g=l}f(Hi,Yy),Hi.prototype.ra=function(){rt(this.g,"a")},Hi.prototype.qa=function(l){rt(this.g,new Xy(l))},Hi.prototype.pa=function(l){rt(this.g,new Jy)},Hi.prototype.oa=function(){rt(this.g,"b")},wc.prototype.createWebChannel=wc.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,SS=function(){return new wc},xS=function(){return $i()},TS=Lt,Kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rn.NO_ERROR=0,rn.TIMEOUT=8,rn.HTTP_ERROR=6,wu=rn,Mt.COMPLETE="complete",ES=Mt,fa.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",De.prototype.listen=De.prototype.J,$a=fa,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,wS=Ue}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const P0="@firebase/firestore",R0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new bg("@firebase/firestore");function qi(){return Ni.logLevel}function G(t,...e){if(Ni.logLevel<=pe.DEBUG){const n=e.map(jg);Ni.debug(`Firestore (${aa}): ${t}`,...n)}}function Dr(t,...e){if(Ni.logLevel<=pe.ERROR){const n=e.map(jg);Ni.error(`Firestore (${aa}): ${t}`,...n)}}function $o(t,...e){if(Ni.logLevel<=pe.WARN){const n=e.map(jg);Ni.warn(`Firestore (${aa}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,IS(t,r,n)}function IS(t,e,n){let r=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Dr(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||IS(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class AV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PV{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ns;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ns,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ns)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new CS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}}class RV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new RV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new k0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=OV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Gp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return bf(s)===bf(i)?me(s,i):bf(s)?1:-1}return me(t.length,e.length)}const DV=55296,LV=57343;function bf(t){const e=t.charCodeAt(0);return e>=DV&&e<=LV}function Bo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__name__";class Hn{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Hn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Hn.isNumericId(e),s=Hn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Hn.extractNumericId(e).compare(Hn.extractNumericId(n)):Gp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class Me extends Hn{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const MV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Hn{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return MV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new ht([N0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Me.fromString(e))}static fromName(e){return new J(Me.fromString(e).popFirst(5))}static empty(){return new J(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jV(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O0(t){if(!J.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ug(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function Ml(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ug(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function ic(t,e){if(!bS(t))throw new Y($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=-62135596800,L0=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*L0);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<D0)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L0}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ic(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Qe("string",Re._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new Re(0,0))}static max(){return new se(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function FV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=se.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Fs(s,J.empty(),e)}function UV(t){return new Fs(t.readTime,t.key,Vl)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(se.min(),J.empty(),Vl)}static max(){return new Fs(se.max(),J.empty(),Vl)}}function zV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==$V)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function HV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ca(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg=-1;function sh(t){return t==null}function hd(t){return t===0&&1/t==-1/0}function WV(t){return typeof t=="number"&&Number.isInteger(t)&&!hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="";function qV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=M0(e)),e=KV(t.get(n),e);return M0(e)}function KV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case AS:n+="";break;default:n+=i}}return n}function M0(t){return t+AS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dt.RED,this.left=s??dt.EMPTY,this.right=i??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j0(this.data.getIterator())}getIteratorFrom(e){return new j0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class j0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new nt(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new RS("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const GV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=GV.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zs(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="server_timestamp",NS="__type__",OS="__previous_value__",DS="__local_write_time__";function $g(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NS])==null?void 0:r.stringValue)===kS}function ih(t){const e=t.mapValue.fields[OS];return $g(e)?ih(e):e}function jl(t){const e=Us(t.mapValue.fields[DS].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r,s,i,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const fd="(default)";class Fl{constructor(e,n){this.projectId=e,this.database=n||fd}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===fd}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="__type__",MS="__max__",Yc={mapValue:{fields:{__type__:{stringValue:MS}}}},VS="__vector__",pd="value";function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$g(t)?4:XV(t)?9007199254740991:YV(t)?10:11:te(28295,{value:t})}function or(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jl(t).isEqual(jl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Us(s.timestampValue),a=Us(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return zs(s.bytesValue).isEqual(zs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Be(s.doubleValue),a=Be(i.doubleValue);return o===a?hd(o)===hd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(V0(o)!==V0(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!or(o[c],a[c])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function Ul(t,e){return(t.values||[]).find(n=>or(n,e))!==void 0}function Ho(t,e){if(t===e)return 0;const n=$s(t),r=$s(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Be(i.integerValue||i.doubleValue),c=Be(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return F0(t.timestampValue,e.timestampValue);case 4:return F0(jl(t),jl(e));case 5:return Gp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=zs(i),c=zs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=me(a[u],c[u]);if(d!==0)return d}return me(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(Be(i.latitude),Be(o.latitude));return a!==0?a:me(Be(i.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return U0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,S,E;const a=i.fields||{},c=o.fields||{},u=(m=a[pd])==null?void 0:m.arrayValue,d=(p=c[pd])==null?void 0:p.arrayValue,f=me(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((E=d==null?void 0:d.values)==null?void 0:E.length)||0);return f!==0?f:U0(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Yc.mapValue&&o===Yc.mapValue)return 0;if(i===Yc.mapValue)return 1;if(o===Yc.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=Gp(c[f],d[f]);if(m!==0)return m;const p=Ho(a[c[f]],u[d[f]]);if(p!==0)return p}return me(c.length,d.length)}(t.mapValue,e.mapValue);default:throw te(23264,{he:n})}}function F0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Us(t),r=Us(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function U0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ho(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function Wo(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Qp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Qp(n.fields[o])}`;return s+"}"}(t.mapValue):te(61005,{value:t})}function Eu(t){switch($s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ih(t);return e?16+Eu(e):16;case 5:return 2*t.stringValue.length;case 6:return zs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Eu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xs(r.fields,(i,o)=>{s+=i.length+Eu(o)}),s}(t.mapValue);default:throw te(13486,{value:t})}}function Yp(t){return!!t&&"integerValue"in t}function Bg(t){return!!t&&"arrayValue"in t}function z0(t){return!!t&&"nullValue"in t}function $0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tu(t){return!!t&&"mapValue"in t}function YV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LS])==null?void 0:r.stringValue)===VS}function sl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sl(t.arrayValue.values[n]);return e}return{...t}}function XV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(n)}setAll(e){let n=ht.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=sl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Tu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Qt(sl(this.value))}}function jS(t){const e=[];return Xs(t.fields,(n,r)=>{const s=new ht([n]);if(Tu(r)){const i=jS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,se.min(),se.min(),se.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,se.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,se.min(),se.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,se.min(),se.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.position=e,this.inclusive=n}}function B0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Ho(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function H0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n="asc"){this.field=e,this.dir=n}}function JV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{}class et extends FS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new e4(e,n,r):n==="array-contains"?new r4(e,r):n==="in"?new s4(e,r):n==="not-in"?new i4(e,r):n==="array-contains-any"?new o4(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new t4(e,r):new n4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ho(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends FS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ar(e,n)}matches(e){return US(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function US(t){return t.op==="and"}function zS(t){return ZV(t)&&US(t)}function ZV(t){for(const e of t.filters)if(e instanceof ar)return!1;return!0}function Xp(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Wo(t.value);if(zS(t))return t.filters.map(e=>Xp(e)).join(",");{const e=t.filters.map(n=>Xp(n)).join(",");return`${t.op}(${e})`}}function $S(t,e){return t instanceof et?function(r,s){return s instanceof et&&r.op===s.op&&r.field.isEqual(s.field)&&or(r.value,s.value)}(t,e):t instanceof ar?function(r,s){return s instanceof ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&$S(o,s.filters[a]),!0):!1}(t,e):void te(19439)}function BS(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${Wo(n.value)}`}(t):t instanceof ar?function(n){return n.op.toString()+" {"+n.getFilters().map(BS).join(" ,")+"}"}(t):"Filter"}class e4 extends et{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class t4 extends et{constructor(e,n){super(e,"in",n),this.keys=HS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class n4 extends et{constructor(e,n){super(e,"not-in",n),this.keys=HS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class r4 extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bg(n)&&Ul(n.arrayValue,this.value)}}class s4 extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ul(this.value.arrayValue,n)}}class i4 extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ul(this.value.arrayValue,n)}}class o4 extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ul(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function W0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new a4(t,e,n,r,s,i,o)}function Hg(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wo(r)).join(",")),e.Te=n}return e.Te}function Wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$S(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H0(t.startAt,e.startAt)&&H0(t.endAt,e.endAt)}function Jp(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l4(t,e,n,r,s,i,o,a){return new oh(t,e,n,r,s,i,o,a)}function qg(t){return new oh(t)}function q0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c4(t){return t.collectionGroup!==null}function il(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(ht.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new gd(i,r))}),n.has(ht.keyField().canonicalString())||e.Ie.push(new gd(ht.keyField(),r))}return e.Ie}function tr(t){const e=ae(t);return e.Ee||(e.Ee=u4(e,il(t))),e.Ee}function u4(t,e){if(t.limitType==="F")return W0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new gd(s.field,i)});const n=t.endAt?new md(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new md(t.startAt.position,t.startAt.inclusive):null;return W0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zp(t,e,n){return new oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ah(t,e){return Wg(tr(t),tr(e))&&t.limitType===e.limitType}function WS(t){return`${Hg(tr(t))}|lt:${t.limitType}`}function Ki(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>BS(s)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wo(s)).join(",")),`Target(${r})`}(tr(t))}; limitType=${t.limitType})`}function lh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of il(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=B0(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,il(r),s)||r.endAt&&!function(o,a,c){const u=B0(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,il(r),s))}(t,e)}function d4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qS(t){return(e,n)=>{let r=!1;for(const s of il(t)){const i=h4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function h4(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Ho(c,u):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new Fe(J.comparator);function Lr(){return f4}const KS=new Fe(J.comparator);function Ba(...t){let e=KS;for(const n of t)e=e.insert(n.key,n);return e}function GS(t){let e=KS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return ol()}function QS(){return ol()}function ol(){return new Vi(t=>t.toString(),(t,e)=>t.isEqual(e))}const p4=new Fe(J.comparator),m4=new nt(J.comparator);function ge(...t){let e=m4;for(const n of t)e=e.add(n);return e}const g4=new nt(me);function y4(){return g4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function YS(t){return{integerValue:""+t}}function v4(t,e){return WV(e)?YS(e):Kg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function _4(t,e,n){return t instanceof yd?function(s,i){const o={fields:{[NS]:{stringValue:kS},[DS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$g(i)&&(i=ih(i)),i&&(o.fields[OS]=i),{mapValue:o}}(n,e):t instanceof zl?JS(t,e):t instanceof $l?ZS(t,e):function(s,i){const o=XS(s,i),a=K0(o)+K0(s.Ae);return Yp(o)&&Yp(s.Ae)?YS(a):Kg(s.serializer,a)}(t,e)}function w4(t,e,n){return t instanceof zl?JS(t,e):t instanceof $l?ZS(t,e):n}function XS(t,e){return t instanceof vd?function(r){return Yp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class yd extends ch{}class zl extends ch{constructor(e){super(),this.elements=e}}function JS(t,e){const n=eI(e);for(const r of t.elements)n.some(s=>or(s,r))||n.push(r);return{arrayValue:{values:n}}}class $l extends ch{constructor(e){super(),this.elements=e}}function ZS(t,e){let n=eI(e);for(const r of t.elements)n=n.filter(s=>!or(s,r));return{arrayValue:{values:n}}}class vd extends ch{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function K0(t){return Be(t.integerValue||t.doubleValue)}function eI(t){return Bg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function E4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof zl&&s instanceof zl||r instanceof $l&&s instanceof $l?Bo(r.elements,s.elements,or):r instanceof vd&&s instanceof vd?or(r.Ae,s.Ae):r instanceof yd&&s instanceof yd}(t.transform,e.transform)}class T4{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class uh{}function tI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rI(t.key,Ir.none()):new dh(t.key,t.data,Ir.none());{const n=t.data,r=Qt.empty();let s=new nt(ht.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ji(t.key,r,new Cn(s.toArray()),Ir.none())}}function x4(t,e,n){t instanceof dh?function(s,i,o){const a=s.value.clone(),c=Q0(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(s,i,o){if(!xu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Q0(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(nI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof dh?function(i,o,a,c){if(!xu(i.precondition,o))return a;const u=i.value.clone(),d=Y0(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(i,o,a,c){if(!xu(i.precondition,o))return a;const u=Y0(i.fieldTransforms,c,o),d=o.data;return d.setAll(nI(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return xu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function S4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=XS(r.transform,s||null);i!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,i))}return n||null}function G0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Bo(r,s,(i,o)=>E4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dh extends uh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ji extends uh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Q0(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,w4(o,a,n[s]))}return r}function Y0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,_4(i,o,e))}return r}class rI extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I4 extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&x4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=tI(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(n,r)=>G0(n,r))&&Bo(this.baseMutations,e.baseMutations,(n,r)=>G0(n,r))}}class Gg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return p4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Gg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,ve;function P4(t){switch(t){case $.OK:return te(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function sI(t){if(t===void 0)return Dr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ke.OK:return $.OK;case Ke.CANCELLED:return $.CANCELLED;case Ke.UNKNOWN:return $.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return $.INTERNAL;case Ke.UNAVAILABLE:return $.UNAVAILABLE;case Ke.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ke.NOT_FOUND:return $.NOT_FOUND;case Ke.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ke.ABORTED:return $.ABORTED;case Ke.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ke.DATA_LOSS:return $.DATA_LOSS;default:return te(39323,{code:t})}}(ve=Ke||(Ke={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=new ks([4294967295,4294967295],0);function X0(t){const e=R4().encode(t),n=new _S;return n.update(e),new Uint8Array(n.digest())}function J0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ks([n,r],0),new ks([s,i],0)]}class Qg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ha(`Invalid padding: ${n}`);if(r<0)throw new Ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ks.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ks.fromNumber(r)));return s.compare(k4)===1&&(s=new ks([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=X0(e),[r,s]=J0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Qg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=X0(e),[r,s]=J0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hh(se.min(),s,new Fe(me),Lr(),ge())}}class oc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new oc(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class iI{constructor(e,n){this.targetId=e,this.Ce=n}}class oI{constructor(e,n,r=gt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Z0{constructor(){this.ve=0,this.Fe=ew(),this.Me=gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:te(38017,{changeType:i})}}),new oc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ew()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class N4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lr(),this.Je=Xc(),this.He=Xc(),this.Ye=new Fe(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Jp(i))if(r===0){const o=new J(i.path);this.et(n,o,St.newNoDocument(o,se.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=zs(r).toUint8Array()}catch(c){if(c instanceof RS)return $o("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Qg(o,s,i)}catch(c){return $o(c instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Jp(a.target)){const c=new J(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,St.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ge();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new hh(e,n,this.Ye,this.je,r);return this.je=Lr(),this.Je=Xc(),this.He=Xc(),this.Ye=new Fe(me),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Z0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nt(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nt(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new Fe(J.comparator)}function ew(){return new Fe(J.comparator)}const O4={asc:"ASCENDING",desc:"DESCENDING"},D4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L4={and:"AND",or:"OR"};class M4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function em(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function _d(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function V4(t,e){return _d(t,e.toTimestamp())}function nr(t){return Te(!!t,49232),se.fromTimestamp(function(n){const r=Us(n);return new Re(r.seconds,r.nanos)}(t))}function Yg(t,e){return tm(t,e).canonicalString()}function tm(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lI(t){const e=Me.fromString(t);return Te(fI(e),10190,{key:e.toString()}),e}function nm(t,e){return Yg(t.databaseId,e.path)}function Af(t,e){const n=lI(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(uI(n))}function cI(t,e){return Yg(t.databaseId,e)}function j4(t){const e=lI(t);return e.length===4?Me.emptyPath():uI(e)}function rm(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uI(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tw(t,e,n){return{name:nm(t,e),fields:n.value.mapValue.fields}}function F4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Te(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:sI(u.code);return new Y(d,u.message||"")}(o);n=new oI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Af(t,r.document.name),i=nr(r.document.updateTime),o=r.document.createTime?nr(r.document.createTime):se.min(),a=new Qt({mapValue:{fields:r.document.fields}}),c=St.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Su(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Af(t,r.document),i=r.readTime?nr(r.readTime):se.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Su([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Af(t,r.document),i=r.removedTargetIds||[];n=new Su([],i,s,null)}else{if(!("filter"in e))return te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new A4(s,i),a=r.targetId;n=new iI(a,o)}}return n}function U4(t,e){let n;if(e instanceof dh)n={update:tw(t,e.key,e.value)};else if(e instanceof rI)n={delete:nm(t,e.key)};else if(e instanceof ji)n={update:tw(t,e.key,e.data),updateMask:Q4(e.fieldMask)};else{if(!(e instanceof I4))return te(16599,{Vt:e.type});n={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof yd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw te(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:V4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:te(27497)}(t,e.precondition)),n}function z4(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?nr(s.updateTime):nr(i);return o.isEqual(se.min())&&(o=nr(i)),new T4(o,s.transformResults||[])}(n,e))):[]}function $4(t,e){return{documents:[cI(t,e.path)]}}function B4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cI(t,s);const i=function(u){if(u.length!==0)return hI(ar.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Gi(m.field),direction:q4(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=em(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function H4(t){let e=j4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=dI(f);return m instanceof ar&&zS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(S){return new gd(Qi(S.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,sh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new md(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new md(p,m)}(n.endAt)),l4(e,s,o,i,a,"F",c,u)}function W4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qi(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Qi(n.unaryFilter.field);return et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qi(n.unaryFilter.field);return et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qi(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(Qi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ar.create(n.compositeFilter.filters.map(r=>dI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function q4(t){return O4[t]}function K4(t){return D4[t]}function G4(t){return L4[t]}function Gi(t){return{fieldPath:t.canonicalString()}}function Qi(t){return ht.fromServerFormat(t.fieldPath)}function hI(t){return t instanceof et?function(n){if(n.op==="=="){if($0(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NAN"}};if(z0(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($0(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NOT_NAN"}};if(z0(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gi(n.field),op:K4(n.op),value:n.value}}}(t):t instanceof ar?function(n){const r=n.getFilters().map(s=>hI(s));return r.length===1?r[0]:{compositeFilter:{op:G4(n.op),filters:r}}}(t):te(54877,{filter:t})}function Q4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r,s,i=se.min(),o=se.min(),a=gt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.yt=e}}function X4(t){const e=H4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.Cn=new Z4}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Fs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class Z4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pI=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(pI,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="LruGarbageCollector",ej=1048576;function sw([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class tj{constructor(e){this.Ir=e,this.buffer=new nt(sw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(rw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ca(n)?G(rw,"Ignoring IndexedDB error during garbage collection: ",n):await la(n)}await this.Vr(3e5)})}}class rj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(rh.ce);const r=new tj(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(nw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),qi()<=pe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function sj(t,e){return new rj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.changes=new Vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&al(r.mutation,s,Cn.empty(),Re.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=fi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ba();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Lr();const o=ol(),a=function(){return ol()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ji)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),al(d.mutation,u,d.mutation.getFieldMask(),Re.now())):o.set(u.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new oj(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ol();let s=new Fe((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Cn.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(s.get(a.batchId)||ge()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=QS();d.forEach(m=>{if(!i.has(m)){const p=tI(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(fi());let a=Vl,c=i;return o.next(u=>U.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ge())).next(d=>({batchId:a,changes:GS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=Ba();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ba();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,c=>{const u=function(f,m){return new oh(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,St.newInvalidDocument(d)))});let a=Ba();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&al(d.mutation,u,Cn.empty(),Re.now()),lh(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:X4(s.bundledQuery),readTime:nr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.overlays=new Fe(J.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=fi(),i=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Fe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=fi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=fi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new b4(n,r));let i=this.qr.get(n);i===void 0&&(i=ge(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.Qr=new nt(ot.$r),this.Ur=new nt(ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ot(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new J(new Me([])),r=new ot(n,e),s=new ot(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new J(new Me([])),r=new ot(n,e),s=new ot(n,e+1);let i=ge();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ot(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return J.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nt(ot.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new C4(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new ot(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?zg:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),s=new ot(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(me);return n.forEach(s=>{const i=new ot(s,0),o=new ot(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new ot(new J(i),0);let a=new nt(me);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new ot(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ot(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.ri=e,this.docs=function(){return new Fe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Lr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Lr();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zV(UV(d),r)<=0||(s.has(d.key)||lh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){te(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fj(this)}getSize(e){return U.resolve(this.size)}}class fj extends ij{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.persistence=e,this.si=new Vi(n=>Hg(n),Wg),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new Xg,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new uj,this.referenceDelegate=e(this),this.Pi=new pj(this),this.indexManager=new J4,this.remoteDocumentCache=function(s){return new hj(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Y4(n),this.Ii=new lj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new dj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new mj(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class mj extends BV{constructor(e){super(),this.currentSequenceNumber=e}}class Jg{constructor(e){this.persistence=e,this.Ri=new Xg,this.Vi=null}static mi(e){return new Jg(e)}get fi(){if(this.Vi)return this.Vi;throw te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=J.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class wd{constructor(e,n){this.persistence=e,this.pi=new Vi(r=>qV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=sj(this,n)}static mi(e,n){return new wd(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,se.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eu(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Zg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return QO()?8:HV(Ct())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new gj;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(qi()<=pe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ki(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(qi()<=pe.DEBUG&&G("QueryEngine","Query:",Ki(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(qi()<=pe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ki(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):U.resolve())}ys(e,n){if(q0(n))return U.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zp(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,Zp(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return q0(n)||s.isEqual(se.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(qi()<=pe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ki(n)),this.vs(e,o,n,FV(s,Vl)).next(a=>a))})}Ds(e,n){let r=new nt(qS(e));return n.forEach((s,i)=>{lh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return qi()<=pe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ki(n)),this.ps.getDocumentsMatchingQuery(e,n,Fs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="LocalStore",vj=3e8;class _j{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Fe(me),this.xs=new Vi(i=>Hg(i),Wg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function wj(t,e,n,r){return new _j(t,e,n,r)}async function gI(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=ge();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function Ej(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,m=f.keys();let p=U.resolve();return m.forEach(S=>{p=p.next(()=>d.getEntry(c,S)).next(E=>{const w=u.docVersions.get(S);Te(w!==null,48541),E.version.compareTo(w)<0&&(f.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function yI(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Tj(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(gt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(E,w,v){return E.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=vj?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,d)&&a.push(n.Pi.updateTargetData(i,p))});let c=Lr(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(xj(i,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(se.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function xj(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Lr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):G(ey,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function Sj(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ij(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ys(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function sm(t,e,n){const r=ae(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ca(o))throw o;G(ey,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function iw(t,e,n){const r=ae(t);let s=se.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=ae(c),m=f.xs.get(d);return m!==void 0?U.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,d)}(r,o,tr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:se.min(),n?i:ge())).next(a=>(Cj(r,d4(e),a),{documents:a,Qs:i})))}function Cj(t,e,n){let r=t.Os.get(e)||se.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class ow{constructor(){this.activeTargetIds=y4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bj{constructor(){this.Mo=new ow,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ow,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="ConnectivityMonitor";class lw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(aw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(aw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function im(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="RestConnection",Pj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===fd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=im(),a=this.zo(e,n.toUriEncodedString());G(Pf,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(a),d=ra(u);return this.Jo(e,a,c,r,d).then(f=>(G(Pf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw $o(Pf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=Pj[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class Nj extends Rj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=im();return new Promise((a,c)=>{const u=new wS;u.setWithCredentials(!0),u.listenOnce(ES.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case wu.NO_ERROR:const f=u.getResponseJson();G(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case wu.TIMEOUT:G(wt,`RPC '${e}' ${o} timed out`),c(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case wu.HTTP_ERROR:const m=u.getStatus();if(G(wt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const S=p==null?void 0:p.error;if(S&&S.status&&S.message){const E=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(_)>=0?_:$.UNKNOWN}(S.status);c(new Y(E,S.message))}else c(new Y($.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Y($.UNAVAILABLE,"Connection failed."));break;default:te(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(wt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);G(wt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=im(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=SS(),a=xS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");G(wt,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);this.I_(f);let m=!1,p=!1;const S=new kj({Yo:w=>{p?G(wt,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(m||(G(wt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),G(wt,`RPC '${e}' stream ${s} sending:`,w),f.send(w))},Zo:()=>f.close()}),E=(w,v,_)=>{w.listen(v,T=>{try{_(T)}catch(N){setTimeout(()=>{throw N},0)}})};return E(f,$a.EventType.OPEN,()=>{p||(G(wt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),E(f,$a.EventType.CLOSE,()=>{p||(p=!0,G(wt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),E(f,$a.EventType.ERROR,w=>{p||(p=!0,$o(wt,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),S.a_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),E(f,$a.EventType.MESSAGE,w=>{var v;if(!p){const _=w.data[0];Te(!!_,16349);const T=_,N=(T==null?void 0:T.error)||((v=T[0])==null?void 0:v.error);if(N){G(wt,`RPC '${e}' stream ${s} received error:`,N);const D=N.status;let M=function(A){const P=Ke[A];if(P!==void 0)return sI(P)}(D),I=N.message;M===void 0&&(M=$.INTERNAL,I="Unknown error status: "+D+" with message "+N.message),p=!0,S.a_(new Y(M,I)),f.close()}else G(wt,`RPC '${e}' stream ${s} received:`,_),S.u_(_)}}),E(a,TS.STAT_EVENT,w=>{w.stat===Kp.PROXY?G(wt,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===Kp.NOPROXY&&G(wt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return new M4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="PersistentStream";class _I{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(cw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(cw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oj extends _I{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=F4(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?nr(o.readTime):se.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=rm(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Jp(c)?{documents:$4(i,c)}:{query:B4(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aI(i,o.resumeToken);const u=em(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=_d(i,o.snapshotVersion.toTimestamp());const u=em(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=W4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=rm(this.serializer),n.removeTarget=e,this.q_(n)}}class Dj extends _I{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=z4(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>U4(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{}class Mj extends Lj{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,tm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,tm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Vj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dr(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="RemoteStore";class jj{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Fi(this)&&(G(Oi,"Restarting streams for network reachability change."),await async function(c){const u=ae(c);u.Ea.add(4),await ac(u),u.Ra.set("Unknown"),u.Ea.delete(4),await ph(u)}(this))})}),this.Ra=new Vj(r,s)}}async function ph(t){if(Fi(t))for(const e of t.da)await e(!0)}async function ac(t){for(const e of t.da)await e(!1)}function wI(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sy(n)?ry(n):ua(n).O_()&&ny(n,e))}function ty(t,e){const n=ae(t),r=ua(n);n.Ia.delete(e),r.O_()&&EI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Fi(n)&&n.Ra.set("Unknown"))}function ny(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ua(t).Y_(e)}function EI(t,e){t.Va.Ue(e),ua(t).Z_(e)}function ry(t){t.Va=new N4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ua(t).start(),t.Ra.ua()}function sy(t){return Fi(t)&&!ua(t).x_()&&t.Ia.size>0}function Fi(t){return ae(t).Ea.size===0}function TI(t){t.Va=void 0}async function Fj(t){t.Ra.set("Online")}async function Uj(t){t.Ia.forEach((e,n)=>{ny(t,e)})}async function zj(t,e){TI(t),sy(t)?(t.Ra.ha(e),ry(t)):t.Ra.set("Unknown")}async function $j(t,e,n){if(t.Ra.set("Online"),e instanceof oI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){G(Oi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ed(t,r)}else if(e instanceof Su?t.Va.Ze(e):e instanceof iI?t.Va.st(e):t.Va.tt(e),!n.isEqual(se.min()))try{const r=await yI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),EI(i,c);const f=new ys(d.target,c,u,d.sequenceNumber);ny(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(Oi,"Failed to raise snapshot:",r),await Ed(t,r)}}async function Ed(t,e,n){if(!ca(e))throw e;t.Ea.add(1),await ac(t),t.Ra.set("Offline"),n||(n=()=>yI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Oi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ph(t)})}function xI(t,e){return e().catch(n=>Ed(t,n,e))}async function mh(t){const e=ae(t),n=Bs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zg;for(;Bj(e);)try{const s=await Sj(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Hj(e,s)}catch(s){await Ed(e,s)}SI(e)&&II(e)}function Bj(t){return Fi(t)&&t.Ta.length<10}function Hj(t,e){t.Ta.push(e);const n=Bs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SI(t){return Fi(t)&&!Bs(t).x_()&&t.Ta.length>0}function II(t){Bs(t).start()}async function Wj(t){Bs(t).ra()}async function qj(t){const e=Bs(t);for(const n of t.Ta)e.ea(n.mutations)}async function Kj(t,e,n){const r=t.Ta.shift(),s=Gg.from(r,e,n);await xI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await mh(t)}async function Gj(t,e){e&&Bs(t).X_&&await async function(r,s){if(function(o){return P4(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Bs(r).B_(),await xI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await mh(r)}}(t,e),SI(t)&&II(t)}async function uw(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),G(Oi,"RemoteStore received new credentials");const r=Fi(n);n.Ea.add(3),await ac(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ph(n)}async function Qj(t,e){const n=ae(t);e?(n.Ea.delete(2),await ph(n)):e||(n.Ea.add(2),await ac(n),n.Ra.set("Unknown"))}function ua(t){return t.ma||(t.ma=function(n,r,s){const i=ae(n);return i.sa(),new Oj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Fj.bind(null,t),t_:Uj.bind(null,t),r_:zj.bind(null,t),H_:$j.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),sy(t)?ry(t):t.Ra.set("Unknown")):(await t.ma.stop(),TI(t))})),t.ma}function Bs(t){return t.fa||(t.fa=function(n,r,s){const i=ae(n);return i.sa(),new Dj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Wj.bind(null,t),r_:Gj.bind(null,t),ta:qj.bind(null,t),na:Kj.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await mh(t)):(await t.fa.stop(),t.Ta.length>0&&(G(Oi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new iy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oy(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),ca(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Ba(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new To;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.ga=new Fe(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ko{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ko(e,n,To.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Xj{constructor(){this.queries=hw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=hw(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function hw(){return new Vi(t=>WS(t),ah)}async function Jj(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Yj,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=oy(o,`Initialization of query '${Ki(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&ay(n)}async function Zj(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eF(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&ay(n)}function tF(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function ay(t){t.Ca.forEach(e=>{e.next()})}var om,fw;(fw=om||(om={})).Ma="default",fw.Cache="cache";class nF{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.key=e}}class bI{constructor(e){this.key=e}}class rF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=qS(e),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new dw,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=lh(this.query,f)?f:null,S=!!m&&this.mutatedKeys.has(m.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;m&&p?m.data.isEqual(p.data)?S!==E&&(r.track({type:3,doc:p}),w=!0):this.su(m,p)||(r.track({type:2,doc:p}),w=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),w=!0):m&&!p&&(r.track({type:1,doc:m}),w=!0,(c||u)&&(a=!0)),w&&(p?(o=o.add(p),i=E?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(p,S){const E=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Rt:w})}};return E(p)-E(S)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new Ko(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new bI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new CI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ly="SyncEngine";class sF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iF{constructor(e){this.key=e,this.hu=!1}}class oF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Vi(a=>WS(a),ah),this.Iu=new Map,this.Eu=new Set,this.du=new Fe(J.comparator),this.Au=new Map,this.Ru=new Xg,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aF(t,e,n=!0){const r=OI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await AI(r,e,n,!0),s}async function lF(t,e){const n=OI(t);await AI(n,e,!0,!1)}async function AI(t,e,n,r){const s=await Ij(t.localStore,tr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await cF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&wI(t.remoteStore,s),a}async function cF(t,e,n,r,s){t.pu=(f,m,p)=>async function(E,w,v,_){let T=w.view.ru(v);T.Cs&&(T=await iw(E.localStore,w.query,!1).then(({documents:I})=>w.view.ru(I,T)));const N=_&&_.targetChanges.get(w.targetId),D=_&&_.targetMismatches.get(w.targetId)!=null,M=w.view.applyChanges(T,E.isPrimaryClient,N,D);return mw(E,w.targetId,M.au),M.snapshot}(t,f,m,p);const i=await iw(t.localStore,e,!0),o=new rF(e,i.Qs),a=o.ru(i.documents),c=oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);mw(t,n,u.au);const d=new sF(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function uF(t,e,n){const r=ae(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!ah(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ty(r.remoteStore,s.targetId),am(r,s.targetId)}).catch(la)):(am(r,s.targetId),await sm(r.localStore,s.targetId,!0))}async function dF(t,e){const n=ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ty(n.remoteStore,r.targetId))}async function hF(t,e,n){const r=_F(t);try{const s=await function(o,a){const c=ae(o),u=Re.now(),d=a.reduce((p,S)=>p.add(S.key),ge());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=Lr(),E=ge();return c.Ns.getEntries(p,d).next(w=>{S=w,S.forEach((v,_)=>{_.isValidDocument()||(E=E.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,S)).next(w=>{f=w;const v=[];for(const _ of a){const T=S4(_,f.get(_.key).overlayedDocument);T!=null&&v.push(new ji(_.key,T,jS(T.value.mapValue),Ir.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,v,a)}).next(w=>{m=w;const v=w.applyToLocalDocumentSet(f,E);return c.documentOverlayCache.saveOverlays(p,w.batchId,v)})}).then(()=>({batchId:m.batchId,changes:GS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Fe(me)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await lc(r,s.changes),await mh(r.remoteStore)}catch(s){const i=oy(s,"Failed to persist write");n.reject(i)}}async function PI(t,e){const n=ae(t);try{const r=await Tj(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Te(o.hu,14607):s.removedDocuments.size>0&&(Te(o.hu,42227),o.hu=!1))}),await lc(n,r,e)}catch(r){await la(r)}}function pw(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ae(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(a)&&(u=!0)}),u&&ay(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fF(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Fe(J.comparator);o=o.insert(i,St.newNoDocument(i,se.min()));const a=ge().add(i),c=new hh(se.min(),new Map,new Fe(me),o,a);await PI(r,c),r.du=r.du.remove(i),r.Au.delete(e),cy(r)}else await sm(r.localStore,e,!1).then(()=>am(r,e,n)).catch(la)}async function pF(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await Ej(n.localStore,e);kI(n,r,null),RI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lc(n,s)}catch(s){await la(s)}}async function mF(t,e,n){const r=ae(t);try{const s=await function(o,a){const c=ae(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Te(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);kI(r,e,n),RI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lc(r,s)}catch(s){await la(s)}}function RI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function kI(t,e,n){const r=ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function am(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||NI(t,r)})}function NI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ty(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),cy(t))}function mw(t,e,n){for(const r of n)r instanceof CI?(t.Ru.addReference(r.key,e),gF(t,r)):r instanceof bI?(G(ly,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||NI(t,r.key)):te(19791,{wu:r})}function gF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(ly,"New document in limbo: "+n),t.Eu.add(r),cy(t))}function cy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(Me.fromString(e)),r=t.fu.next();t.Au.set(r,new iF(n)),t.du=t.du.insert(n,r),wI(t.remoteStore,new ys(tr(qg(n.path)),r,"TargetPurposeLimboResolution",rh.ce))}}async function lc(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Zg.As(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const d=ae(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,m=>U.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>U.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!ca(f))throw f;G(ey,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=d.Ms.get(m),S=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(m,E)}}}(r.localStore,i))}async function yF(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){G(ly,"User change. New user:",e.toKey());const r=await gI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new Y($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lc(n,r.Ls)}}function vF(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let s=ge();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function OI(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fF.bind(null,e),e.Pu.H_=eF.bind(null,e.eventManager),e.Pu.yu=tF.bind(null,e.eventManager),e}function _F(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mF.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wj(this.persistence,new yj,e.initialUser,this.serializer)}Cu(e){return new mI(Jg.mi,this.serializer)}Du(e){return new bj}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class wF extends Td{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof wd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new mI(r=>wd.mi(r,n),this.serializer)}}class lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yF.bind(null,this.syncEngine),await Qj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xj}()}createDatastore(e){const n=fh(e.databaseInfo.databaseId),r=function(i){return new Nj(i)}(e.databaseInfo);return function(i,o,a,c){return new Mj(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new jj(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>pw(this.syncEngine,n,0),function(){return lw.v()?new lw:new Aj}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,d){const f=new oF(s,i,o,a,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);G(Oi,"RemoteStore shutting down."),i.Ea.add(5),await ac(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class TF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tt.UNAUTHENTICATED,this.clientId=Fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(Hs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(Hs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kf(t,e){t.asyncQueue.verifyOperationInProgress(),G(Hs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await gI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xF(t);G(Hs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>uw(e.remoteStore,s)),t._onlineComponents=e}async function xF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(Hs,"Using user provided OfflineComponentProvider");try{await kf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;$o("Error using user provided cache. Falling back to memory cache: "+n),await kf(t,new Td)}}else G(Hs,"Using default OfflineComponentProvider"),await kf(t,new wF(void 0));return t._offlineComponents}async function DI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(Hs,"Using user provided OnlineComponentProvider"),await gw(t,t._uninitializedComponentsProvider._online)):(G(Hs,"Using default OnlineComponentProvider"),await gw(t,new lm))),t._onlineComponents}function SF(t){return DI(t).then(e=>e.syncEngine)}async function IF(t){const e=await DI(t),n=e.eventManager;return n.onListen=aF.bind(null,e.syncEngine),n.onUnlisten=uF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dF.bind(null,e.syncEngine),n}function CF(t,e,n={}){const r=new Ns;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const d=new EF({next:m=>{d.Nu(),o.enqueueAndForget(()=>Zj(i,f));const p=m.docs.has(a);!p&&m.fromCache?u.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?u.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new nF(qg(a.path),d,{includeMetadataChanges:!0,qa:!0});return Jj(i,f)}(await IF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firestore.googleapis.com",vw=!0;class _w{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MI,this.ssl=vw}else this.host=e.host,this.ssl=e.ssl??vw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ej)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bV;switch(r.type){case"firstParty":return new kV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yw.get(n);r&&(G("ComponentProvider","Removing Datastore"),yw.delete(n),r.terminate())}(this),Promise.resolve()}}function bF(t,e,n,r={}){var u;t=Ml(t,uy);const s=ra(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(kx(`https://${a}`),Nx("Firestore",!0)),i.host!==MI&&i.host!==a&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Pi(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Tt.MOCK_USER;else{d=UO(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Tt(m)}t._authCredentials=new AV(new CS(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dy(this.firestore,e,this._query)}}class lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}toJSON(){return{type:lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ic(n,lt._jsonSchema))return new lt(e,r||null,new J(Me.fromString(n.referencePath)))}}lt._jsonSchemaVersion="firestore/documentReference/1.0",lt._jsonSchema={type:Qe("string",lt._jsonSchemaVersion),referencePath:Qe("string")};class Bl extends dy{constructor(e,n,r){super(e,n,qg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new J(e))}withConverter(e){return new Bl(this.firestore,e,this._path)}}function cm(t,e,...n){if(t=mt(t),arguments.length===1&&(e=Fg.newId()),VV("doc","path",e),t instanceof uy){const r=Me.fromString(e,...n);return O0(r),new lt(t,null,new J(r))}{if(!(t instanceof lt||t instanceof Bl))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return O0(r),new lt(t.firestore,t instanceof Bl?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="AsyncQueue";class Ew{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vI(this,"async_queue_retry"),this._c=()=>{const r=Rf();r&&G(ww,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Rf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ns;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ca(e))throw e;G(ww,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Dr("INTERNAL UNHANDLED ERROR: ",Tw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=iy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&te(47125,{Pc:Tw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Tw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hy extends uy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Ew,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ew(e),this._firestoreClient=void 0,await e}}}function AF(t,e){const n=typeof t=="object"?t:Mx(),r=typeof t=="string"?t:fd,s=Pg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=jO("firestore");i&&bF(s,...i)}return s}function VI(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PF(t),t._firestoreClient}function PF(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,u,d){return new QV(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,LI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new TF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ln(gt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ln(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ic(e,ln._jsonSchema))return ln.fromBase64String(e.bytes)}}ln._jsonSchemaVersion="firestore/bytes/1.0",ln._jsonSchema={type:Qe("string",ln._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rr._jsonSchemaVersion}}static fromJSON(e){if(ic(e,rr._jsonSchema))return new rr(e.latitude,e.longitude)}}rr._jsonSchemaVersion="firestore/geoPoint/1.0",rr._jsonSchema={type:Qe("string",rr._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ic(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new sr(e.vectorValues);throw new Y($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:Qe("string",sr._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=/^__.*__$/;class jI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ac:t})}}class py{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new py({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FI(this.Ac)&&RF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fh(e)}Cc(e,n,r,s=!1){return new py({Ac:e,methodName:n,Dc:r,path:ht.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NF(t){const e=t._freezeSettings(),n=fh(t._databaseId);return new kF(t._databaseId,!!e.ignoreUndefinedProperties,n)}class yh extends fy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}function OF(t,e,n,r){const s=t.Cc(1,e,n);zI("Data must be an object, but it was:",s,r);const i=[],o=Qt.empty();Xs(r,(c,u)=>{const d=my(e,c,n);u=mt(u);const f=s.yc(d);if(u instanceof yh)i.push(d);else{const m=vh(u,f);m!=null&&(i.push(d),o.set(d,m))}});const a=new Cn(i);return new jI(o,a,s.fieldTransforms)}function DF(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[xw(e,r,n)],c=[s];if(i.length%2!=0)throw new Y($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(xw(e,i[m])),c.push(i[m+1]);const u=[],d=Qt.empty();for(let m=a.length-1;m>=0;--m)if(!VF(u,a[m])){const p=a[m];let S=c[m];S=mt(S);const E=o.yc(p);if(S instanceof yh)u.push(p);else{const w=vh(S,E);w!=null&&(u.push(p),d.set(p,w))}}const f=new Cn(u);return new jI(d,f,o.fieldTransforms)}function vh(t,e){if(UI(t=mt(t)))return zI("Unsupported field value:",e,t),LF(t,e);if(t instanceof fy)return function(r,s){if(!FI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=vh(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Re.fromDate(r);return{timestampValue:_d(s.serializer,i)}}if(r instanceof Re){const i=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_d(s.serializer,i)}}if(r instanceof rr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ln)return{bytesValue:aI(s.serializer,r._byteString)};if(r instanceof lt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Yg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof sr)return function(o,a){return{mapValue:{fields:{[LS]:{stringValue:VS},[pd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Kg(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Ug(r)}`)}(t,e)}function LF(t,e){const n={};return PS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(t,(r,s)=>{const i=vh(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function UI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof rr||t instanceof ln||t instanceof lt||t instanceof fy||t instanceof sr)}function zI(t,e,n){if(!UI(n)||!bS(n)){const r=Ug(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function xw(t,e,n){if((e=mt(e))instanceof gh)return e._internalPath;if(typeof e=="string")return my(t,e);throw xd("Field path arguments must be of type string or ",t,!1,void 0,n)}const MF=new RegExp("[~\\*/\\[\\]]");function my(t,e,n){if(e.search(MF)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gh(...e.split("."))._internalPath}catch{throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Y($.INVALID_ARGUMENT,a+t+c)}function VF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(BI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jF extends $I{data(){return super.data()}}function BI(t,e){return typeof e=="string"?my(t,e):e instanceof gh?e._internalPath:e._delegate._internalPath}class FF{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[pd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Be(o.doubleValue));return new sr(n)}convertGeoPoint(e){return new rr(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const n=Us(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Te(fI(r),9688,{name:e});const s=new Fl(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||Dr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Wa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ti extends $I{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Iu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(BI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ti._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ti._jsonSchema={type:Qe("string",Ti._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class Iu extends Ti{data(e={}){return super.data(e)}}class ll{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Wa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Iu(this._firestore,this._userDataWriter,r.key,r,new Wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Iu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Wa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Iu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Wa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:UF(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){t=Ml(t,lt);const e=Ml(t.firestore,hy);return CF(VI(e),t._key).then(n=>HF(e,t,n))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:Qe("string",ll._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class zF extends FF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}function $F(t,e,n,...r){t=Ml(t,lt);const s=Ml(t.firestore,hy),i=NF(s);let o;return o=typeof(e=mt(e))=="string"||e instanceof gh?DF(i,"updateDoc",t._key,e,n,r):OF(i,"updateDoc",t._key,e),BF(s,[o.toMutation(t._key,Ir.exists(!0))])}function BF(t,e){return function(r,s){const i=new Ns;return r.asyncQueue.enqueueAndForget(async()=>hF(await SF(r),s,i)),i.promise}(VI(t),e)}function HF(t,e,n){const r=n.docs.get(e._key),s=new zF(t);return new Ti(t,s,e._key,r,new Wa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){aa=s})(sa),Uo(new Ri("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new hy(new PV(r.getProvider("auth-internal")),new NV(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ps(P0,R0,e),Ps(P0,R0,"esm2020")})();var WF="firebase",qF="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(WF,qF,"app");const KF={apiKey:"AIzaSyCH1ZmvofzO5xeeoEuTGWoOsd3Xn9w1PJY",authDomain:"suros-logic.firebaseapp.com",projectId:"suros-logic",storageBucket:"suros-logic.firebasestorage.app",messagingSenderId:"57271164226",appId:"1:57271164226:web:6100a0784c23d98f61fcdb",measurementId:"G-X7X3X2CYQ4"},WI=Lx(KF),Zc=IV(WI),um=AF(WI),qI=b.createContext(void 0),KI=({children:t})=>{const[e,n]=b.useState(null),[r,s]=b.useState(null),[i,o]=b.useState(!0);b.useEffect(()=>(dM(Zc,uS),pM(Zc,async d=>{if(n(d),d){const f=cm(um,"users",d.uid),m=await HI(f);m.exists()?s(m.data()):s(null)}else s(null);o(!1)})),[]);const a=async(u,d)=>{await uM(Zc,u,d)},c=async()=>{await mM(Zc)};return g.jsx(qI.Provider,{value:{user:e,profile:r,loading:i,login:a,logout:c},children:!i&&t})},_h=()=>{const t=b.useContext(qI);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t};function GF(){const{login:t}=_h(),e=Xd(),[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(!1),[c,u]=b.useState(""),d=async()=>{if(u(""),!n||!s){u("Please enter both email and password.");return}try{a(!0),await t(n,s),e("/dashboard")}catch{u("Invalid email or password.")}finally{a(!1)}};return g.jsx("div",{className:"suros-gradient flex justify-center items-center px-4 relative font-[Montserrat]",children:g.jsxs("div",{className:"w-full max-w-[420px] flex flex-col items-center",children:[g.jsx("img",{src:Nl,alt:"Suros Logic Systems",className:"h-20 mb-6 drop-shadow-lg"}),g.jsxs("div",{className:"w-full bg-white rounded-2xl p-8 shadow-xl",children:[g.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Welcome Back"}),g.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Login to access your Suros Logic account."}),c&&g.jsx("p",{className:"text-red-500 text-center mb-3",children:c}),g.jsx("label",{className:"font-semibold text-black",children:"Email"}),g.jsx("input",{type:"email",value:n,placeholder:"you@example.com",onChange:f=>r(f.target.value),className:"w-full p-3 mb-4 border border-gray-300 rounded-lg text-black"}),g.jsx("label",{className:"font-semibold text-black",children:"Password"}),g.jsx("input",{type:"password",value:s,placeholder:"Enter your password",onChange:f=>i(f.target.value),className:"w-full p-3 mb-6 border border-gray-300 rounded-lg text-black"}),g.jsx("button",{onClick:d,disabled:o,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition disabled:opacity-70",children:o?"Signing in...":"Login"}),g.jsx("button",{onClick:()=>e("/"),className:"w-full mt-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-100 transition",children:"Return Home"})]})]})})}function eu({children:t}){const{user:e,loading:n}=_h();return n?null:e?t:g.jsx(oO,{to:"/auth",replace:!0})}function QF(){const[t,e]=b.useState(!1),{logout:n}=_h();return g.jsxs("div",{className:"profile-dropdown-wrapper",children:[g.jsx("button",{className:"profile-button",onClick:()=>e(!t),children:g.jsx("img",{src:"/src/assets/default-avatar.png",className:"profile-icon",alt:"profile"})}),t&&g.jsxs("div",{className:"profile-dropdown-menu",children:[g.jsx(vo,{to:"/edit-profile",className:"dropdown-item",children:"Edit Profile"}),g.jsx(vo,{to:"/privacy",className:"dropdown-item",children:"Privacy Policy"}),g.jsx(vo,{to:"/terms",className:"dropdown-item",children:"Terms & Conditions"}),g.jsx("button",{className:"dropdown-item logout",onClick:n,children:"Log Out"})]})]})}function GI(){return g.jsxs("nav",{className:"suros-navbar",children:[g.jsx("div",{className:"navbar-left",children:g.jsx(vo,{to:"/dashboard",className:"logo-link",children:g.jsx("img",{src:"/src/assets/suros-logo-new.png",alt:"Suros Logic Systems",className:"navbar-logo"})})}),g.jsx("div",{className:"navbar-right",children:g.jsx(QF,{})})]})}function YF(){return g.jsxs("div",{className:"dashboard-wrapper",children:[g.jsx(GI,{}),g.jsxs("div",{className:"dashboard-container",children:[g.jsx("h1",{className:"dashboard-title",children:"Welcome to Your Dashboard"}),g.jsx("p",{className:"dashboard-subtitle",children:"Automate your bids. Manage your submissions. Speed up your workflow."}),g.jsxs("div",{className:"dashboard-card-wrapper",children:[g.jsxs(vo,{to:"/form/bid_form",className:"dashboard-card",children:[g.jsx("h2",{className:"dashboard-card-title",children:"Create New Bid"}),g.jsx("p",{className:"dashboard-card-description",children:"Generate a new automated bid using your Suros Logic bid builder."}),g.jsx("div",{className:"dashboard-card-button",children:"Start Bid "})]}),g.jsxs(vo,{to:"/submitted-forms",className:"dashboard-card",children:[g.jsx("h2",{className:"dashboard-card-title",children:"View Submitted Bids"}),g.jsx("p",{className:"dashboard-card-description",children:"Review all generated bids and track your monthly job volume."}),g.jsx("div",{className:"dashboard-card-button",children:"View Bids "})]})]})]})]})}function XF(){const{user:t}=_h(),e=Xd(),[n,r]=b.useState(null),[s,i]=b.useState(!0),[o,a]=b.useState(!1),[c,u]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!t)return;const p=cm(um,"users",t.uid),S=await HI(p),E=S.exists()?S.data():{companyName:"",companyAddress:"",slogan:"",displayName:"",email:t.email||"",phone:""};r(E),i(!1)})()},[t]);const d=m=>r(p=>({...p,[m.target.name]:m.target.value})),f=async()=>{if(!t||!n)return;a(!0);const m=cm(um,"users",t.uid);await $F(m,n),a(!1),u(!0),setTimeout(()=>{e("/dashboard")},1500)};return g.jsxs("div",{className:"suros-gradient",children:[g.jsx(GI,{}),o&&g.jsxs("div",{className:"overlay",children:[g.jsx("div",{className:"loader"}),g.jsx("p",{children:"Saving changes..."})]}),c&&g.jsx("div",{className:"success-alert",children:"Changes saved successfully!"}),g.jsx("div",{className:"edit-wrapper",children:s||!n?g.jsx("div",{className:"loading-text",children:"Loading profile..."}):g.jsxs("div",{className:"edit-card",children:[g.jsx("h1",{children:"Edit Profile"}),g.jsxs("div",{className:"edit-grid",children:[g.jsxs("div",{className:"edit-field",children:[g.jsx("label",{children:"Company Name"}),g.jsx("input",{name:"companyName",value:n.companyName,onChange:d})]}),g.jsxs("div",{className:"edit-field",children:[g.jsx("label",{children:"Full Name"}),g.jsx("input",{name:"displayName",value:n.displayName,onChange:d})]}),g.jsxs("div",{className:"edit-field",children:[g.jsx("label",{children:"Company Address"}),g.jsx("textarea",{name:"companyAddress",value:n.companyAddress,onChange:d,rows:2})]}),g.jsxs("div",{className:"edit-field",children:[g.jsx("label",{children:"Email"}),g.jsx("input",{name:"email",value:n.email,onChange:d})]}),g.jsxs("div",{className:"edit-field",children:[g.jsx("label",{children:"Company Slogan"}),g.jsx("textarea",{name:"slogan",value:n.slogan,onChange:d,rows:2})]}),g.jsxs("div",{className:"edit-field",children:[g.jsx("label",{children:"Phone Number"}),g.jsx("input",{name:"phone",value:n.phone,onChange:d})]})]}),g.jsx("button",{className:"save-btn",onClick:f,children:"Save Changes"})]})})]})}const JF=new m2,ZF=()=>g.jsx(y2,{client:JF,children:g.jsxs(WN,{children:[g.jsx(AR,{}),g.jsx(ok,{}),g.jsx(KI,{children:g.jsx(mO,{children:g.jsxs(lO,{children:[g.jsx(Jr,{path:"/",element:g.jsx(SO,{})}),g.jsx(Jr,{path:"/auth",element:g.jsx(GF,{})}),g.jsx(Jr,{path:"/dashboard",element:g.jsx(eu,{children:g.jsx(YF,{})})}),g.jsx(Jr,{path:"/edit-profile",element:g.jsx(eu,{children:g.jsx(XF,{})})}),g.jsx(Jr,{path:"/form/bid_form",element:g.jsx(eu,{children:g.jsx(bO,{})})}),g.jsx(Jr,{path:"/form/test",element:g.jsx(eu,{children:g.jsx(PO,{})})}),g.jsx(Jr,{path:"*",element:g.jsx(IO,{})})]})})})]})});K1(document.getElementById("root")).render(g.jsx(KI,{children:g.jsx(ZF,{})}));
