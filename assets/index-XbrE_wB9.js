var kv=t=>{throw TypeError(t)};var Zh=(t,e,n)=>e.has(t)||kv("Cannot "+n);var z=(t,e,n)=>(Zh(t,e,"read from private field"),n?n.call(t):e.get(t)),xe=(t,e,n)=>e.has(t)?kv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ue=(t,e,n,r)=>(Zh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(Zh(t,e,"access private method"),n);var zc=(t,e,n,r)=>({set _(s){ue(t,e,s,n)},get _(){return z(t,e,r)}});function RC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ax={exports:{}},Bd={},Rx={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),PC=Symbol.for("react.portal"),NC=Symbol.for("react.fragment"),kC=Symbol.for("react.strict_mode"),DC=Symbol.for("react.profiler"),OC=Symbol.for("react.provider"),jC=Symbol.for("react.context"),LC=Symbol.for("react.forward_ref"),MC=Symbol.for("react.suspense"),VC=Symbol.for("react.memo"),FC=Symbol.for("react.lazy"),Dv=Symbol.iterator;function UC(t){return t===null||typeof t!="object"?null:(t=Dv&&t[Dv]||t["@@iterator"],typeof t=="function"?t:null)}var Px={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nx=Object.assign,kx={};function da(t,e,n){this.props=t,this.context=e,this.refs=kx,this.updater=n||Px}da.prototype.isReactComponent={};da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dx(){}Dx.prototype=da.prototype;function Pm(t,e,n){this.props=t,this.context=e,this.refs=kx,this.updater=n||Px}var Nm=Pm.prototype=new Dx;Nm.constructor=Pm;Nx(Nm,da.prototype);Nm.isPureReactComponent=!0;var Ov=Array.isArray,Ox=Object.prototype.hasOwnProperty,km={current:null},jx={key:!0,ref:!0,__self:!0,__source:!0};function Lx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ox.call(e,r)&&!jx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:dc,type:t,key:i,ref:o,props:s,_owner:km.current}}function $C(t,e){return{$$typeof:dc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dm(t){return typeof t=="object"&&t!==null&&t.$$typeof===dc}function BC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jv=/\/+/g;function ef(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BC(""+t.key):e.toString(36)}function wu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dc:case PC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ef(o,0):r,Ov(s)?(n="",t!=null&&(n=t.replace(jv,"$&/")+"/"),wu(s,e,n,"",function(u){return u})):s!=null&&(Dm(s)&&(s=$C(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(jv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Ov(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+ef(i,a);o+=wu(i,e,n,c,s)}else if(c=UC(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+ef(i,a++),o+=wu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wc(t,e,n){if(t==null)return t;var r=[],s=0;return wu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},xu={transition:null},WC={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:xu,ReactCurrentOwner:km};function Mx(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Wc,forEach:function(t,e,n){Wc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wc(t,function(){e++}),e},toArray:function(t){return Wc(t,function(e){return e})||[]},only:function(t){if(!Dm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=da;pe.Fragment=NC;pe.Profiler=DC;pe.PureComponent=Pm;pe.StrictMode=kC;pe.Suspense=MC;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WC;pe.act=Mx;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=km.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Ox.call(e,c)&&!jx.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:dc,type:t.type,key:s,ref:i,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:jC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OC,_context:t},t.Consumer=t};pe.createElement=Lx;pe.createFactory=function(t){var e=Lx.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:LC,render:t}};pe.isValidElement=Dm;pe.lazy=function(t){return{$$typeof:FC,_payload:{_status:-1,_result:t},_init:zC}};pe.memo=function(t,e){return{$$typeof:VC,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=xu.transition;xu.transition={};try{t()}finally{xu.transition=e}};pe.unstable_act=Mx;pe.useCallback=function(t,e){return jt.current.useCallback(t,e)};pe.useContext=function(t){return jt.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};pe.useEffect=function(t,e){return jt.current.useEffect(t,e)};pe.useId=function(){return jt.current.useId()};pe.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return jt.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};pe.useRef=function(t){return jt.current.useRef(t)};pe.useState=function(t){return jt.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return jt.current.useTransition()};pe.version="18.3.1";Rx.exports=pe;var C=Rx.exports;const Q=Cx(C),Vx=RC({__proto__:null,default:Q},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=C,qC=Symbol.for("react.element"),GC=Symbol.for("react.fragment"),KC=Object.prototype.hasOwnProperty,QC=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YC={key:!0,ref:!0,__self:!0,__source:!0};function Fx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KC.call(e,r)&&!YC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:qC,type:t,key:i,ref:o,props:s,_owner:QC.current}}Bd.Fragment=GC;Bd.jsx=Fx;Bd.jsxs=Fx;Ax.exports=Bd;var d=Ax.exports,Ux={exports:{}},rn={},$x={exports:{}},Bx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,M){var O=B.length;B.push(M);e:for(;0<O;){var V=O-1>>>1,$=B[V];if(0<s($,M))B[V]=M,B[O]=$,O=V;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var M=B[0],O=B.pop();if(O!==M){B[0]=O;e:for(var V=0,$=B.length,q=$>>>1;V<q;){var X=2*(V+1)-1,_e=B[X],Se=X+1,fe=B[Se];if(0>s(_e,O))Se<$&&0>s(fe,_e)?(B[V]=fe,B[Se]=O,V=Se):(B[V]=_e,B[X]=O,V=X);else if(Se<$&&0>s(fe,O))B[V]=fe,B[Se]=O,V=Se;else break e}}return M}function s(B,M){var O=B.sortIndex-M.sortIndex;return O!==0?O:B.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,g=3,m=!1,b=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=B)r(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=n(u)}}function D(B){if(w=!1,E(B),!b)if(n(c)!==null)b=!0,ne(j);else{var M=n(u);M!==null&&re(D,M.startTime-B)}}function j(B,M){b=!1,w&&(w=!1,_(T),T=-1),m=!0;var O=g;try{for(E(M),f=n(c);f!==null&&(!(f.expirationTime>M)||B&&!N());){var V=f.callback;if(typeof V=="function"){f.callback=null,g=f.priorityLevel;var $=V(f.expirationTime<=M);M=t.unstable_now(),typeof $=="function"?f.callback=$:f===n(c)&&r(c),E(M)}else r(c);f=n(c)}if(f!==null)var q=!0;else{var X=n(u);X!==null&&re(D,X.startTime-M),q=!1}return q}finally{f=null,g=O,m=!1}}var L=!1,S=null,T=-1,A=5,R=-1;function N(){return!(t.unstable_now()-R<A)}function k(){if(S!==null){var B=t.unstable_now();R=B;var M=!0;try{M=S(!0,B)}finally{M?P():(L=!1,S=null)}}else L=!1}var P;if(typeof v=="function")P=function(){v(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ae=G.port2;G.port1.onmessage=k,P=function(){ae.postMessage(null)}}else P=function(){x(k,0)};function ne(B){S=B,L||(L=!0,P())}function re(B,M){T=x(function(){B(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){b||m||(b=!0,ne(j))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var M=3;break;default:M=g}var O=g;g=M;try{return B()}finally{g=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,M){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var O=g;g=B;try{return M()}finally{g=O}},t.unstable_scheduleCallback=function(B,M,O){var V=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?V+O:V):O=V,B){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=O+$,B={id:h++,callback:M,priorityLevel:B,startTime:O,expirationTime:$,sortIndex:-1},O>V?(B.sortIndex=O,e(u,B),n(c)===null&&B===n(u)&&(w?(_(T),T=-1):w=!0,re(D,O-V))):(B.sortIndex=$,e(c,B),b||m||(b=!0,ne(j))),B},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(B){var M=g;return function(){var O=g;g=M;try{return B.apply(this,arguments)}finally{g=O}}}})(Bx);$x.exports=Bx;var XC=$x.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=C,nn=XC;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zx=new Set,Pl={};function Gi(t,e){Go(t,e),Go(t+"Capture",e)}function Go(t,e){for(Pl[t]=e,t=0;t<e.length;t++)zx.add(e[t])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=Object.prototype.hasOwnProperty,ZC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lv={},Mv={};function eA(t){return Yf.call(Mv,t)?!0:Yf.call(Lv,t)?!1:ZC.test(t)?Mv[t]=!0:(Lv[t]=!0,!1)}function tA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nA(t,e,n,r){if(e===null||typeof e>"u"||tA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Om,jm);yt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Om,jm);yt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Om,jm);yt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lm(t,e,n,r){var s=yt.hasOwnProperty(e)?yt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nA(e,n,s,r)&&(n=null),r||s===null?eA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qr=JC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),ho=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),Wx=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),Vm=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),Fm=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),qx=Symbol.for("react.offscreen"),Vv=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=Vv&&t[Vv]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,tf;function nl(t){if(tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tf=e&&e[1]||""}return`
`+tf+t}var nf=!1;function rf(t,e){if(!t||nf)return"";nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nl(t):""}function rA(t){switch(t.tag){case 5:return nl(t.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return t=rf(t.type,!1),t;case 11:return t=rf(t.type.render,!1),t;case 1:return t=rf(t.type,!0),t;default:return""}}function ep(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case ho:return"Portal";case Xf:return"Profiler";case Mm:return"StrictMode";case Jf:return"Suspense";case Zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hx:return(t.displayName||"Context")+".Consumer";case Wx:return(t._context.displayName||"Context")+".Provider";case Vm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fm:return e=t.displayName||null,e!==null?e:ep(t.type)||"Memo";case cs:e=t._payload,t=t._init;try{return ep(t(e))}catch{}}return null}function sA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ep(e);case 8:return e===Mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iA(t){var e=Gx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=iA(t))}function Kx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tp(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qx(t,e){e=e.checked,e!=null&&Lm(t,"checked",e,!1)}function np(t,e){Qx(t,e);var n=Bs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rp(t,e.type,n):e.hasOwnProperty("defaultValue")&&rp(t,e.type,Bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rp(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rl=Array.isArray;function So(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $v(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(rl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bs(n)}}function Yx(t,e){var n=Bs(e.value),r=Bs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Bv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ip(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,Jx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oA=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(t){oA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fl[e]=fl[t]})});function Zx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fl.hasOwnProperty(t)&&fl[t]?(""+e).trim():e+"px"}function eE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var aA=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function op(t,e){if(e){if(aA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function ap(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lp=null;function Um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cp=null,Io=null,Co=null;function zv(t){if(t=pc(t)){if(typeof cp!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Gd(e),cp(t.stateNode,t.type,e))}}function tE(t){Io?Co?Co.push(t):Co=[t]:Io=t}function nE(){if(Io){var t=Io,e=Co;if(Co=Io=null,zv(t),e)for(t=0;t<e.length;t++)zv(e[t])}}function rE(t,e){return t(e)}function sE(){}var sf=!1;function iE(t,e,n){if(sf)return t(e,n);sf=!0;try{return rE(t,e,n)}finally{sf=!1,(Io!==null||Co!==null)&&(sE(),nE())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=Gd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var up=!1;if(Lr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){up=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{up=!1}function lA(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var pl=!1,qu=null,Gu=!1,dp=null,cA={onError:function(t){pl=!0,qu=t}};function uA(t,e,n,r,s,i,o,a,c){pl=!1,qu=null,lA.apply(cA,arguments)}function dA(t,e,n,r,s,i,o,a,c){if(uA.apply(this,arguments),pl){if(pl){var u=qu;pl=!1,qu=null}else throw Error(K(198));Gu||(Gu=!0,dp=u)}}function Ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wv(t){if(Ki(t)!==t)throw Error(K(188))}function hA(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Wv(s),t;if(i===r)return Wv(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function aE(t){return t=hA(t),t!==null?lE(t):null}function lE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lE(t);if(e!==null)return e;t=t.sibling}return null}var cE=nn.unstable_scheduleCallback,Hv=nn.unstable_cancelCallback,fA=nn.unstable_shouldYield,pA=nn.unstable_requestPaint,Ke=nn.unstable_now,mA=nn.unstable_getCurrentPriorityLevel,$m=nn.unstable_ImmediatePriority,uE=nn.unstable_UserBlockingPriority,Ku=nn.unstable_NormalPriority,gA=nn.unstable_LowPriority,dE=nn.unstable_IdlePriority,zd=null,sr=null;function yA(t){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(zd,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:wA,vA=Math.log,_A=Math.LN2;function wA(t){return t>>>=0,t===0?32:31-(vA(t)/_A|0)|0}var Kc=64,Qc=4194304;function sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=sl(a):(i&=o,i!==0&&(r=sl(i)))}else o=n&~s,o!==0?r=sl(o):i!==0&&(r=sl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),s=1<<n,r|=t[n],e&=~s;return r}function xA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-kn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=xA(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function hp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hE(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function TA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-kn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Bm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var be=0;function fE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pE,zm,mE,gE,yE,fp=!1,Yc=[],Cs=null,As=null,Rs=null,Dl=new Map,Ol=new Map,ds=[],bA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qv(t,e){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(e.pointerId)}}function Ha(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pc(e),e!==null&&zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SA(t,e,n,r,s){switch(e){case"focusin":return Cs=Ha(Cs,t,e,n,r,s),!0;case"dragenter":return As=Ha(As,t,e,n,r,s),!0;case"mouseover":return Rs=Ha(Rs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dl.set(i,Ha(Dl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ol.set(i,Ha(Ol.get(i)||null,t,e,n,r,s)),!0}return!1}function vE(t){var e=_i(t.target);if(e!==null){var n=Ki(e);if(n!==null){if(e=n.tag,e===13){if(e=oE(n),e!==null){t.blockedOn=e,yE(t.priority,function(){mE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lp=r,n.target.dispatchEvent(r),lp=null}else return e=pc(n),e!==null&&zm(e),t.blockedOn=n,!1;e.shift()}return!0}function Gv(t,e,n){Eu(t)&&n.delete(e)}function IA(){fp=!1,Cs!==null&&Eu(Cs)&&(Cs=null),As!==null&&Eu(As)&&(As=null),Rs!==null&&Eu(Rs)&&(Rs=null),Dl.forEach(Gv),Ol.forEach(Gv)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,fp||(fp=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,IA)))}function jl(t){function e(s){return qa(s,t)}if(0<Yc.length){qa(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cs!==null&&qa(Cs,t),As!==null&&qa(As,t),Rs!==null&&qa(Rs,t),Dl.forEach(e),Ol.forEach(e),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)vE(n),n.blockedOn===null&&ds.shift()}var Ao=qr.ReactCurrentBatchConfig,Yu=!0;function CA(t,e,n,r){var s=be,i=Ao.transition;Ao.transition=null;try{be=1,Wm(t,e,n,r)}finally{be=s,Ao.transition=i}}function AA(t,e,n,r){var s=be,i=Ao.transition;Ao.transition=null;try{be=4,Wm(t,e,n,r)}finally{be=s,Ao.transition=i}}function Wm(t,e,n,r){if(Yu){var s=pp(t,e,n,r);if(s===null)gf(t,e,r,Xu,n),qv(t,r);else if(SA(s,t,e,n,r))r.stopPropagation();else if(qv(t,r),e&4&&-1<bA.indexOf(t)){for(;s!==null;){var i=pc(s);if(i!==null&&pE(i),i=pp(t,e,n,r),i===null&&gf(t,e,r,Xu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else gf(t,e,r,null,n)}}var Xu=null;function pp(t,e,n,r){if(Xu=null,t=Um(r),t=_i(t),t!==null)if(e=Ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xu=t,null}function _E(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mA()){case $m:return 1;case uE:return 4;case Ku:case gA:return 16;case dE:return 536870912;default:return 16}default:return 16}}var Ts=null,Hm=null,Tu=null;function wE(){if(Tu)return Tu;var t,e=Hm,n=e.length,r,s="value"in Ts?Ts.value:Ts.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Tu=s.slice(t,1<r?1-r:void 0)}function bu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xc(){return!0}function Kv(){return!1}function sn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xc:Kv,this.isPropagationStopped=Kv,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),e}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=sn(ha),fc=Fe({},ha,{view:0,detail:0}),RA=sn(fc),af,lf,Ga,Wd=Fe({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(af=t.screenX-Ga.screenX,lf=t.screenY-Ga.screenY):lf=af=0,Ga=t),af)},movementY:function(t){return"movementY"in t?t.movementY:lf}}),Qv=sn(Wd),PA=Fe({},Wd,{dataTransfer:0}),NA=sn(PA),kA=Fe({},fc,{relatedTarget:0}),cf=sn(kA),DA=Fe({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),OA=sn(DA),jA=Fe({},ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LA=sn(jA),MA=Fe({},ha,{data:0}),Yv=sn(MA),VA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $A(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UA[t])?!!e[t]:!1}function Gm(){return $A}var BA=Fe({},fc,{key:function(t){if(t.key){var e=VA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gm,charCode:function(t){return t.type==="keypress"?bu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zA=sn(BA),WA=Fe({},Wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xv=sn(WA),HA=Fe({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gm}),qA=sn(HA),GA=Fe({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),KA=sn(GA),QA=Fe({},Wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YA=sn(QA),XA=[9,13,27,32],Km=Lr&&"CompositionEvent"in window,ml=null;Lr&&"documentMode"in document&&(ml=document.documentMode);var JA=Lr&&"TextEvent"in window&&!ml,xE=Lr&&(!Km||ml&&8<ml&&11>=ml),Jv=" ",Zv=!1;function EE(t,e){switch(t){case"keyup":return XA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function ZA(t,e){switch(t){case"compositionend":return TE(e);case"keypress":return e.which!==32?null:(Zv=!0,Jv);case"textInput":return t=e.data,t===Jv&&Zv?null:t;default:return null}}function eR(t,e){if(po)return t==="compositionend"||!Km&&EE(t,e)?(t=wE(),Tu=Hm=Ts=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xE&&e.locale!=="ko"?null:e.data;default:return null}}var tR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tR[t.type]:e==="textarea"}function bE(t,e,n,r){tE(r),e=Ju(e,"onChange"),0<e.length&&(n=new qm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gl=null,Ll=null;function nR(t){jE(t,0)}function Hd(t){var e=yo(t);if(Kx(e))return t}function rR(t,e){if(t==="change")return e}var SE=!1;if(Lr){var uf;if(Lr){var df="oninput"in document;if(!df){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),df=typeof t_.oninput=="function"}uf=df}else uf=!1;SE=uf&&(!document.documentMode||9<document.documentMode)}function n_(){gl&&(gl.detachEvent("onpropertychange",IE),Ll=gl=null)}function IE(t){if(t.propertyName==="value"&&Hd(Ll)){var e=[];bE(e,Ll,t,Um(t)),iE(nR,e)}}function sR(t,e,n){t==="focusin"?(n_(),gl=e,Ll=n,gl.attachEvent("onpropertychange",IE)):t==="focusout"&&n_()}function iR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hd(Ll)}function oR(t,e){if(t==="click")return Hd(e)}function aR(t,e){if(t==="input"||t==="change")return Hd(e)}function lR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:lR;function Ml(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yf.call(e,s)||!jn(t[s],e[s]))return!1}return!0}function r_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s_(t,e){var n=r_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r_(n)}}function CE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AE(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function Qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cR(t){var e=AE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CE(n.ownerDocument.documentElement,n)){if(r!==null&&Qm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=s_(n,i);var o=s_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uR=Lr&&"documentMode"in document&&11>=document.documentMode,mo=null,mp=null,yl=null,gp=!1;function i_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gp||mo==null||mo!==Hu(r)||(r=mo,"selectionStart"in r&&Qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&Ml(yl,r)||(yl=r,r=Ju(mp,"onSelect"),0<r.length&&(e=new qm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function Jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var go={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},hf={},RE={};Lr&&(RE=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function qd(t){if(hf[t])return hf[t];if(!go[t])return t;var e=go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RE)return hf[t]=e[n];return t}var PE=qd("animationend"),NE=qd("animationiteration"),kE=qd("animationstart"),DE=qd("transitionend"),OE=new Map,o_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){OE.set(t,e),Gi(e,[t])}for(var ff=0;ff<o_.length;ff++){var pf=o_[ff],dR=pf.toLowerCase(),hR=pf[0].toUpperCase()+pf.slice(1);ti(dR,"on"+hR)}ti(PE,"onAnimationEnd");ti(NE,"onAnimationIteration");ti(kE,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(DE,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fR=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function a_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dA(r,e,void 0,t),t.currentTarget=null}function jE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;a_(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;a_(s,a,u),i=c}}}if(Gu)throw t=dp,Gu=!1,dp=null,t}function De(t,e){var n=e[xp];n===void 0&&(n=e[xp]=new Set);var r=t+"__bubble";n.has(r)||(LE(e,t,2,!1),n.add(r))}function mf(t,e,n){var r=0;e&&(r|=4),LE(n,t,r,e)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Vl(t){if(!t[Zc]){t[Zc]=!0,zx.forEach(function(n){n!=="selectionchange"&&(fR.has(n)||mf(n,!1,t),mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zc]||(e[Zc]=!0,mf("selectionchange",!1,e))}}function LE(t,e,n,r){switch(_E(e)){case 1:var s=CA;break;case 4:s=AA;break;default:s=Wm}n=s.bind(null,e,n,t),s=void 0,!up||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function gf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_i(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}iE(function(){var u=i,h=Um(n),f=[];e:{var g=OE.get(t);if(g!==void 0){var m=qm,b=t;switch(t){case"keypress":if(bu(n)===0)break e;case"keydown":case"keyup":m=zA;break;case"focusin":b="focus",m=cf;break;case"focusout":b="blur",m=cf;break;case"beforeblur":case"afterblur":m=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qA;break;case PE:case NE:case kE:m=OA;break;case DE:m=KA;break;case"scroll":m=RA;break;case"wheel":m=YA;break;case"copy":case"cut":case"paste":m=LA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xv}var w=(e&4)!==0,x=!w&&t==="scroll",_=w?g!==null?g+"Capture":null:g;w=[];for(var v=u,E;v!==null;){E=v;var D=E.stateNode;if(E.tag===5&&D!==null&&(E=D,_!==null&&(D=kl(v,_),D!=null&&w.push(Fl(v,D,E)))),x)break;v=v.return}0<w.length&&(g=new m(g,b,null,n,h),f.push({event:g,listeners:w}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",g&&n!==lp&&(b=n.relatedTarget||n.fromElement)&&(_i(b)||b[Mr]))break e;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?_i(b):null,b!==null&&(x=Ki(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(w=Qv,D="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Xv,D="onPointerLeave",_="onPointerEnter",v="pointer"),x=m==null?g:yo(m),E=b==null?g:yo(b),g=new w(D,v+"leave",m,n,h),g.target=x,g.relatedTarget=E,D=null,_i(h)===u&&(w=new w(_,v+"enter",b,n,h),w.target=E,w.relatedTarget=x,D=w),x=D,m&&b)t:{for(w=m,_=b,v=0,E=w;E;E=oo(E))v++;for(E=0,D=_;D;D=oo(D))E++;for(;0<v-E;)w=oo(w),v--;for(;0<E-v;)_=oo(_),E--;for(;v--;){if(w===_||_!==null&&w===_.alternate)break t;w=oo(w),_=oo(_)}w=null}else w=null;m!==null&&l_(f,g,m,w,!1),b!==null&&x!==null&&l_(f,x,b,w,!0)}}e:{if(g=u?yo(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var j=rR;else if(e_(g))if(SE)j=aR;else{j=iR;var L=sR}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(j=oR);if(j&&(j=j(t,u))){bE(f,j,n,h);break e}L&&L(t,g,u),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&rp(g,"number",g.value)}switch(L=u?yo(u):window,t){case"focusin":(e_(L)||L.contentEditable==="true")&&(mo=L,mp=u,yl=null);break;case"focusout":yl=mp=mo=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,i_(f,n,h);break;case"selectionchange":if(uR)break;case"keydown":case"keyup":i_(f,n,h)}var S;if(Km)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else po?EE(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(xE&&n.locale!=="ko"&&(po||T!=="onCompositionStart"?T==="onCompositionEnd"&&po&&(S=wE()):(Ts=h,Hm="value"in Ts?Ts.value:Ts.textContent,po=!0)),L=Ju(u,T),0<L.length&&(T=new Yv(T,t,null,n,h),f.push({event:T,listeners:L}),S?T.data=S:(S=TE(n),S!==null&&(T.data=S)))),(S=JA?ZA(t,n):eR(t,n))&&(u=Ju(u,"onBeforeInput"),0<u.length&&(h=new Yv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=S))}jE(f,e)})}function Fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kl(t,n),i!=null&&r.unshift(Fl(t,i,s)),i=kl(t,e),i!=null&&r.push(Fl(t,i,s))),t=t.return}return r}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=kl(n,i),c!=null&&o.unshift(Fl(n,c,a))):s||(c=kl(n,i),c!=null&&o.push(Fl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pR=/\r\n?/g,mR=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(pR,`
`).replace(mR,"")}function eu(t,e,n){if(e=c_(e),c_(t)!==e&&n)throw Error(K(425))}function Zu(){}var yp=null,vp=null;function _p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wp=typeof setTimeout=="function"?setTimeout:void 0,gR=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,yR=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(vR)}:wp;function vR(t){setTimeout(function(){throw t})}function yf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);jl(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),tr="__reactFiber$"+fa,Ul="__reactProps$"+fa,Mr="__reactContainer$"+fa,xp="__reactEvents$"+fa,_R="__reactListeners$"+fa,wR="__reactHandles$"+fa;function _i(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mr]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d_(t);t!==null;){if(n=t[tr])return n;t=d_(t)}return e}t=n,n=t.parentNode}return null}function pc(t){return t=t[tr]||t[Mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Gd(t){return t[Ul]||null}var Ep=[],vo=-1;function ni(t){return{current:t}}function Oe(t){0>vo||(t.current=Ep[vo],Ep[vo]=null,vo--)}function Pe(t,e){vo++,Ep[vo]=t.current,t.current=e}var zs={},Ct=ni(zs),zt=ni(!1),Oi=zs;function Ko(t,e){var n=t.type.contextTypes;if(!n)return zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Wt(t){return t=t.childContextTypes,t!=null}function ed(){Oe(zt),Oe(Ct)}function h_(t,e,n){if(Ct.current!==zs)throw Error(K(168));Pe(Ct,e),Pe(zt,n)}function ME(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,sA(t)||"Unknown",s));return Fe({},n,r)}function td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zs,Oi=Ct.current,Pe(Ct,t),Pe(zt,zt.current),!0}function f_(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=ME(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Oe(zt),Oe(Ct),Pe(Ct,t)):Oe(zt),Pe(zt,n)}var Rr=null,Kd=!1,vf=!1;function VE(t){Rr===null?Rr=[t]:Rr.push(t)}function xR(t){Kd=!0,VE(t)}function ri(){if(!vf&&Rr!==null){vf=!0;var t=0,e=be;try{var n=Rr;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,Kd=!1}catch(s){throw Rr!==null&&(Rr=Rr.slice(t+1)),cE($m,ri),s}finally{be=e,vf=!1}}return null}var _o=[],wo=0,nd=null,rd=0,cn=[],un=0,ji=null,Nr=1,kr="";function gi(t,e){_o[wo++]=rd,_o[wo++]=nd,nd=t,rd=e}function FE(t,e,n){cn[un++]=Nr,cn[un++]=kr,cn[un++]=ji,ji=t;var r=Nr;t=kr;var s=32-kn(r)-1;r&=~(1<<s),n+=1;var i=32-kn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Nr=1<<32-kn(e)+s|n<<s|r,kr=i+t}else Nr=1<<i|n<<s|r,kr=t}function Ym(t){t.return!==null&&(gi(t,1),FE(t,1,0))}function Xm(t){for(;t===nd;)nd=_o[--wo],_o[wo]=null,rd=_o[--wo],_o[wo]=null;for(;t===ji;)ji=cn[--un],cn[un]=null,kr=cn[--un],cn[un]=null,Nr=cn[--un],cn[un]=null}var en=null,Jt=null,je=!1,Rn=null;function UE(t,e){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ji!==null?{id:Nr,overflow:kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function Tp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bp(t){if(je){var e=Jt;if(e){var n=e;if(!p_(t,e)){if(Tp(t))throw Error(K(418));e=Ps(n.nextSibling);var r=en;e&&p_(t,e)?UE(r,n):(t.flags=t.flags&-4097|2,je=!1,en=t)}}else{if(Tp(t))throw Error(K(418));t.flags=t.flags&-4097|2,je=!1,en=t}}}function m_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function tu(t){if(t!==en)return!1;if(!je)return m_(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_p(t.type,t.memoizedProps)),e&&(e=Jt)){if(Tp(t))throw $E(),Error(K(418));for(;e;)UE(t,e),e=Ps(e.nextSibling)}if(m_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=Ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?Ps(t.stateNode.nextSibling):null;return!0}function $E(){for(var t=Jt;t;)t=Ps(t.nextSibling)}function Qo(){Jt=en=null,je=!1}function Jm(t){Rn===null?Rn=[t]:Rn.push(t)}var ER=qr.ReactCurrentBatchConfig;function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function nu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g_(t){var e=t._init;return e(t._payload)}function BE(t){function e(_,v){if(t){var E=_.deletions;E===null?(_.deletions=[v],_.flags|=16):E.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=Os(_,v),_.index=0,_.sibling=null,_}function i(_,v,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<v?(_.flags|=2,v):E):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,E,D){return v===null||v.tag!==6?(v=Sf(E,_.mode,D),v.return=_,v):(v=s(v,E),v.return=_,v)}function c(_,v,E,D){var j=E.type;return j===fo?h(_,v,E.props.children,D,E.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===cs&&g_(j)===v.type)?(D=s(v,E.props),D.ref=Ka(_,v,E),D.return=_,D):(D=Nu(E.type,E.key,E.props,null,_.mode,D),D.ref=Ka(_,v,E),D.return=_,D)}function u(_,v,E,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=If(E,_.mode,D),v.return=_,v):(v=s(v,E.children||[]),v.return=_,v)}function h(_,v,E,D,j){return v===null||v.tag!==7?(v=Pi(E,_.mode,D,j),v.return=_,v):(v=s(v,E),v.return=_,v)}function f(_,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sf(""+v,_.mode,E),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hc:return E=Nu(v.type,v.key,v.props,null,_.mode,E),E.ref=Ka(_,null,v),E.return=_,E;case ho:return v=If(v,_.mode,E),v.return=_,v;case cs:var D=v._init;return f(_,D(v._payload),E)}if(rl(v)||za(v))return v=Pi(v,_.mode,E,null),v.return=_,v;nu(_,v)}return null}function g(_,v,E,D){var j=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return j!==null?null:a(_,v,""+E,D);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hc:return E.key===j?c(_,v,E,D):null;case ho:return E.key===j?u(_,v,E,D):null;case cs:return j=E._init,g(_,v,j(E._payload),D)}if(rl(E)||za(E))return j!==null?null:h(_,v,E,D,null);nu(_,E)}return null}function m(_,v,E,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return _=_.get(E)||null,a(v,_,""+D,j);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Hc:return _=_.get(D.key===null?E:D.key)||null,c(v,_,D,j);case ho:return _=_.get(D.key===null?E:D.key)||null,u(v,_,D,j);case cs:var L=D._init;return m(_,v,E,L(D._payload),j)}if(rl(D)||za(D))return _=_.get(E)||null,h(v,_,D,j,null);nu(v,D)}return null}function b(_,v,E,D){for(var j=null,L=null,S=v,T=v=0,A=null;S!==null&&T<E.length;T++){S.index>T?(A=S,S=null):A=S.sibling;var R=g(_,S,E[T],D);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(_,S),v=i(R,v,T),L===null?j=R:L.sibling=R,L=R,S=A}if(T===E.length)return n(_,S),je&&gi(_,T),j;if(S===null){for(;T<E.length;T++)S=f(_,E[T],D),S!==null&&(v=i(S,v,T),L===null?j=S:L.sibling=S,L=S);return je&&gi(_,T),j}for(S=r(_,S);T<E.length;T++)A=m(S,_,T,E[T],D),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?T:A.key),v=i(A,v,T),L===null?j=A:L.sibling=A,L=A);return t&&S.forEach(function(N){return e(_,N)}),je&&gi(_,T),j}function w(_,v,E,D){var j=za(E);if(typeof j!="function")throw Error(K(150));if(E=j.call(E),E==null)throw Error(K(151));for(var L=j=null,S=v,T=v=0,A=null,R=E.next();S!==null&&!R.done;T++,R=E.next()){S.index>T?(A=S,S=null):A=S.sibling;var N=g(_,S,R.value,D);if(N===null){S===null&&(S=A);break}t&&S&&N.alternate===null&&e(_,S),v=i(N,v,T),L===null?j=N:L.sibling=N,L=N,S=A}if(R.done)return n(_,S),je&&gi(_,T),j;if(S===null){for(;!R.done;T++,R=E.next())R=f(_,R.value,D),R!==null&&(v=i(R,v,T),L===null?j=R:L.sibling=R,L=R);return je&&gi(_,T),j}for(S=r(_,S);!R.done;T++,R=E.next())R=m(S,_,T,R.value,D),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?T:R.key),v=i(R,v,T),L===null?j=R:L.sibling=R,L=R);return t&&S.forEach(function(k){return e(_,k)}),je&&gi(_,T),j}function x(_,v,E,D){if(typeof E=="object"&&E!==null&&E.type===fo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Hc:e:{for(var j=E.key,L=v;L!==null;){if(L.key===j){if(j=E.type,j===fo){if(L.tag===7){n(_,L.sibling),v=s(L,E.props.children),v.return=_,_=v;break e}}else if(L.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===cs&&g_(j)===L.type){n(_,L.sibling),v=s(L,E.props),v.ref=Ka(_,L,E),v.return=_,_=v;break e}n(_,L);break}else e(_,L);L=L.sibling}E.type===fo?(v=Pi(E.props.children,_.mode,D,E.key),v.return=_,_=v):(D=Nu(E.type,E.key,E.props,null,_.mode,D),D.ref=Ka(_,v,E),D.return=_,_=D)}return o(_);case ho:e:{for(L=E.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(_,v.sibling),v=s(v,E.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=If(E,_.mode,D),v.return=_,_=v}return o(_);case cs:return L=E._init,x(_,v,L(E._payload),D)}if(rl(E))return b(_,v,E,D);if(za(E))return w(_,v,E,D);nu(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,E),v.return=_,_=v):(n(_,v),v=Sf(E,_.mode,D),v.return=_,_=v),o(_)):n(_,v)}return x}var Yo=BE(!0),zE=BE(!1),sd=ni(null),id=null,xo=null,Zm=null;function eg(){Zm=xo=id=null}function tg(t){var e=sd.current;Oe(sd),t._currentValue=e}function Sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){id=t,Zm=xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(Zm!==t)if(t={context:t,memoizedValue:e,next:null},xo===null){if(id===null)throw Error(K(308));xo=t,id.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return e}var wi=null;function ng(t){wi===null?wi=[t]:wi.push(t)}function WE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ng(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var us=!1;function rg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vr(t,n)}return s=r.interleaved,s===null?(e.next=e,ng(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vr(t,n)}function Su(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}function y_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function od(t,e,n,r){var s=t.updateQueue;us=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,a=i;do{var g=a.lane,m=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,w=a;switch(g=e,m=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(m,f,g);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,g=typeof b=="function"?b.call(m,f,g):b,g==null)break e;f=Fe({},f,g);break e;case 2:us=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,c=f):h=h.next=m,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mi|=o,t.lanes=o,t.memoizedState=f}}function v_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var mc={},ir=ni(mc),$l=ni(mc),Bl=ni(mc);function xi(t){if(t===mc)throw Error(K(174));return t}function sg(t,e){switch(Pe(Bl,e),Pe($l,t),Pe(ir,mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ip(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ip(e,t)}Oe(ir),Pe(ir,e)}function Xo(){Oe(ir),Oe($l),Oe(Bl)}function qE(t){xi(Bl.current);var e=xi(ir.current),n=ip(e,t.type);e!==n&&(Pe($l,t),Pe(ir,n))}function ig(t){$l.current===t&&(Oe(ir),Oe($l))}var Me=ni(0);function ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _f=[];function og(){for(var t=0;t<_f.length;t++)_f[t]._workInProgressVersionPrimary=null;_f.length=0}var Iu=qr.ReactCurrentDispatcher,wf=qr.ReactCurrentBatchConfig,Li=0,Ve=null,rt=null,dt=null,ld=!1,vl=!1,zl=0,TR=0;function wt(){throw Error(K(321))}function ag(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function lg(t,e,n,r,s,i){if(Li=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Iu.current=t===null||t.memoizedState===null?CR:AR,t=n(r,s),vl){i=0;do{if(vl=!1,zl=0,25<=i)throw Error(K(301));i+=1,dt=rt=null,e.updateQueue=null,Iu.current=RR,t=n(r,s)}while(vl)}if(Iu.current=cd,e=rt!==null&&rt.next!==null,Li=0,dt=rt=Ve=null,ld=!1,e)throw Error(K(300));return t}function cg(){var t=zl!==0;return zl=0,t}function Yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ve.memoizedState=dt=t:dt=dt.next=t,dt}function yn(){if(rt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=dt===null?Ve.memoizedState:dt.next;if(e!==null)dt=e,rt=t;else{if(t===null)throw Error(K(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},dt===null?Ve.memoizedState=dt=t:dt=dt.next=t}return dt}function Wl(t,e){return typeof e=="function"?e(t):e}function xf(t){var e=yn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((Li&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ve.lanes|=h,Mi|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,jn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,Mi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ef(t){var e=yn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);jn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function GE(){}function KE(t,e){var n=Ve,r=yn(),s=e(),i=!jn(r.memoizedState,s);if(i&&(r.memoizedState=s,Bt=!0),r=r.queue,ug(XE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Hl(9,YE.bind(null,n,r,s,e),void 0,null),ht===null)throw Error(K(349));Li&30||QE(n,e,s)}return s}function QE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YE(t,e,n,r){e.value=n,e.getSnapshot=r,JE(e)&&ZE(t)}function XE(t,e,n){return n(function(){JE(e)&&ZE(t)})}function JE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function ZE(t){var e=Vr(t,1);e!==null&&Dn(e,t,1,-1)}function __(t){var e=Yn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:t},e.queue=t,t=t.dispatch=IR.bind(null,Ve,t),[e.memoizedState,t]}function Hl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function e1(){return yn().memoizedState}function Cu(t,e,n,r){var s=Yn();Ve.flags|=t,s.memoizedState=Hl(1|e,n,void 0,r===void 0?null:r)}function Qd(t,e,n,r){var s=yn();r=r===void 0?null:r;var i=void 0;if(rt!==null){var o=rt.memoizedState;if(i=o.destroy,r!==null&&ag(r,o.deps)){s.memoizedState=Hl(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=Hl(1|e,n,i,r)}function w_(t,e){return Cu(8390656,8,t,e)}function ug(t,e){return Qd(2048,8,t,e)}function t1(t,e){return Qd(4,2,t,e)}function n1(t,e){return Qd(4,4,t,e)}function r1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s1(t,e,n){return n=n!=null?n.concat([t]):null,Qd(4,4,r1.bind(null,e,t),n)}function dg(){}function i1(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ag(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function o1(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ag(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function a1(t,e,n){return Li&21?(jn(n,e)||(n=hE(),Ve.lanes|=n,Mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function bR(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=wf.transition;wf.transition={};try{t(!1),e()}finally{be=n,wf.transition=r}}function l1(){return yn().memoizedState}function SR(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},c1(t))u1(e,n);else if(n=WE(t,e,n,r),n!==null){var s=Ot();Dn(n,t,r,s),d1(n,e,r)}}function IR(t,e,n){var r=Ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(c1(t))u1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,jn(a,o)){var c=e.interleaved;c===null?(s.next=s,ng(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=WE(t,e,s,r),n!==null&&(s=Ot(),Dn(n,t,r,s),d1(n,e,r))}}function c1(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function u1(t,e){vl=ld=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function d1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}var cd={readContext:gn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},CR={readContext:gn,useCallback:function(t,e){return Yn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:w_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cu(4194308,4,r1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cu(4,2,t,e)},useMemo:function(t,e){var n=Yn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SR.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Yn();return t={current:t},e.memoizedState=t},useState:__,useDebugValue:dg,useDeferredValue:function(t){return Yn().memoizedState=t},useTransition:function(){var t=__(!1),e=t[0];return t=bR.bind(null,t[1]),Yn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=Yn();if(je){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),ht===null)throw Error(K(349));Li&30||QE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,w_(XE.bind(null,r,i,t),[t]),r.flags|=2048,Hl(9,YE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Yn(),e=ht.identifierPrefix;if(je){var n=kr,r=Nr;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AR={readContext:gn,useCallback:i1,useContext:gn,useEffect:ug,useImperativeHandle:s1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:o1,useReducer:xf,useRef:e1,useState:function(){return xf(Wl)},useDebugValue:dg,useDeferredValue:function(t){var e=yn();return a1(e,rt.memoizedState,t)},useTransition:function(){var t=xf(Wl)[0],e=yn().memoizedState;return[t,e]},useMutableSource:GE,useSyncExternalStore:KE,useId:l1,unstable_isNewReconciler:!1},RR={readContext:gn,useCallback:i1,useContext:gn,useEffect:ug,useImperativeHandle:s1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:o1,useReducer:Ef,useRef:e1,useState:function(){return Ef(Wl)},useDebugValue:dg,useDeferredValue:function(t){var e=yn();return rt===null?e.memoizedState=t:a1(e,rt.memoizedState,t)},useTransition:function(){var t=Ef(Wl)[0],e=yn().memoizedState;return[t,e]},useMutableSource:GE,useSyncExternalStore:KE,useId:l1,unstable_isNewReconciler:!1};function bn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yd={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=Ds(t),i=jr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(Dn(e,t,s,r),Su(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=Ds(t),i=jr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(Dn(e,t,s,r),Su(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=Ds(t),s=jr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ns(t,s,r),e!==null&&(Dn(e,t,r,n),Su(e,t,r))}};function x_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ml(n,r)||!Ml(s,i):!0}function h1(t,e,n){var r=!1,s=zs,i=e.contextType;return typeof i=="object"&&i!==null?i=gn(i):(s=Wt(e)?Oi:Ct.current,r=e.contextTypes,i=(r=r!=null)?Ko(t,s):zs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function E_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yd.enqueueReplaceState(e,e.state,null)}function Cp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},rg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=gn(i):(i=Wt(e)?Oi:Ct.current,s.context=Ko(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ip(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yd.enqueueReplaceState(s,s.state,null),od(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Jo(t,e){try{var n="",r=e;do n+=rA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Tf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PR=typeof WeakMap=="function"?WeakMap:Map;function f1(t,e,n){n=jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dd||(dd=!0,Vp=r),Ap(t,e)},n}function p1(t,e,n){n=jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ap(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ap(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function T_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=WR.bind(null,t,e,n),e.then(t,t))}function b_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jr(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var NR=qr.ReactCurrentOwner,Bt=!1;function kt(t,e,n,r){e.child=t===null?zE(e,null,n,r):Yo(e,t.child,n,r)}function I_(t,e,n,r,s){n=n.render;var i=e.ref;return Ro(e,s),r=lg(t,e,n,r,i,s),n=cg(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fr(t,e,s)):(je&&n&&Ym(e),e.flags|=1,kt(t,e,r,s),e.child)}function C_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_g(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,m1(t,e,i,r,s)):(t=Nu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(o,r)&&t.ref===e.ref)return Fr(t,e,s)}return e.flags|=1,t=Os(i,r),t.ref=e.ref,t.return=e,e.child=t}function m1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ml(i,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Fr(t,e,s)}return Rp(t,e,n,r,s)}function g1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(To,Yt),Yt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(To,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pe(To,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Pe(To,Yt),Yt|=r;return kt(t,e,s,n),e.child}function y1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rp(t,e,n,r,s){var i=Wt(n)?Oi:Ct.current;return i=Ko(e,i),Ro(e,s),n=lg(t,e,n,r,i,s),r=cg(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fr(t,e,s)):(je&&r&&Ym(e),e.flags|=1,kt(t,e,n,s),e.child)}function A_(t,e,n,r,s){if(Wt(n)){var i=!0;td(e)}else i=!1;if(Ro(e,s),e.stateNode===null)Au(t,e),h1(e,n,r),Cp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=gn(u):(u=Wt(n)?Oi:Ct.current,u=Ko(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&E_(e,o,r,u),us=!1;var g=e.memoizedState;o.state=g,od(e,r,o,s),c=e.memoizedState,a!==r||g!==c||zt.current||us?(typeof h=="function"&&(Ip(e,n,h,r),c=e.memoizedState),(a=us||x_(e,n,a,r,g,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,HE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:bn(e.type,a),o.props=u,f=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=gn(c):(c=Wt(n)?Oi:Ct.current,c=Ko(e,c));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==c)&&E_(e,o,r,c),us=!1,g=e.memoizedState,o.state=g,od(e,r,o,s);var b=e.memoizedState;a!==f||g!==b||zt.current||us?(typeof m=="function"&&(Ip(e,n,m,r),b=e.memoizedState),(u=us||x_(e,n,u,r,g,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Pp(t,e,n,r,i,s)}function Pp(t,e,n,r,s,i){y1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&f_(e,n,!1),Fr(t,e,i);r=e.stateNode,NR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yo(e,t.child,null,i),e.child=Yo(e,null,a,i)):kt(t,e,a,i),e.memoizedState=r.state,s&&f_(e,n,!0),e.child}function v1(t){var e=t.stateNode;e.pendingContext?h_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h_(t,e.context,!1),sg(t,e.containerInfo)}function R_(t,e,n,r,s){return Qo(),Jm(s),e.flags|=256,kt(t,e,n,r),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function kp(t){return{baseLanes:t,cachePool:null,transitions:null}}function _1(t,e,n){var r=e.pendingProps,s=Me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pe(Me,s&1),t===null)return bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zd(o,r,0,null),t=Pi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=kp(n),e.memoizedState=Np,t):hg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return kR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Os(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Os(a,i):(i=Pi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?kp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Np,r}return i=t.child,t=i.sibling,r=Os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hg(t,e){return e=Zd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ru(t,e,n,r){return r!==null&&Jm(r),Yo(e,t.child,null,n),t=hg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Tf(Error(K(422))),ru(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zd({mode:"visible",children:r.children},s,0,null),i=Pi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Yo(e,t.child,null,o),e.child.memoizedState=kp(o),e.memoizedState=Np,i);if(!(e.mode&1))return ru(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=Tf(i,r,void 0),ru(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=ht,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vr(t,s),Dn(r,t,s,-1))}return vg(),r=Tf(Error(K(421))),ru(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=HR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jt=Ps(s.nextSibling),en=e,je=!0,Rn=null,t!==null&&(cn[un++]=Nr,cn[un++]=kr,cn[un++]=ji,Nr=t.id,kr=t.overflow,ji=e),e=hg(e,r.children),e.flags|=4096,e)}function P_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sp(t.return,e,n)}function bf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function w1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(kt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P_(t,n,e);else if(t.tag===19)P_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ad(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),bf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ad(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}bf(e,!0,n,null,i);break;case"together":bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DR(t,e,n){switch(e.tag){case 3:v1(e),Qo();break;case 5:qE(e);break;case 1:Wt(e.type)&&td(e);break;case 4:sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pe(sd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?_1(t,e,n):(Pe(Me,Me.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);Pe(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return w1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,g1(t,e,n)}return Fr(t,e,n)}var x1,Dp,E1,T1;x1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dp=function(){};E1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,xi(ir.current);var i=null;switch(n){case"input":s=tp(t,s),r=tp(t,r),i=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":s=sp(t,s),r=sp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zu)}op(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&De("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};T1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qa(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OR(t,e,n){var r=e.pendingProps;switch(Xm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Wt(e.type)&&ed(),xt(e),null;case 3:return r=e.stateNode,Xo(),Oe(zt),Oe(Ct),og(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&($p(Rn),Rn=null))),Dp(t,e),xt(e),null;case 5:ig(e);var s=xi(Bl.current);if(n=e.type,t!==null&&e.stateNode!=null)E1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return xt(e),null}if(t=xi(ir.current),tu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[tr]=e,r[Ul]=i,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<il.length;s++)De(il[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Fv(r,i),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},De("invalid",r);break;case"textarea":$v(r,i),De("invalid",r)}op(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&eu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&eu(r.textContent,a,t),s=["children",""+a]):Pl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":qc(r),Uv(r,i,!0);break;case"textarea":qc(r),Bv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[Ul]=r,x1(t,e,!1,!1),e.stateNode=t;e:{switch(o=ap(n,r),n){case"dialog":De("cancel",t),De("close",t),s=r;break;case"iframe":case"object":case"embed":De("load",t),s=r;break;case"video":case"audio":for(s=0;s<il.length;s++)De(il[s],t);s=r;break;case"source":De("error",t),s=r;break;case"img":case"image":case"link":De("error",t),De("load",t),s=r;break;case"details":De("toggle",t),s=r;break;case"input":Fv(t,r),s=tp(t,r),De("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),De("invalid",t);break;case"textarea":$v(t,r),s=sp(t,r),De("invalid",t);break;default:s=r}op(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?eE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jx(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nl(t,c):typeof c=="number"&&Nl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&De("scroll",t):c!=null&&Lm(t,i,c,o))}switch(n){case"input":qc(t),Uv(t,r,!1);break;case"textarea":qc(t),Bv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?So(t,!!r.multiple,i,!1):r.defaultValue!=null&&So(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)T1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=xi(Bl.current),xi(ir.current),tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(i=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return xt(e),null;case 13:if(Oe(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Jt!==null&&e.mode&1&&!(e.flags&128))$E(),Qo(),e.flags|=98560,i=!1;else if(i=tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[tr]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),i=!1}else Rn!==null&&($p(Rn),Rn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?it===0&&(it=3):vg())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Xo(),Dp(t,e),t===null&&Vl(e.stateNode.containerInfo),xt(e),null;case 10:return tg(e.type._context),xt(e),null;case 17:return Wt(e.type)&&ed(),xt(e),null;case 19:if(Oe(Me),i=e.memoizedState,i===null)return xt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Qa(i,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ad(t),o!==null){for(e.flags|=128,Qa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Me,Me.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ke()>Zo&&(e.flags|=128,r=!0,Qa(i,!1),e.lanes=4194304)}else{if(!r)if(t=ad(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return xt(e),null}else 2*Ke()-i.renderingStartTime>Zo&&n!==1073741824&&(e.flags|=128,r=!0,Qa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ke(),e.sibling=null,n=Me.current,Pe(Me,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return yg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function jR(t,e){switch(Xm(e),e.tag){case 1:return Wt(e.type)&&ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xo(),Oe(zt),Oe(Ct),og(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ig(e),null;case 13:if(Oe(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Me),null;case 4:return Xo(),null;case 10:return tg(e.type._context),null;case 22:case 23:return yg(),null;case 24:return null;default:return null}}var su=!1,St=!1,LR=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function Op(t,e,n){try{n()}catch(r){ze(t,e,r)}}var N_=!1;function MR(t,e){if(yp=Yu,t=AE(),Qm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,f=t,g=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===t)break t;if(g===n&&++u===s&&(a=o),g===i&&++h===r&&(c=o),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vp={focusedElem:t,selectionRange:n},Yu=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,x=b.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:bn(e.type,w),x);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(D){ze(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return b=N_,N_=!1,b}function _l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Op(e,n,i)}s=s.next}while(s!==r)}}function Xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function b1(t){var e=t.alternate;e!==null&&(t.alternate=null,b1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[Ul],delete e[xp],delete e[_R],delete e[wR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S1(t){return t.tag===5||t.tag===3||t.tag===4}function k_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zu));else if(r!==4&&(t=t.child,t!==null))for(Lp(t,e,n),t=t.sibling;t!==null;)Lp(t,e,n),t=t.sibling}function Mp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mp(t,e,n),t=t.sibling;t!==null;)Mp(t,e,n),t=t.sibling}var ft=null,An=!1;function ns(t,e,n){for(n=n.child;n!==null;)I1(t,e,n),n=n.sibling}function I1(t,e,n){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(zd,n)}catch{}switch(n.tag){case 5:St||Eo(n,e);case 6:var r=ft,s=An;ft=null,ns(t,e,n),ft=r,An=s,ft!==null&&(An?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(An?(t=ft,n=n.stateNode,t.nodeType===8?yf(t.parentNode,n):t.nodeType===1&&yf(t,n),jl(t)):yf(ft,n.stateNode));break;case 4:r=ft,s=An,ft=n.stateNode.containerInfo,An=!0,ns(t,e,n),ft=r,An=s;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Op(n,e,o),s=s.next}while(s!==r)}ns(t,e,n);break;case 1:if(!St&&(Eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,ns(t,e,n),St=r):ns(t,e,n);break;default:ns(t,e,n)}}function D_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LR),e.forEach(function(r){var s=qR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,An=!1;break e;case 3:ft=a.stateNode.containerInfo,An=!0;break e;case 4:ft=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(ft===null)throw Error(K(160));I1(i,o,s),ft=null,An=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ze(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)C1(e,t),e=e.sibling}function C1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),Qn(t),r&4){try{_l(3,t,t.return),Xd(3,t)}catch(w){ze(t,t.return,w)}try{_l(5,t,t.return)}catch(w){ze(t,t.return,w)}}break;case 1:xn(e,t),Qn(t),r&512&&n!==null&&Eo(n,n.return);break;case 5:if(xn(e,t),Qn(t),r&512&&n!==null&&Eo(n,n.return),t.flags&32){var s=t.stateNode;try{Nl(s,"")}catch(w){ze(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Qx(s,i),ap(a,o);var u=ap(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?eE(s,f):h==="dangerouslySetInnerHTML"?Jx(s,f):h==="children"?Nl(s,f):Lm(s,h,f,u)}switch(a){case"input":np(s,i);break;case"textarea":Yx(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?So(s,!!i.multiple,m,!1):g!==!!i.multiple&&(i.defaultValue!=null?So(s,!!i.multiple,i.defaultValue,!0):So(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ul]=i}catch(w){ze(t,t.return,w)}}break;case 6:if(xn(e,t),Qn(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ze(t,t.return,w)}}break;case 3:if(xn(e,t),Qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jl(e.containerInfo)}catch(w){ze(t,t.return,w)}break;case 4:xn(e,t),Qn(t);break;case 13:xn(e,t),Qn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mg=Ke())),r&4&&D_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(St=(u=St)||h,xn(e,t),St=u):xn(e,t),Qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ee=t,h=t.child;h!==null;){for(f=ee=h;ee!==null;){switch(g=ee,m=g.child,g.tag){case 0:case 11:case 14:case 15:_l(4,g,g.return);break;case 1:Eo(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){ze(r,n,w)}}break;case 5:Eo(g,g.return);break;case 22:if(g.memoizedState!==null){j_(f);continue}}m!==null?(m.return=g,ee=m):j_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Zx("display",o))}catch(w){ze(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ze(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xn(e,t),Qn(t),r&4&&D_(t);break;case 21:break;default:xn(e,t),Qn(t)}}function Qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(S1(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nl(s,""),r.flags&=-33);var i=k_(t);Mp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=k_(t);Lp(t,a,o);break;default:throw Error(K(161))}}catch(c){ze(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VR(t,e,n){ee=t,A1(t)}function A1(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||su;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||St;a=su;var u=St;if(su=o,(St=c)&&!u)for(ee=s;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?L_(s):c!==null?(c.return=o,ee=c):L_(s);for(;i!==null;)ee=i,A1(i),i=i.sibling;ee=s,su=a,St=u}O_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):O_(t)}}function O_(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&v_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}v_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&jl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}St||e.flags&512&&jp(e)}catch(g){ze(e,e.return,g)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function j_(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function L_(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xd(4,e)}catch(c){ze(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ze(e,s,c)}}var i=e.return;try{jp(e)}catch(c){ze(e,i,c)}break;case 5:var o=e.return;try{jp(e)}catch(c){ze(e,o,c)}}}catch(c){ze(e,e.return,c)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var FR=Math.ceil,ud=qr.ReactCurrentDispatcher,fg=qr.ReactCurrentOwner,mn=qr.ReactCurrentBatchConfig,we=0,ht=null,Je=null,gt=0,Yt=0,To=ni(0),it=0,ql=null,Mi=0,Jd=0,pg=0,wl=null,$t=null,mg=0,Zo=1/0,Ar=null,dd=!1,Vp=null,ks=null,iu=!1,bs=null,hd=0,xl=0,Fp=null,Ru=-1,Pu=0;function Ot(){return we&6?Ke():Ru!==-1?Ru:Ru=Ke()}function Ds(t){return t.mode&1?we&2&&gt!==0?gt&-gt:ER.transition!==null?(Pu===0&&(Pu=hE()),Pu):(t=be,t!==0||(t=window.event,t=t===void 0?16:_E(t.type)),t):1}function Dn(t,e,n,r){if(50<xl)throw xl=0,Fp=null,Error(K(185));hc(t,n,r),(!(we&2)||t!==ht)&&(t===ht&&(!(we&2)&&(Jd|=n),it===4&&hs(t,gt)),Ht(t,r),n===1&&we===0&&!(e.mode&1)&&(Zo=Ke()+500,Kd&&ri()))}function Ht(t,e){var n=t.callbackNode;EA(t,e);var r=Qu(t,t===ht?gt:0);if(r===0)n!==null&&Hv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hv(n),e===1)t.tag===0?xR(M_.bind(null,t)):VE(M_.bind(null,t)),yR(function(){!(we&6)&&ri()}),n=null;else{switch(fE(r)){case 1:n=$m;break;case 4:n=uE;break;case 16:n=Ku;break;case 536870912:n=dE;break;default:n=Ku}n=L1(n,R1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function R1(t,e){if(Ru=-1,Pu=0,we&6)throw Error(K(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=Qu(t,t===ht?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fd(t,r);else{e=r;var s=we;we|=2;var i=N1();(ht!==t||gt!==e)&&(Ar=null,Zo=Ke()+500,Ri(t,e));do try{BR();break}catch(a){P1(t,a)}while(!0);eg(),ud.current=i,we=s,Je!==null?e=0:(ht=null,gt=0,e=it)}if(e!==0){if(e===2&&(s=hp(t),s!==0&&(r=s,e=Up(t,s))),e===1)throw n=ql,Ri(t,0),hs(t,r),Ht(t,Ke()),n;if(e===6)hs(t,r);else{if(s=t.current.alternate,!(r&30)&&!UR(s)&&(e=fd(t,r),e===2&&(i=hp(t),i!==0&&(r=i,e=Up(t,i))),e===1))throw n=ql,Ri(t,0),hs(t,r),Ht(t,Ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:yi(t,$t,Ar);break;case 3:if(hs(t,r),(r&130023424)===r&&(e=mg+500-Ke(),10<e)){if(Qu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wp(yi.bind(null,t,$t,Ar),e);break}yi(t,$t,Ar);break;case 4:if(hs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-kn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FR(r/1960))-r,10<r){t.timeoutHandle=wp(yi.bind(null,t,$t,Ar),r);break}yi(t,$t,Ar);break;case 5:yi(t,$t,Ar);break;default:throw Error(K(329))}}}return Ht(t,Ke()),t.callbackNode===n?R1.bind(null,t):null}function Up(t,e){var n=wl;return t.current.memoizedState.isDehydrated&&(Ri(t,e).flags|=256),t=fd(t,e),t!==2&&(e=$t,$t=n,e!==null&&$p(e)),t}function $p(t){$t===null?$t=t:$t.push.apply($t,t)}function UR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!jn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hs(t,e){for(e&=~pg,e&=~Jd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function M_(t){if(we&6)throw Error(K(327));Po();var e=Qu(t,0);if(!(e&1))return Ht(t,Ke()),null;var n=fd(t,e);if(t.tag!==0&&n===2){var r=hp(t);r!==0&&(e=r,n=Up(t,r))}if(n===1)throw n=ql,Ri(t,0),hs(t,e),Ht(t,Ke()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yi(t,$t,Ar),Ht(t,Ke()),null}function gg(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Zo=Ke()+500,Kd&&ri())}}function Vi(t){bs!==null&&bs.tag===0&&!(we&6)&&Po();var e=we;we|=1;var n=mn.transition,r=be;try{if(mn.transition=null,be=1,t)return t()}finally{be=r,mn.transition=n,we=e,!(we&6)&&ri()}}function yg(){Yt=To.current,Oe(To)}function Ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gR(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Xm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ed();break;case 3:Xo(),Oe(zt),Oe(Ct),og();break;case 5:ig(r);break;case 4:Xo();break;case 13:Oe(Me);break;case 19:Oe(Me);break;case 10:tg(r.type._context);break;case 22:case 23:yg()}n=n.return}if(ht=t,Je=t=Os(t.current,null),gt=Yt=e,it=0,ql=null,pg=Jd=Mi=0,$t=wl=null,wi!==null){for(e=0;e<wi.length;e++)if(n=wi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wi=null}return t}function P1(t,e){do{var n=Je;try{if(eg(),Iu.current=cd,ld){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ld=!1}if(Li=0,dt=rt=Ve=null,vl=!1,zl=0,fg.current=null,n===null||n.return===null){it=1,ql=e,Je=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=gt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=b_(o);if(m!==null){m.flags&=-257,S_(m,o,a,i,e),m.mode&1&&T_(i,u,e),e=m,c=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(c),e.updateQueue=w}else b.add(c);break e}else{if(!(e&1)){T_(i,u,e),vg();break e}c=Error(K(426))}}else if(je&&a.mode&1){var x=b_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),S_(x,o,a,i,e),Jm(Jo(c,a));break e}}i=c=Jo(c,a),it!==4&&(it=2),wl===null?wl=[i]:wl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=f1(i,c,e);y_(i,_);break e;case 1:a=c;var v=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ks===null||!ks.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=p1(i,a,e);y_(i,D);break e}}i=i.return}while(i!==null)}D1(n)}catch(j){e=j,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function N1(){var t=ud.current;return ud.current=cd,t===null?cd:t}function vg(){(it===0||it===3||it===2)&&(it=4),ht===null||!(Mi&268435455)&&!(Jd&268435455)||hs(ht,gt)}function fd(t,e){var n=we;we|=2;var r=N1();(ht!==t||gt!==e)&&(Ar=null,Ri(t,e));do try{$R();break}catch(s){P1(t,s)}while(!0);if(eg(),we=n,ud.current=r,Je!==null)throw Error(K(261));return ht=null,gt=0,it}function $R(){for(;Je!==null;)k1(Je)}function BR(){for(;Je!==null&&!fA();)k1(Je)}function k1(t){var e=j1(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?D1(t):Je=e,fg.current=null}function D1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jR(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Je=null;return}}else if(n=OR(n,e,Yt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);it===0&&(it=5)}function yi(t,e,n){var r=be,s=mn.transition;try{mn.transition=null,be=1,zR(t,e,n,r)}finally{mn.transition=s,be=r}return null}function zR(t,e,n,r){do Po();while(bs!==null);if(we&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(TA(t,i),t===ht&&(Je=ht=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,L1(Ku,function(){return Po(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=mn.transition,mn.transition=null;var o=be;be=1;var a=we;we|=4,fg.current=null,MR(t,n),C1(n,t),cR(vp),Yu=!!yp,vp=yp=null,t.current=n,VR(n),pA(),we=a,be=o,mn.transition=i}else t.current=n;if(iu&&(iu=!1,bs=t,hd=s),i=t.pendingLanes,i===0&&(ks=null),yA(n.stateNode),Ht(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(dd)throw dd=!1,t=Vp,Vp=null,t;return hd&1&&t.tag!==0&&Po(),i=t.pendingLanes,i&1?t===Fp?xl++:(xl=0,Fp=t):xl=0,ri(),null}function Po(){if(bs!==null){var t=fE(hd),e=mn.transition,n=be;try{if(mn.transition=null,be=16>t?16:t,bs===null)var r=!1;else{if(t=bs,bs=null,hd=0,we&6)throw Error(K(331));var s=we;for(we|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ee=u;ee!==null;){var h=ee;switch(h.tag){case 0:case 11:case 15:_l(8,h,i)}var f=h.child;if(f!==null)f.return=h,ee=f;else for(;ee!==null;){h=ee;var g=h.sibling,m=h.return;if(b1(h),h===u){ee=null;break}if(g!==null){g.return=m,ee=g;break}ee=m}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_l(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ee=_;break e}ee=i.return}}var v=t.current;for(ee=v;ee!==null;){o=ee;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ee=E;else e:for(o=v;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xd(9,a)}}catch(j){ze(a,a.return,j)}if(a===o){ee=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,ee=D;break e}ee=a.return}}if(we=s,ri(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(zd,t)}catch{}r=!0}return r}finally{be=n,mn.transition=e}}return!1}function V_(t,e,n){e=Jo(n,e),e=f1(t,e,1),t=Ns(t,e,1),e=Ot(),t!==null&&(hc(t,1,e),Ht(t,e))}function ze(t,e,n){if(t.tag===3)V_(t,t,n);else for(;e!==null;){if(e.tag===3){V_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=Jo(n,t),t=p1(e,t,1),e=Ns(e,t,1),t=Ot(),e!==null&&(hc(e,1,t),Ht(e,t));break}}e=e.return}}function WR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(gt&n)===n&&(it===4||it===3&&(gt&130023424)===gt&&500>Ke()-mg?Ri(t,0):pg|=n),Ht(t,e)}function O1(t,e){e===0&&(t.mode&1?(e=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):e=1);var n=Ot();t=Vr(t,e),t!==null&&(hc(t,e,n),Ht(t,n))}function HR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),O1(t,n)}function qR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),O1(t,n)}var j1;j1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,DR(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,je&&e.flags&1048576&&FE(e,rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Au(t,e),t=e.pendingProps;var s=Ko(e,Ct.current);Ro(e,n),s=lg(null,e,r,t,s,n);var i=cg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(i=!0,td(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rg(e),s.updater=Yd,e.stateNode=s,s._reactInternals=e,Cp(e,r,t,n),e=Pp(null,e,r,!0,i,n)):(e.tag=0,je&&i&&Ym(e),kt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=KR(r),t=bn(r,t),s){case 0:e=Rp(null,e,r,t,n);break e;case 1:e=A_(null,e,r,t,n);break e;case 11:e=I_(null,e,r,t,n);break e;case 14:e=C_(null,e,r,bn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),Rp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),A_(t,e,r,s,n);case 3:e:{if(v1(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,HE(t,e),od(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Jo(Error(K(423)),e),e=R_(t,e,r,n,s);break e}else if(r!==s){s=Jo(Error(K(424)),e),e=R_(t,e,r,n,s);break e}else for(Jt=Ps(e.stateNode.containerInfo.firstChild),en=e,je=!0,Rn=null,n=zE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),r===s){e=Fr(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return qE(e),t===null&&bp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_p(r,s)?o=null:i!==null&&_p(r,i)&&(e.flags|=32),y1(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&bp(e),null;case 13:return _1(t,e,n);case 4:return sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yo(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),I_(t,e,r,s,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Pe(sd,r._currentValue),r._currentValue=o,i!==null)if(jn(i.value,o)){if(i.children===s.children&&!zt.current){e=Fr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=jr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Sp(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ro(e,n),s=gn(s),r=r(s),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,s=bn(r,e.pendingProps),s=bn(r.type,s),C_(t,e,r,s,n);case 15:return m1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),Au(t,e),e.tag=1,Wt(r)?(t=!0,td(e)):t=!1,Ro(e,n),h1(e,r,s),Cp(e,r,s,n),Pp(null,e,r,!0,t,n);case 19:return w1(t,e,n);case 22:return g1(t,e,n)}throw Error(K(156,e.tag))};function L1(t,e){return cE(t,e)}function GR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,n,r){return new GR(t,e,n,r)}function _g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KR(t){if(typeof t=="function")return _g(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vm)return 11;if(t===Fm)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_g(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fo:return Pi(n.children,s,i,e);case Mm:o=8,s|=8;break;case Xf:return t=pn(12,n,e,s|2),t.elementType=Xf,t.lanes=i,t;case Jf:return t=pn(13,n,e,s),t.elementType=Jf,t.lanes=i,t;case Zf:return t=pn(19,n,e,s),t.elementType=Zf,t.lanes=i,t;case qx:return Zd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wx:o=10;break e;case Hx:o=9;break e;case Vm:o=11;break e;case Fm:o=14;break e;case cs:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Pi(t,e,n,r){return t=pn(7,t,r,e),t.lanes=n,t}function Zd(t,e,n,r){return t=pn(22,t,r,e),t.elementType=qx,t.lanes=n,t.stateNode={isHidden:!1},t}function Sf(t,e,n){return t=pn(6,t,null,e),t.lanes=n,t}function If(t,e,n){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wg(t,e,n,r,s,i,o,a,c){return t=new QR(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rg(i),t}function YR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function M1(t){if(!t)return zs;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Wt(n))return ME(t,n,e)}return e}function V1(t,e,n,r,s,i,o,a,c){return t=wg(n,r,!0,t,s,i,o,a,c),t.context=M1(null),n=t.current,r=Ot(),s=Ds(n),i=jr(r,s),i.callback=e??null,Ns(n,i,s),t.current.lanes=s,hc(t,s,r),Ht(t,r),t}function eh(t,e,n,r){var s=e.current,i=Ot(),o=Ds(s);return n=M1(n),e.context===null?e.context=n:e.pendingContext=n,e=jr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(s,e,o),t!==null&&(Dn(t,s,o,i),Su(t,s,o)),o}function pd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xg(t,e){F_(t,e),(t=t.alternate)&&F_(t,e)}function XR(){return null}var F1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Eg(t){this._internalRoot=t}th.prototype.render=Eg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));eh(t,e,null,null)};th.prototype.unmount=Eg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){eh(null,t,null,null)}),e[Mr]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var e=gE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ds.length&&e!==0&&e<ds[n].priority;n++);ds.splice(n,0,t),n===0&&vE(t)}};function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U_(){}function JR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=pd(o);i.call(u)}}var o=V1(e,r,t,0,null,!1,!1,"",U_);return t._reactRootContainer=o,t[Mr]=o.current,Vl(t.nodeType===8?t.parentNode:t),Vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=pd(c);a.call(u)}}var c=wg(t,0,!1,null,null,!1,!1,"",U_);return t._reactRootContainer=c,t[Mr]=c.current,Vl(t.nodeType===8?t.parentNode:t),Vi(function(){eh(e,c,n,r)}),c}function rh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=pd(o);a.call(c)}}eh(e,o,t,s)}else o=JR(n,e,t,s,r);return pd(o)}pE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sl(e.pendingLanes);n!==0&&(Bm(e,n|1),Ht(e,Ke()),!(we&6)&&(Zo=Ke()+500,ri()))}break;case 13:Vi(function(){var r=Vr(t,1);if(r!==null){var s=Ot();Dn(r,t,1,s)}}),xg(t,1)}};zm=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Ot();Dn(e,t,134217728,n)}xg(t,134217728)}};mE=function(t){if(t.tag===13){var e=Ds(t),n=Vr(t,e);if(n!==null){var r=Ot();Dn(n,t,e,r)}xg(t,e)}};gE=function(){return be};yE=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};cp=function(t,e,n){switch(e){case"input":if(np(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gd(r);if(!s)throw Error(K(90));Kx(r),np(r,s)}}}break;case"textarea":Yx(t,n);break;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}};rE=gg;sE=Vi;var ZR={usingClientEntryPoint:!1,Events:[pc,yo,Gd,tE,nE,gg]},Ya={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eP={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||XR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{zd=ou.inject(eP),sr=ou}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZR;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tg(e))throw Error(K(200));return YR(t,e,null,n)};rn.createRoot=function(t,e){if(!Tg(t))throw Error(K(299));var n=!1,r="",s=F1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wg(t,1,!1,null,null,n,!1,r,s),t[Mr]=e.current,Vl(t.nodeType===8?t.parentNode:t),new Eg(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=aE(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return Vi(t)};rn.hydrate=function(t,e,n){if(!nh(e))throw Error(K(200));return rh(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!Tg(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=F1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=V1(e,null,t,1,n??null,s,!1,i,o),t[Mr]=e.current,Vl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new th(e)};rn.render=function(t,e,n){if(!nh(e))throw Error(K(200));return rh(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!nh(t))throw Error(K(40));return t._reactRootContainer?(Vi(function(){rh(null,null,t,!1,function(){t._reactRootContainer=null,t[Mr]=null})}),!0):!1};rn.unstable_batchedUpdates=gg;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return rh(t,e,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function U1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U1)}catch(t){console.error(t)}}U1(),Ux.exports=rn;var gc=Ux.exports;const $1=Cx(gc);var B1,$_=gc;B1=$_.createRoot,$_.hydrateRoot;const tP=1,nP=1e6;let Cf=0;function rP(){return Cf=(Cf+1)%Number.MAX_SAFE_INTEGER,Cf.toString()}const Af=new Map,B_=t=>{if(Af.has(t))return;const e=setTimeout(()=>{Af.delete(t),El({type:"REMOVE_TOAST",toastId:t})},nP);Af.set(t,e)},sP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,tP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?B_(n):t.toasts.forEach(r=>{B_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ku=[];let Du={toasts:[]};function El(t){Du=sP(Du,t),ku.forEach(e=>{e(Du)})}function iP({...t}){const e=rP(),n=s=>El({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>El({type:"DISMISS_TOAST",toastId:e});return El({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function oP(){const[t,e]=C.useState(Du);return C.useEffect(()=>(ku.push(e),()=>{const n=ku.indexOf(e);n>-1&&ku.splice(n,1)}),[t]),{...t,toast:iP,dismiss:n=>El({type:"DISMISS_TOAST",toastId:n})}}function st(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function z_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function z1(...t){return e=>{let n=!1;const r=t.map(s=>{const i=z_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():z_(t[s],null)}}}}function Ln(...t){return C.useCallback(z1(...t),t)}function sh(t,e=[]){let n=[];function r(i,o){const a=C.createContext(o),c=n.length;n=[...n,o];const u=f=>{var _;const{scope:g,children:m,...b}=f,w=((_=g==null?void 0:g[t])==null?void 0:_[c])||a,x=C.useMemo(()=>b,Object.values(b));return d.jsx(w.Provider,{value:x,children:m})};u.displayName=i+"Provider";function h(f,g){var w;const m=((w=g==null?void 0:g[t])==null?void 0:w[c])||a,b=C.useContext(m);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,aP(s,...e)]}function aP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function md(t){const e=cP(t),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,a=C.Children.toArray(i),c=a.find(dP);if(c){const u=c.props.children,h=a.map(f=>f===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:f);return d.jsx(e,{...o,ref:s,children:C.isValidElement(u)?C.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var lP=md("Slot");function cP(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=fP(s),a=hP(i,s.props);return s.type!==C.Fragment&&(a.ref=r?z1(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var W1=Symbol("radix.slottable");function uP(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=W1,e}function dP(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===W1}function hP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function fP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pP(t){const e=t+"CollectionProvider",[n,r]=sh(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:x,children:_}=w,v=Q.useRef(null),E=Q.useRef(new Map).current;return d.jsx(s,{scope:x,itemMap:E,collectionRef:v,children:_})};o.displayName=e;const a=t+"CollectionSlot",c=md(a),u=Q.forwardRef((w,x)=>{const{scope:_,children:v}=w,E=i(a,_),D=Ln(x,E.collectionRef);return d.jsx(c,{ref:D,children:v})});u.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",g=md(h),m=Q.forwardRef((w,x)=>{const{scope:_,children:v,...E}=w,D=Q.useRef(null),j=Ln(x,D),L=i(h,_);return Q.useEffect(()=>(L.itemMap.set(D,{ref:D,...E}),()=>void L.itemMap.delete(D))),d.jsx(g,{[f]:"",ref:j,children:v})});m.displayName=h;function b(w){const x=i(t+"CollectionConsumer",w);return Q.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const E=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((L,S)=>E.indexOf(L.ref.current)-E.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},b,r]}var mP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qt=mP.reduce((t,e)=>{const n=md(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function H1(t,e){t&&gc.flushSync(()=>t.dispatchEvent(e))}function Ws(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function gP(t,e=globalThis==null?void 0:globalThis.document){const n=Ws(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var yP="DismissableLayer",Bp="dismissableLayer.update",vP="dismissableLayer.pointerDownOutside",_P="dismissableLayer.focusOutside",W_,q1=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bg=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=C.useContext(q1),[h,f]=C.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=C.useState({}),b=Ln(e,S=>f(S)),w=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(x),v=h?w.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,D=v>=_,j=xP(S=>{const T=S.target,A=[...u.branches].some(R=>R.contains(T));!D||A||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},g),L=EP(S=>{const T=S.target;[...u.branches].some(R=>R.contains(T))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},g);return gP(S=>{v===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},g),C.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(W_=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),H_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=W_)}},[h,g,n,u]),C.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),H_())},[h,u]),C.useEffect(()=>{const S=()=>m({});return document.addEventListener(Bp,S),()=>document.removeEventListener(Bp,S)},[]),d.jsx(qt.div,{...c,ref:b,style:{pointerEvents:E?D?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,L.onFocusCapture),onBlurCapture:st(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,j.onPointerDownCapture)})});bg.displayName=yP;var wP="DismissableLayerBranch",G1=C.forwardRef((t,e)=>{const n=C.useContext(q1),r=C.useRef(null),s=Ln(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(qt.div,{...t,ref:s})});G1.displayName=wP;function xP(t,e=globalThis==null?void 0:globalThis.document){const n=Ws(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){K1(vP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function EP(t,e=globalThis==null?void 0:globalThis.document){const n=Ws(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&K1(_P,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function H_(){const t=new CustomEvent(Bp);document.dispatchEvent(t)}function K1(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?H1(s,i):s.dispatchEvent(i)}var TP=bg,bP=G1,Hs=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},SP="Portal",Q1=C.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=C.useState(!1);Hs(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$1.createPortal(d.jsx(qt.div,{...r,ref:e}),o):null});Q1.displayName=SP;function IP(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Sg=t=>{const{present:e,children:n}=t,r=CP(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=Ln(r.ref,AP(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};Sg.displayName="Presence";function CP(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),i=C.useRef("none"),o=t?"mounted":"unmounted",[a,c]=IP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=au(r.current);i.current=a==="mounted"?u:"none"},[a]),Hs(()=>{const u=r.current,h=s.current;if(h!==t){const g=i.current,m=au(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&g!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Hs(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=m=>{const w=au(r.current).includes(m.animationName);if(m.target===e&&w&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=m=>{m.target===e&&(i.current=au(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function au(t){return(t==null?void 0:t.animationName)||"none"}function AP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var RP=Vx[" useInsertionEffect ".trim().toString()]||Hs;function PP({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=NP({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=C.useRef(t!==void 0);C.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=C.useCallback(h=>{var f;if(a){const g=kP(h)?h(t):h;g!==t&&((f=o.current)==null||f.call(o,g))}else i(h)},[a,t,i,o]);return[c,u]}function NP({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),i=C.useRef(e);return RP(()=>{i.current=e},[e]),C.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function kP(t){return typeof t=="function"}var DP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OP="VisuallyHidden",ih=C.forwardRef((t,e)=>d.jsx(qt.span,{...t,ref:e,style:{...DP,...t.style}}));ih.displayName=OP;var jP=ih,Ig="ToastProvider",[Cg,LP,MP]=pP("Toast"),[Y1,kU]=sh("Toast",[MP]),[VP,oh]=Y1(Ig),X1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=C.useState(null),[u,h]=C.useState(0),f=C.useRef(!1),g=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ig}\`. Expected non-empty \`string\`.`),d.jsx(Cg.Provider,{scope:e,children:d.jsx(VP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:C.useCallback(()=>h(m=>m+1),[]),onToastRemove:C.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};X1.displayName=Ig;var J1="ToastViewport",FP=["F8"],zp="toast.viewportPause",Wp="toast.viewportResume",Z1=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=FP,label:s="Notifications ({hotkey})",...i}=t,o=oh(J1,n),a=LP(n),c=C.useRef(null),u=C.useRef(null),h=C.useRef(null),f=C.useRef(null),g=Ln(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;C.useEffect(()=>{const x=_=>{var E;r.length!==0&&r.every(D=>_[D]||_.code===D)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),C.useEffect(()=>{const x=c.current,_=f.current;if(b&&x&&_){const v=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(zp);_.dispatchEvent(L),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Wp);_.dispatchEvent(L),o.isClosePausedRef.current=!1}},D=L=>{!x.contains(L.relatedTarget)&&E()},j=()=>{x.contains(document.activeElement)||E()};return x.addEventListener("focusin",v),x.addEventListener("focusout",D),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",j),window.addEventListener("blur",v),window.addEventListener("focus",E),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",D),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",v),window.removeEventListener("focus",E)}}},[b,o.isClosePausedRef]);const w=C.useCallback(({tabbingDirection:x})=>{const v=a().map(E=>{const D=E.ref.current,j=[D,...JP(D)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?v.reverse():v).flat()},[a]);return C.useEffect(()=>{const x=f.current;if(x){const _=v=>{var j,L,S;const E=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!E){const T=document.activeElement,A=v.shiftKey;if(v.target===x&&A){(j=u.current)==null||j.focus();return}const k=w({tabbingDirection:A?"backwards":"forwards"}),P=k.findIndex(G=>G===T);Rf(k.slice(P+1))?v.preventDefault():A?(L=u.current)==null||L.focus():(S=h.current)==null||S.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[a,w]),d.jsxs(bP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&d.jsx(Hp,{ref:u,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"forwards"});Rf(x)}}),d.jsx(Cg.Slot,{scope:n,children:d.jsx(qt.ol,{tabIndex:-1,...i,ref:g})}),b&&d.jsx(Hp,{ref:h,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"backwards"});Rf(x)}})]})});Z1.displayName=J1;var eT="ToastFocusProxy",Hp=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=oh(eT,n);return d.jsx(ih,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Hp.displayName=eT;var yc="Toast",UP="toast.swipeStart",$P="toast.swipeMove",BP="toast.swipeCancel",zP="toast.swipeEnd",tT=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=PP({prop:r,defaultProp:s??!0,onChange:i,caller:yc});return d.jsx(Sg,{present:n||a,children:d.jsx(qP,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Ws(t.onPause),onResume:Ws(t.onResume),onSwipeStart:st(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:st(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});tT.displayName=yc;var[WP,HP]=Y1(yc,{onClose(){}}),qP=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:m,...b}=t,w=oh(yc,n),[x,_]=C.useState(null),v=Ln(e,G=>_(G)),E=C.useRef(null),D=C.useRef(null),j=s||w.duration,L=C.useRef(0),S=C.useRef(j),T=C.useRef(0),{onToastAdd:A,onToastRemove:R}=w,N=Ws(()=>{var ae;(x==null?void 0:x.contains(document.activeElement))&&((ae=w.viewport)==null||ae.focus()),o()}),k=C.useCallback(G=>{!G||G===1/0||(window.clearTimeout(T.current),L.current=new Date().getTime(),T.current=window.setTimeout(N,G))},[N]);C.useEffect(()=>{const G=w.viewport;if(G){const ae=()=>{k(S.current),u==null||u()},ne=()=>{const re=new Date().getTime()-L.current;S.current=S.current-re,window.clearTimeout(T.current),c==null||c()};return G.addEventListener(zp,ne),G.addEventListener(Wp,ae),()=>{G.removeEventListener(zp,ne),G.removeEventListener(Wp,ae)}}},[w.viewport,j,c,u,k]),C.useEffect(()=>{i&&!w.isClosePausedRef.current&&k(j)},[i,j,w.isClosePausedRef,k]),C.useEffect(()=>(A(),()=>R()),[A,R]);const P=C.useMemo(()=>x?lT(x):null,[x]);return w.viewport?d.jsxs(d.Fragment,{children:[P&&d.jsx(GP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),d.jsx(WP,{scope:n,onClose:N,children:gc.createPortal(d.jsx(Cg.ItemSlot,{scope:n,children:d.jsx(TP,{asChild:!0,onEscapeKeyDown:st(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||N(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(qt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:st(t.onKeyDown,G=>{G.key==="Escape"&&(a==null||a(G.nativeEvent),G.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:st(t.onPointerDown,G=>{G.button===0&&(E.current={x:G.clientX,y:G.clientY})}),onPointerMove:st(t.onPointerMove,G=>{if(!E.current)return;const ae=G.clientX-E.current.x,ne=G.clientY-E.current.y,re=!!D.current,B=["left","right"].includes(w.swipeDirection),M=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,O=B?M(0,ae):0,V=B?0:M(0,ne),$=G.pointerType==="touch"?10:2,q={x:O,y:V},X={originalEvent:G,delta:q};re?(D.current=q,lu($P,f,X,{discrete:!1})):q_(q,w.swipeDirection,$)?(D.current=q,lu(UP,h,X,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(ae)>$||Math.abs(ne)>$)&&(E.current=null)}),onPointerUp:st(t.onPointerUp,G=>{const ae=D.current,ne=G.target;if(ne.hasPointerCapture(G.pointerId)&&ne.releasePointerCapture(G.pointerId),D.current=null,E.current=null,ae){const re=G.currentTarget,B={originalEvent:G,delta:ae};q_(ae,w.swipeDirection,w.swipeThreshold)?lu(zP,m,B,{discrete:!0}):lu(BP,g,B,{discrete:!0}),re.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),GP=t=>{const{__scopeToast:e,children:n,...r}=t,s=oh(yc,e),[i,o]=C.useState(!1),[a,c]=C.useState(!1);return YP(()=>o(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(Q1,{asChild:!0,children:d.jsx(ih,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},KP="ToastTitle",nT=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(qt.div,{...r,ref:e})});nT.displayName=KP;var QP="ToastDescription",rT=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(qt.div,{...r,ref:e})});rT.displayName=QP;var sT="ToastAction",iT=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(aT,{altText:n,asChild:!0,children:d.jsx(Ag,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${sT}\`. Expected non-empty \`string\`.`),null)});iT.displayName=sT;var oT="ToastClose",Ag=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=HP(oT,n);return d.jsx(aT,{asChild:!0,children:d.jsx(qt.button,{type:"button",...r,ref:e,onClick:st(t.onClick,s.onClose)})})});Ag.displayName=oT;var aT=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(qt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function lT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),XP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...lT(r))}}),e}function lu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?H1(s,i):s.dispatchEvent(i)}var q_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function YP(t=()=>{}){const e=Ws(t);Hs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function XP(t){return t.nodeType===t.ELEMENT_NODE}function JP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ZP=X1,cT=Z1,uT=tT,dT=nT,hT=rT,fT=iT,pT=Ag;function mT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=mT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=mT(t))&&(r&&(r+=" "),r+=e);return r}const G_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,K_=gT,yT=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return K_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const g=G_(h)||G_(f);return s[u][g]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,g]=h;return g===void 0||(u[f]=g),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:g,...m}=h;return Object.entries(m).every(b=>{let[w,x]=b;return Array.isArray(x)?x.includes({...i,...a}[w]):{...i,...a}[w]===x})?[...u,f,g]:u},[]);return K_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>C.createElement("svg",{ref:c,...tN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vT("lucide",s),...a},[...o.map(([u,h])=>C.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(nN,{ref:i,iconNode:e,className:vT(`lucide-${eN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=yr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=yr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=yr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=yr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=yr("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=yr("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=yr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=yr("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=yr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=yr("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Rg="-",cN=t=>{const e=dN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Rg);return a[0]===""&&a.length!==1&&a.shift(),_T(a,e)||uN(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},_T=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?_T(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Rg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},J_=/^\[(.+)\]$/,uN=t=>{if(J_.test(t)){const e=J_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return fN(Object.entries(t.classGroups),n).forEach(([i,o])=>{qp(o,r,i,e)}),r},qp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Z_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(hN(s)){qp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{qp(o,Z_(e,i),n,r)})})},Z_=(t,e)=>{let n=t;return e.split(Rg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hN=t=>t.isThemeGetter,fN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,pN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},wT="!",mN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,h=0,f;for(let x=0;x<a.length;x++){let _=a[x];if(u===0){if(_===s&&(r||a.slice(x,x+i)===e)){c.push(a.slice(h,x)),h=x+i;continue}if(_==="/"){f=x;continue}}_==="["?u++:_==="]"&&u--}const g=c.length===0?a:a.substring(h),m=g.startsWith(wT),b=m?g.substring(1):g,w=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},gN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yN=t=>({cache:pN(t.cacheSize),parseClassName:mN(t),...cN(t)}),vN=/\s+/,_N=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(vN);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}=n(u);let b=!!m,w=r(b?g.substring(0,m):g);if(!w){if(!b){a=u+(a.length>0?" "+a:a);continue}if(w=r(g),!w){a=u+(a.length>0?" "+a:a);continue}b=!1}const x=gN(h).join(":"),_=f?x+wT:x,v=_+w;if(i.includes(v))continue;i.push(v);const E=s(w,b);for(let D=0;D<E.length;++D){const j=E[D];i.push(_+j)}a=u+(a.length>0?" "+a:a)}return a};function wN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=xT(e))&&(r&&(r+=" "),r+=n);return r}const xT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xT(t[r]))&&(n&&(n+=" "),n+=e);return n};function xN(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((h,f)=>f(h),t());return n=yN(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const h=_N(c,n);return s(c,h),h}return function(){return i(wN.apply(null,arguments))}}const ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ET=/^\[(?:([a-z-]+):)?(.+)\]$/i,EN=/^\d+\/\d+$/,TN=new Set(["px","full","screen"]),bN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=t=>No(t)||TN.has(t)||EN.test(t),rs=t=>pa(t,"length",LN),No=t=>!!t&&!Number.isNaN(Number(t)),Pf=t=>pa(t,"number",No),Ja=t=>!!t&&Number.isInteger(Number(t)),RN=t=>t.endsWith("%")&&No(t.slice(0,-1)),de=t=>ET.test(t),ss=t=>bN.test(t),PN=new Set(["length","size","percentage"]),NN=t=>pa(t,PN,TT),kN=t=>pa(t,"position",TT),DN=new Set(["image","url"]),ON=t=>pa(t,DN,VN),jN=t=>pa(t,"",MN),Za=()=>!0,pa=(t,e,n)=>{const r=ET.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},LN=t=>SN.test(t)&&!IN.test(t),TT=()=>!1,MN=t=>CN.test(t),VN=t=>AN.test(t),FN=()=>{const t=ke("colors"),e=ke("spacing"),n=ke("blur"),r=ke("brightness"),s=ke("borderColor"),i=ke("borderRadius"),o=ke("borderSpacing"),a=ke("borderWidth"),c=ke("contrast"),u=ke("grayscale"),h=ke("hueRotate"),f=ke("invert"),g=ke("gap"),m=ke("gradientColorStops"),b=ke("gradientColorStopPositions"),w=ke("inset"),x=ke("margin"),_=ke("opacity"),v=ke("padding"),E=ke("saturate"),D=ke("scale"),j=ke("sepia"),L=ke("skew"),S=ke("space"),T=ke("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",de,e],k=()=>[de,e],P=()=>["",Sr,rs],G=()=>["auto",No,de],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",de],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[No,de];return{cacheSize:500,separator:":",theme:{colors:[Za],spacing:[Sr,rs],blur:["none","",ss,de],brightness:V(),borderColor:[t],borderRadius:["none","","full",ss,de],borderSpacing:k(),borderWidth:P(),contrast:V(),grayscale:M(),hueRotate:V(),invert:M(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[RN,rs],inset:N(),margin:N(),opacity:V(),padding:k(),saturate:V(),scale:V(),sepia:M(),skew:V(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[ss]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),de]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ja,de]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Ja,de]}],"grid-cols":[{"grid-cols":[Za]}],"col-start-end":[{col:["auto",{span:["full",Ja,de]},de]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Za]}],"row-start-end":[{row:["auto",{span:[Ja,de]},de]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[ss]},ss]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ss,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pf]}],"font-family":[{font:[Za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",No,Pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,rs]}],"underline-offset":[{"underline-offset":["auto",Sr,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),kN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ON]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Sr,de]}],"outline-w":[{outline:[Sr,rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Sr,rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ss,jN]}],"shadow-color":[{shadow:[Za]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ss,de]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Ja,de]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Sr,rs,Pf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UN=xN(FN);function Gt(...t){return UN(gT(t))}const $N=ZP,bT=C.forwardRef(({className:t,...e},n)=>d.jsx(cT,{ref:n,className:Gt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));bT.displayName=cT.displayName;const BN=yT("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ST=C.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(uT,{ref:r,className:Gt(BN({variant:e}),t),...n}));ST.displayName=uT.displayName;const zN=C.forwardRef(({className:t,...e},n)=>d.jsx(fT,{ref:n,className:Gt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));zN.displayName=fT.displayName;const IT=C.forwardRef(({className:t,...e},n)=>d.jsx(pT,{ref:n,className:Gt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(aN,{className:"h-4 w-4"})}));IT.displayName=pT.displayName;const CT=C.forwardRef(({className:t,...e},n)=>d.jsx(dT,{ref:n,className:Gt("text-sm font-semibold",t),...e}));CT.displayName=dT.displayName;const AT=C.forwardRef(({className:t,...e},n)=>d.jsx(hT,{ref:n,className:Gt("text-sm opacity-90",t),...e}));AT.displayName=hT.displayName;function WN(){const{toasts:t}=oP();return d.jsxs($N,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(ST,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(CT,{children:n}),r&&d.jsx(AT,{children:r})]}),s,d.jsx(IT,{})]},e)}),d.jsx(bT,{})]})}var ew=["light","dark"],HN="(prefers-color-scheme: dark)",qN=C.createContext(void 0),GN={setTheme:t=>{},themes:[]},KN=()=>{var t;return(t=C.useContext(qN))!=null?t:GN};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?ew.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,w=!1,x=!0)=>{let _=o?o[b]:b,v=w?b+"|| ''":`'${_}'`,E="";return s&&x&&!w&&ew.includes(b)&&(E+=`d.style.colorScheme = '${b}';`),n==="class"?w||_?E+=`c.add(${v})`:E+="null":_&&(E+=`d[s](n,${v})`),E},m=t?`!function(){${h}${g(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${HN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}${u?"":"else{"+g(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}else{${g(i,!1,!1)};}${f}}catch(t){}}();`;return C.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var QN=t=>{switch(t){case"success":return JN;case"info":return ek;case"warning":return ZN;case"error":return tk;default:return null}},YN=Array(12).fill(0),XN=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},YN.map((n,r)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),JN=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ZN=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ek=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tk=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nk=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rk=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Gp=1,sk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Gp++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],Q.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(ok(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>a.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Gp++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ft=new sk,ik=(t,e)=>{let n=(e==null?void 0:e.id)||Gp++;return Ft.addToast({title:t,...e,id:n}),n},ok=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ak=ik,lk=()=>Ft.toasts,ck=()=>Ft.getActiveToasts();Object.assign(ak,{success:Ft.success,info:Ft.info,warning:Ft.warning,error:Ft.error,custom:Ft.custom,message:Ft.message,promise:Ft.promise,dismiss:Ft.dismiss,loading:Ft.loading},{getHistory:lk,getToasts:ck});function uk(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}uk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cu(t){return t.label!==void 0}var dk=3,hk="32px",fk="16px",tw=4e3,pk=356,mk=14,gk=20,yk=200;function En(...t){return t.filter(Boolean).join(" ")}function vk(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var _k=t=>{var e,n,r,s,i,o,a,c,u,h,f;let{invert:g,toast:m,unstyled:b,interacting:w,setHeights:x,visibleToasts:_,heights:v,index:E,toasts:D,expanded:j,removeToast:L,defaultRichColors:S,closeButton:T,style:A,cancelButtonStyle:R,actionButtonStyle:N,className:k="",descriptionClassName:P="",duration:G,position:ae,gap:ne,loadingIcon:re,expandByDefault:B,classNames:M,icons:O,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:$}=t,[q,X]=Q.useState(null),[_e,Se]=Q.useState(null),[fe,$n]=Q.useState(!1),[vn,xr]=Q.useState(!1),[Bn,Er]=Q.useState(!1),[on,li]=Q.useState(!1),[Aa,Gr]=Q.useState(!1),[ci,Kr]=Q.useState(0),[Le,at]=Q.useState(0),zn=Q.useRef(m.duration||G||tw),Pc=Q.useRef(null),Wn=Q.useRef(null),Mh=E===0,ui=E+1<=_,Rt=m.type,Tr=m.dismissible!==!1,Ra=m.className||"",Vh=m.descriptionClassName||"",to=Q.useMemo(()=>v.findIndex(se=>se.toastId===m.id)||0,[v,m.id]),Nc=Q.useMemo(()=>{var se;return(se=m.closeButton)!=null?se:T},[m.closeButton,T]),Pa=Q.useMemo(()=>m.duration||G||tw,[m.duration,G]),br=Q.useRef(0),Hn=Q.useRef(0),no=Q.useRef(0),Mt=Q.useRef(null),[kc,ro]=ae.split("-"),Na=Q.useMemo(()=>v.reduce((se,Ee,Ae)=>Ae>=to?se:se+Ee.height,0),[v,to]),Qr=rk(),Dc=m.invert||g,tt=Rt==="loading";Hn.current=Q.useMemo(()=>to*ne+Na,[to,Na]),Q.useEffect(()=>{zn.current=Pa},[Pa]),Q.useEffect(()=>{$n(!0)},[]),Q.useEffect(()=>{let se=Wn.current;if(se){let Ee=se.getBoundingClientRect().height;return at(Ee),x(Ae=>[{toastId:m.id,height:Ee,position:m.position},...Ae]),()=>x(Ae=>Ae.filter(lt=>lt.toastId!==m.id))}},[x,m.id]),Q.useLayoutEffect(()=>{if(!fe)return;let se=Wn.current,Ee=se.style.height;se.style.height="auto";let Ae=se.getBoundingClientRect().height;se.style.height=Ee,at(Ae),x(lt=>lt.find(Kt=>Kt.toastId===m.id)?lt.map(Kt=>Kt.toastId===m.id?{...Kt,height:Ae}:Kt):[{toastId:m.id,height:Ae,position:m.position},...lt])},[fe,m.title,m.description,x,m.id]);let _n=Q.useCallback(()=>{xr(!0),Kr(Hn.current),x(se=>se.filter(Ee=>Ee.toastId!==m.id)),setTimeout(()=>{L(m)},yk)},[m,L,x,Hn]);Q.useEffect(()=>{if(m.promise&&Rt==="loading"||m.duration===1/0||m.type==="loading")return;let se;return j||w||$&&Qr?(()=>{if(no.current<br.current){let Ee=new Date().getTime()-br.current;zn.current=zn.current-Ee}no.current=new Date().getTime()})():zn.current!==1/0&&(br.current=new Date().getTime(),se=setTimeout(()=>{var Ee;(Ee=m.onAutoClose)==null||Ee.call(m,m),_n()},zn.current)),()=>clearTimeout(se)},[j,w,m,Rt,$,Qr,_n]),Q.useEffect(()=>{m.delete&&_n()},[_n,m.delete]);function di(){var se,Ee,Ae;return O!=null&&O.loading?Q.createElement("div",{className:En(M==null?void 0:M.loader,(se=m==null?void 0:m.classNames)==null?void 0:se.loader,"sonner-loader"),"data-visible":Rt==="loading"},O.loading):re?Q.createElement("div",{className:En(M==null?void 0:M.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Rt==="loading"},re):Q.createElement(XN,{className:En(M==null?void 0:M.loader,(Ae=m==null?void 0:m.classNames)==null?void 0:Ae.loader),visible:Rt==="loading"})}return Q.createElement("li",{tabIndex:0,ref:Wn,className:En(k,Ra,M==null?void 0:M.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[Rt],(n=m==null?void 0:m.classNames)==null?void 0:n[Rt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:S,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":fe,"data-promise":!!m.promise,"data-swiped":Aa,"data-removed":vn,"data-visible":ui,"data-y-position":kc,"data-x-position":ro,"data-index":E,"data-front":Mh,"data-swiping":Bn,"data-dismissible":Tr,"data-type":Rt,"data-invert":Dc,"data-swipe-out":on,"data-swipe-direction":_e,"data-expanded":!!(j||B&&fe),style:{"--index":E,"--toasts-before":E,"--z-index":D.length-E,"--offset":`${vn?ci:Hn.current}px`,"--initial-height":B?"auto":`${Le}px`,...A,...m.style},onDragEnd:()=>{Er(!1),X(null),Mt.current=null},onPointerDown:se=>{tt||!Tr||(Pc.current=new Date,Kr(Hn.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(Er(!0),Mt.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,Ee,Ae,lt;if(on||!Tr)return;Mt.current=null;let Kt=Number(((se=Wn.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qn=Number(((Ee=Wn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),an=new Date().getTime()-((Ae=Pc.current)==null?void 0:Ae.getTime()),Vt=q==="x"?Kt:qn,wn=Math.abs(Vt)/an;if(Math.abs(Vt)>=gk||wn>.11){Kr(Hn.current),(lt=m.onDismiss)==null||lt.call(m,m),Se(q==="x"?Kt>0?"right":"left":qn>0?"down":"up"),_n(),li(!0),Gr(!1);return}Er(!1),X(null)},onPointerMove:se=>{var Ee,Ae,lt,Kt;if(!Mt.current||!Tr||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let qn=se.clientY-Mt.current.y,an=se.clientX-Mt.current.x,Vt=(Ae=t.swipeDirections)!=null?Ae:vk(ae);!q&&(Math.abs(an)>1||Math.abs(qn)>1)&&X(Math.abs(an)>Math.abs(qn)?"x":"y");let wn={x:0,y:0};q==="y"?(Vt.includes("top")||Vt.includes("bottom"))&&(Vt.includes("top")&&qn<0||Vt.includes("bottom")&&qn>0)&&(wn.y=qn):q==="x"&&(Vt.includes("left")||Vt.includes("right"))&&(Vt.includes("left")&&an<0||Vt.includes("right")&&an>0)&&(wn.x=an),(Math.abs(wn.x)>0||Math.abs(wn.y)>0)&&Gr(!0),(lt=Wn.current)==null||lt.style.setProperty("--swipe-amount-x",`${wn.x}px`),(Kt=Wn.current)==null||Kt.style.setProperty("--swipe-amount-y",`${wn.y}px`)}},Nc&&!m.jsx?Q.createElement("button",{"aria-label":V,"data-disabled":tt,"data-close-button":!0,onClick:tt||!Tr?()=>{}:()=>{var se;_n(),(se=m.onDismiss)==null||se.call(m,m)},className:En(M==null?void 0:M.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=O==null?void 0:O.close)!=null?i:nk):null,m.jsx||C.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Q.createElement(Q.Fragment,null,Rt||m.icon||m.promise?Q.createElement("div",{"data-icon":"",className:En(M==null?void 0:M.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||di():null,m.type!=="loading"?m.icon||(O==null?void 0:O[Rt])||QN(Rt):null):null,Q.createElement("div",{"data-content":"",className:En(M==null?void 0:M.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},Q.createElement("div",{"data-title":"",className:En(M==null?void 0:M.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?Q.createElement("div",{"data-description":"",className:En(P,Vh,M==null?void 0:M.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),C.isValidElement(m.cancel)?m.cancel:m.cancel&&cu(m.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:se=>{var Ee,Ae;cu(m.cancel)&&Tr&&((Ae=(Ee=m.cancel).onClick)==null||Ae.call(Ee,se),_n())},className:En(M==null?void 0:M.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,C.isValidElement(m.action)?m.action:m.action&&cu(m.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||N,onClick:se=>{var Ee,Ae;cu(m.action)&&((Ae=(Ee=m.action).onClick)==null||Ae.call(Ee,se),!se.defaultPrevented&&_n())},className:En(M==null?void 0:M.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function nw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wk(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?fk:hk;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var xk=C.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:g,style:m,visibleToasts:b=dk,toastOptions:w,dir:x=nw(),gap:_=mk,loadingIcon:v,icons:E,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:j}=t,[L,S]=Q.useState([]),T=Q.useMemo(()=>Array.from(new Set([r].concat(L.filter($=>$.position).map($=>$.position)))),[L,r]),[A,R]=Q.useState([]),[N,k]=Q.useState(!1),[P,G]=Q.useState(!1),[ae,ne]=Q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=Q.useRef(null),B=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Q.useRef(null),O=Q.useRef(!1),V=Q.useCallback($=>{S(q=>{var X;return(X=q.find(_e=>_e.id===$.id))!=null&&X.delete||Ft.dismiss($.id),q.filter(({id:_e})=>_e!==$.id)})},[]);return Q.useEffect(()=>Ft.subscribe($=>{if($.dismiss){S(q=>q.map(X=>X.id===$.id?{...X,delete:!0}:X));return}setTimeout(()=>{$1.flushSync(()=>{S(q=>{let X=q.findIndex(_e=>_e.id===$.id);return X!==-1?[...q.slice(0,X),{...q[X],...$},...q.slice(X+1)]:[$,...q]})})})}),[]),Q.useEffect(()=>{if(h!=="system"){ne(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:q})=>{ne(q?"dark":"light")})}catch{$.addListener(({matches:X})=>{try{ne(X?"dark":"light")}catch(_e){console.error(_e)}})}},[h]),Q.useEffect(()=>{L.length<=1&&k(!1)},[L]),Q.useEffect(()=>{let $=q=>{var X,_e;s.every(Se=>q[Se]||q.code===Se)&&(k(!0),(X=re.current)==null||X.focus()),q.code==="Escape"&&(document.activeElement===re.current||(_e=re.current)!=null&&_e.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),Q.useEffect(()=>{if(re.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,O.current=!1)}},[re.current]),Q.createElement("section",{ref:e,"aria-label":`${D} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map(($,q)=>{var X;let[_e,Se]=$.split("-");return L.length?Q.createElement("ol",{key:$,dir:x==="auto"?nw():x,tabIndex:-1,ref:re,className:a,"data-sonner-toaster":!0,"data-theme":ae,"data-y-position":_e,"data-lifted":N&&L.length>1&&!i,"data-x-position":Se,style:{"--front-toast-height":`${((X=A[0])==null?void 0:X.height)||0}px`,"--width":`${pk}px`,"--gap":`${_}px`,...m,...wk(c,u)},onBlur:fe=>{O.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(O.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||O.current||(O.current=!0,M.current=fe.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{P||k(!1)},onDragEnd:()=>k(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},L.filter(fe=>!fe.position&&q===0||fe.position===$).map((fe,$n)=>{var vn,xr;return Q.createElement(_k,{key:fe.id,icons:E,index:$n,toast:fe,defaultRichColors:f,duration:(vn=w==null?void 0:w.duration)!=null?vn:g,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:b,closeButton:(xr=w==null?void 0:w.closeButton)!=null?xr:o,interacting:P,position:$,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:V,toasts:L.filter(Bn=>Bn.position==fe.position),heights:A.filter(Bn=>Bn.position==fe.position),setHeights:R,expandByDefault:i,gap:_,loadingIcon:v,expanded:N,pauseWhenPageIsHidden:j,swipeDirections:t.swipeDirections})})):null}))});const Ek=({...t})=>{const{theme:e="system"}=KN();return d.jsx(xk,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},Tk=["top","right","bottom","left"],qs=Math.min,Xt=Math.max,gd=Math.round,uu=Math.floor,or=t=>({x:t,y:t}),bk={left:"right",right:"left",bottom:"top",top:"bottom"},Sk={start:"end",end:"start"};function Kp(t,e,n){return Xt(t,qs(e,n))}function Ur(t,e){return typeof t=="function"?t(e):t}function $r(t){return t.split("-")[0]}function ma(t){return t.split("-")[1]}function Pg(t){return t==="x"?"y":"x"}function Ng(t){return t==="y"?"height":"width"}const Ik=new Set(["top","bottom"]);function nr(t){return Ik.has($r(t))?"y":"x"}function kg(t){return Pg(nr(t))}function Ck(t,e,n){n===void 0&&(n=!1);const r=ma(t),s=kg(t),i=Ng(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=yd(o)),[o,yd(o)]}function Ak(t){const e=yd(t);return[Qp(t),e,Qp(e)]}function Qp(t){return t.replace(/start|end/g,e=>Sk[e])}const rw=["left","right"],sw=["right","left"],Rk=["top","bottom"],Pk=["bottom","top"];function Nk(t,e,n){switch(t){case"top":case"bottom":return n?e?sw:rw:e?rw:sw;case"left":case"right":return e?Rk:Pk;default:return[]}}function kk(t,e,n,r){const s=ma(t);let i=Nk($r(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Qp)))),i}function yd(t){return t.replace(/left|right|bottom|top/g,e=>bk[e])}function Dk(t){return{top:0,right:0,bottom:0,left:0,...t}}function RT(t){return typeof t!="number"?Dk(t):{top:t,right:t,bottom:t,left:t}}function vd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function iw(t,e,n){let{reference:r,floating:s}=t;const i=nr(e),o=kg(e),a=Ng(o),c=$r(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,g=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ma(e)){case"start":m[o]-=g*(n&&u?-1:1);break;case"end":m[o]+=g*(n&&u?-1:1);break}return m}const Ok=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=iw(u,r,c),g=r,m={},b=0;for(let w=0;w<a.length;w++){const{name:x,fn:_}=a[w],{x:v,y:E,data:D,reset:j}=await _({x:h,y:f,initialPlacement:r,placement:g,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});h=v??h,f=E??f,m={...m,[x]:{...m[x],...D}},j&&b<=50&&(b++,typeof j=="object"&&(j.placement&&(g=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:h,y:f}=iw(u,g,c)),w=-1)}return{x:h,y:f,placement:g,strategy:s,middlewareData:m}};async function Gl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:m=0}=Ur(e,t),b=RT(m),x=a[g?f==="floating"?"reference":"floating":f],_=vd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),D=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},j=vd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:E,strategy:c}):v);return{top:(_.top-j.top+b.top)/D.y,bottom:(j.bottom-_.bottom+b.bottom)/D.y,left:(_.left-j.left+b.left)/D.x,right:(j.right-_.right+b.right)/D.x}}const jk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:h=0}=Ur(t,e)||{};if(u==null)return{};const f=RT(h),g={x:n,y:r},m=kg(s),b=Ng(m),w=await o.getDimensions(u),x=m==="y",_=x?"top":"left",v=x?"bottom":"right",E=x?"clientHeight":"clientWidth",D=i.reference[b]+i.reference[m]-g[m]-i.floating[b],j=g[m]-i.reference[m],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=L?L[E]:0;(!S||!await(o.isElement==null?void 0:o.isElement(L)))&&(S=a.floating[E]||i.floating[b]);const T=D/2-j/2,A=S/2-w[b]/2-1,R=qs(f[_],A),N=qs(f[v],A),k=R,P=S-w[b]-N,G=S/2-w[b]/2+T,ae=Kp(k,G,P),ne=!c.arrow&&ma(s)!=null&&G!==ae&&i.reference[b]/2-(G<k?R:N)-w[b]/2<0,re=ne?G<k?G-k:G-P:0;return{[m]:g[m]+re,data:{[m]:ae,centerOffset:G-ae-re,...ne&&{alignmentOffset:re}},reset:ne}}}),Lk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...x}=Ur(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=$r(s),v=nr(a),E=$r(a)===a,D=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=g||(E||!w?[yd(a)]:Ak(a)),L=b!=="none";!g&&L&&j.push(...kk(a,w,b,D));const S=[a,...j],T=await Gl(e,x),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(T[_]),f){const G=Ck(s,o,D);A.push(T[G[0]],T[G[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(G=>G<=0)){var N,k;const G=(((N=i.flip)==null?void 0:N.index)||0)+1,ae=S[G];if(ae&&(!(f==="alignment"?v!==nr(ae):!1)||R.every(B=>B.overflows[0]>0&&nr(B.placement)===v)))return{data:{index:G,overflows:R},reset:{placement:ae}};let ne=(k=R.filter(re=>re.overflows[0]<=0).sort((re,B)=>re.overflows[1]-B.overflows[1])[0])==null?void 0:k.placement;if(!ne)switch(m){case"bestFit":{var P;const re=(P=R.filter(B=>{if(L){const M=nr(B.placement);return M===v||M==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(M=>M>0).reduce((M,O)=>M+O,0)]).sort((B,M)=>B[1]-M[1])[0])==null?void 0:P[0];re&&(ne=re);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function ow(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function aw(t){return Tk.some(e=>t[e]>=0)}const Mk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ur(t,e);switch(r){case"referenceHidden":{const i=await Gl(e,{...s,elementContext:"reference"}),o=ow(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aw(o)}}}case"escaped":{const i=await Gl(e,{...s,altBoundary:!0}),o=ow(i,n.floating);return{data:{escapedOffsets:o,escaped:aw(o)}}}default:return{}}}}},PT=new Set(["left","top"]);async function Vk(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=$r(n),a=ma(n),c=nr(n)==="y",u=PT.has(o)?-1:1,h=i&&c?-1:1,f=Ur(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),c?{x:m*h,y:g*u}:{x:g*u,y:m*h}}const Fk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await Vk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Uk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:_,y:v}=x;return{x:_,y:v}}},...c}=Ur(t,e),u={x:n,y:r},h=await Gl(e,c),f=nr($r(s)),g=Pg(f);let m=u[g],b=u[f];if(i){const x=g==="y"?"top":"left",_=g==="y"?"bottom":"right",v=m+h[x],E=m-h[_];m=Kp(v,m,E)}if(o){const x=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=b+h[x],E=b-h[_];b=Kp(v,b,E)}const w=a.fn({...e,[g]:m,[f]:b});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[g]:i,[f]:o}}}}}},$k=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Ur(t,e),h={x:n,y:r},f=nr(s),g=Pg(f);let m=h[g],b=h[f];const w=Ur(a,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const E=g==="y"?"height":"width",D=i.reference[g]-i.floating[E]+x.mainAxis,j=i.reference[g]+i.reference[E]-x.mainAxis;m<D?m=D:m>j&&(m=j)}if(u){var _,v;const E=g==="y"?"width":"height",D=PT.has($r(s)),j=i.reference[f]-i.floating[E]+(D&&((_=o.offset)==null?void 0:_[f])||0)+(D?0:x.crossAxis),L=i.reference[f]+i.reference[E]+(D?0:((v=o.offset)==null?void 0:v[f])||0)-(D?x.crossAxis:0);b<j?b=j:b>L&&(b=L)}return{[g]:m,[f]:b}}}},Bk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Ur(t,e),h=await Gl(e,u),f=$r(s),g=ma(s),m=nr(s)==="y",{width:b,height:w}=i.floating;let x,_;f==="top"||f==="bottom"?(x=f,_=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,x=g==="end"?"top":"bottom");const v=w-h.top-h.bottom,E=b-h.left-h.right,D=qs(w-h[x],v),j=qs(b-h[_],E),L=!e.middlewareData.shift;let S=D,T=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=v),L&&!g){const R=Xt(h.left,0),N=Xt(h.right,0),k=Xt(h.top,0),P=Xt(h.bottom,0);m?T=b-2*(R!==0||N!==0?R+N:Xt(h.left,h.right)):S=w-2*(k!==0||P!==0?k+P:Xt(h.top,h.bottom))}await c({...e,availableWidth:T,availableHeight:S});const A=await o.getDimensions(a.floating);return b!==A.width||w!==A.height?{reset:{rects:!0}}:{}}}};function ah(){return typeof window<"u"}function ga(t){return NT(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vr(t){var e;return(e=(NT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NT(t){return ah()?t instanceof Node||t instanceof tn(t).Node:!1}function Mn(t){return ah()?t instanceof Element||t instanceof tn(t).Element:!1}function mr(t){return ah()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function lw(t){return!ah()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}const zk=new Set(["inline","contents"]);function vc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Vn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!zk.has(s)}const Wk=new Set(["table","td","th"]);function Hk(t){return Wk.has(ga(t))}const qk=[":popover-open",":modal"];function lh(t){return qk.some(e=>{try{return t.matches(e)}catch{return!1}})}const Gk=["transform","translate","scale","rotate","perspective"],Kk=["transform","translate","scale","rotate","perspective","filter"],Qk=["paint","layout","strict","content"];function Dg(t){const e=Og(),n=Mn(t)?Vn(t):t;return Gk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Kk.some(r=>(n.willChange||"").includes(r))||Qk.some(r=>(n.contain||"").includes(r))}function Yk(t){let e=Gs(t);for(;mr(e)&&!ea(e);){if(Dg(e))return e;if(lh(e))return null;e=Gs(e)}return null}function Og(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xk=new Set(["html","body","#document"]);function ea(t){return Xk.has(ga(t))}function Vn(t){return tn(t).getComputedStyle(t)}function ch(t){return Mn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gs(t){if(ga(t)==="html")return t;const e=t.assignedSlot||t.parentNode||lw(t)&&t.host||vr(t);return lw(e)?e.host:e}function kT(t){const e=Gs(t);return ea(e)?t.ownerDocument?t.ownerDocument.body:t.body:mr(e)&&vc(e)?e:kT(e)}function Kl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=kT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=tn(s);if(i){const a=Yp(o);return e.concat(o,o.visualViewport||[],vc(s)?s:[],a&&n?Kl(a):[])}return e.concat(s,Kl(s,[],n))}function Yp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function DT(t){const e=Vn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=mr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=gd(n)!==i||gd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function jg(t){return Mn(t)?t:t.contextElement}function ko(t){const e=jg(t);if(!mr(e))return or(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=DT(e);let o=(i?gd(n.width):n.width)/r,a=(i?gd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Jk=or(0);function OT(t){const e=tn(t);return!Og()||!e.visualViewport?Jk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Zk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function Fi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=jg(t);let o=or(1);e&&(r?Mn(r)&&(o=ko(r)):o=ko(t));const a=Zk(i,n,r)?OT(i):or(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const g=tn(i),m=r&&Mn(r)?tn(r):r;let b=g,w=Yp(b);for(;w&&r&&m!==b;){const x=ko(w),_=w.getBoundingClientRect(),v=Vn(w),E=_.left+(w.clientLeft+parseFloat(v.paddingLeft))*x.x,D=_.top+(w.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,h*=x.x,f*=x.y,c+=E,u+=D,b=tn(w),w=Yp(b)}}return vd({width:h,height:f,x:c,y:u})}function Lg(t,e){const n=ch(t).scrollLeft;return e?e.left+n:Fi(vr(t)).left+n}function jT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Lg(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function e2(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=vr(r),a=e?lh(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=or(1);const h=or(0),f=mr(r);if((f||!f&&!i)&&((ga(r)!=="body"||vc(o))&&(c=ch(r)),mr(r))){const m=Fi(r);u=ko(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const g=o&&!f&&!i?jT(o,c,!0):or(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+g.x,y:n.y*u.y-c.scrollTop*u.y+h.y+g.y}}function t2(t){return Array.from(t.getClientRects())}function n2(t){const e=vr(t),n=ch(t),r=t.ownerDocument.body,s=Xt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Xt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Lg(t);const a=-n.scrollTop;return Vn(r).direction==="rtl"&&(o+=Xt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function r2(t,e){const n=tn(t),r=vr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Og();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const s2=new Set(["absolute","fixed"]);function i2(t,e){const n=Fi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=mr(t)?ko(t):or(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function cw(t,e,n){let r;if(e==="viewport")r=r2(t,n);else if(e==="document")r=n2(vr(t));else if(Mn(e))r=i2(e,n);else{const s=OT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return vd(r)}function LT(t,e){const n=Gs(t);return n===e||!Mn(n)||ea(n)?!1:Vn(n).position==="fixed"||LT(n,e)}function o2(t,e){const n=e.get(t);if(n)return n;let r=Kl(t,[],!1).filter(a=>Mn(a)&&ga(a)!=="body"),s=null;const i=Vn(t).position==="fixed";let o=i?Gs(t):t;for(;Mn(o)&&!ea(o);){const a=Vn(o),c=Dg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&s2.has(s.position)||vc(o)&&!c&&LT(t,o))?r=r.filter(h=>h!==o):s=a,o=Gs(o)}return e.set(t,r),r}function a2(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?lh(e)?[]:o2(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,h)=>{const f=cw(e,h,s);return u.top=Xt(f.top,u.top),u.right=qs(f.right,u.right),u.bottom=qs(f.bottom,u.bottom),u.left=Xt(f.left,u.left),u},cw(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function l2(t){const{width:e,height:n}=DT(t);return{width:e,height:n}}function c2(t,e,n){const r=mr(e),s=vr(e),i=n==="fixed",o=Fi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=or(0);function u(){c.x=Lg(s)}if(r||!r&&!i)if((ga(e)!=="body"||vc(s))&&(a=ch(e)),r){const m=Fi(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?jT(s,a):or(0),f=o.left+a.scrollLeft-c.x-h.x,g=o.top+a.scrollTop-c.y-h.y;return{x:f,y:g,width:o.width,height:o.height}}function Nf(t){return Vn(t).position==="static"}function uw(t,e){if(!mr(t)||Vn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vr(t)===n&&(n=n.ownerDocument.body),n}function MT(t,e){const n=tn(t);if(lh(t))return n;if(!mr(t)){let s=Gs(t);for(;s&&!ea(s);){if(Mn(s)&&!Nf(s))return s;s=Gs(s)}return n}let r=uw(t,e);for(;r&&Hk(r)&&Nf(r);)r=uw(r,e);return r&&ea(r)&&Nf(r)&&!Dg(r)?n:r||Yk(t)||n}const u2=async function(t){const e=this.getOffsetParent||MT,n=this.getDimensions,r=await n(t.floating);return{reference:c2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function d2(t){return Vn(t).direction==="rtl"}const h2={convertOffsetParentRelativeRectToViewportRelativeRect:e2,getDocumentElement:vr,getClippingRect:a2,getOffsetParent:MT,getElementRects:u2,getClientRects:t2,getDimensions:l2,getScale:ko,isElement:Mn,isRTL:d2};function VT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function f2(t,e){let n=null,r;const s=vr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:g,height:m}=u;if(a||e(),!g||!m)return;const b=uu(f),w=uu(s.clientWidth-(h+g)),x=uu(s.clientHeight-(f+m)),_=uu(h),E={rootMargin:-b+"px "+-w+"px "+-x+"px "+-_+"px",threshold:Xt(0,qs(1,c))||1};let D=!0;function j(L){const S=L[0].intersectionRatio;if(S!==c){if(!D)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!VT(u,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(j,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,E)}n.observe(t)}return o(!0),i}function p2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=jg(t),h=s||i?[...u?Kl(u):[],...Kl(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=u&&a?f2(u,n):null;let g=-1,m=null;o&&(m=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=m)==null||E.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let b,w=c?Fi(t):null;c&&x();function x(){const _=Fi(t);w&&!VT(w,_)&&n(),w=_,b=requestAnimationFrame(x)}return n(),()=>{var _;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(b)}}const m2=Fk,g2=Uk,y2=Lk,v2=Bk,_2=Mk,dw=jk,w2=$k,x2=(t,e,n)=>{const r=new Map,s={platform:h2,...n},i={...s.platform,_c:r};return Ok(t,e,{...s,platform:i})};var E2=typeof document<"u",T2=function(){},Ou=E2?C.useLayoutEffect:T2;function _d(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_d(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_d(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function FT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hw(t,e){const n=FT(t);return Math.round(e*n)/n}function kf(t){const e=C.useRef(t);return Ou(()=>{e.current=t}),e}function b2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[h,f]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=C.useState(r);_d(g,r)||m(r);const[b,w]=C.useState(null),[x,_]=C.useState(null),v=C.useCallback(B=>{B!==L.current&&(L.current=B,w(B))},[]),E=C.useCallback(B=>{B!==S.current&&(S.current=B,_(B))},[]),D=i||b,j=o||x,L=C.useRef(null),S=C.useRef(null),T=C.useRef(h),A=c!=null,R=kf(c),N=kf(s),k=kf(u),P=C.useCallback(()=>{if(!L.current||!S.current)return;const B={placement:e,strategy:n,middleware:g};N.current&&(B.platform=N.current),x2(L.current,S.current,B).then(M=>{const O={...M,isPositioned:k.current!==!1};G.current&&!_d(T.current,O)&&(T.current=O,gc.flushSync(()=>{f(O)}))})},[g,e,n,N,k]);Ou(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[u]);const G=C.useRef(!1);Ou(()=>(G.current=!0,()=>{G.current=!1}),[]),Ou(()=>{if(D&&(L.current=D),j&&(S.current=j),D&&j){if(R.current)return R.current(D,j,P);P()}},[D,j,P,R,A]);const ae=C.useMemo(()=>({reference:L,floating:S,setReference:v,setFloating:E}),[v,E]),ne=C.useMemo(()=>({reference:D,floating:j}),[D,j]),re=C.useMemo(()=>{const B={position:n,left:0,top:0};if(!ne.floating)return B;const M=hw(ne.floating,h.x),O=hw(ne.floating,h.y);return a?{...B,transform:"translate("+M+"px, "+O+"px)",...FT(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:O}},[n,a,ne.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:P,refs:ae,elements:ne,floatingStyles:re}),[h,P,ae,ne,re])}const S2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?dw({element:r.current,padding:s}).fn(n):{}:r?dw({element:r,padding:s}).fn(n):{}}}},I2=(t,e)=>({...m2(t),options:[t,e]}),C2=(t,e)=>({...g2(t),options:[t,e]}),A2=(t,e)=>({...w2(t),options:[t,e]}),R2=(t,e)=>({...y2(t),options:[t,e]}),P2=(t,e)=>({...v2(t),options:[t,e]}),N2=(t,e)=>({..._2(t),options:[t,e]}),k2=(t,e)=>({...S2(t),options:[t,e]});var D2="Arrow",UT=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(qt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});UT.displayName=D2;var O2=UT;function j2(t){const[e,n]=C.useState(void 0);return Hs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var $T="Popper",[BT,zT]=sh($T),[OU,WT]=BT($T),HT="PopperAnchor",qT=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=WT(HT,n),o=C.useRef(null),a=Ln(e,o);return C.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(qt.div,{...s,ref:a})});qT.displayName=HT;var Mg="PopperContent",[L2,M2]=BT(Mg),GT=C.forwardRef((t,e)=>{var fe,$n,vn,xr,Bn,Er;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:b,...w}=t,x=WT(Mg,n),[_,v]=C.useState(null),E=Ln(e,on=>v(on)),[D,j]=C.useState(null),L=j2(D),S=(L==null?void 0:L.width)??0,T=(L==null?void 0:L.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(u)?u:[u],k=N.length>0,P={padding:R,boundary:N.filter(F2),altBoundary:k},{refs:G,floatingStyles:ae,placement:ne,isPositioned:re,middlewareData:B}=b2({strategy:"fixed",placement:A,whileElementsMounted:(...on)=>p2(...on,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[I2({mainAxis:s+T,alignmentAxis:o}),c&&C2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?A2():void 0,...P}),c&&R2({...P}),P2({...P,apply:({elements:on,rects:li,availableWidth:Aa,availableHeight:Gr})=>{const{width:ci,height:Kr}=li.reference,Le=on.floating.style;Le.setProperty("--radix-popper-available-width",`${Aa}px`),Le.setProperty("--radix-popper-available-height",`${Gr}px`),Le.setProperty("--radix-popper-anchor-width",`${ci}px`),Le.setProperty("--radix-popper-anchor-height",`${Kr}px`)}}),D&&k2({element:D,padding:a}),U2({arrowWidth:S,arrowHeight:T}),g&&N2({strategy:"referenceHidden",...P})]}),[M,O]=YT(ne),V=Ws(b);Hs(()=>{re&&(V==null||V())},[re,V]);const $=(fe=B.arrow)==null?void 0:fe.x,q=($n=B.arrow)==null?void 0:$n.y,X=((vn=B.arrow)==null?void 0:vn.centerOffset)!==0,[_e,Se]=C.useState();return Hs(()=>{_&&Se(window.getComputedStyle(_).zIndex)},[_]),d.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:re?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(xr=B.transformOrigin)==null?void 0:xr.x,(Bn=B.transformOrigin)==null?void 0:Bn.y].join(" "),...((Er=B.hide)==null?void 0:Er.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(L2,{scope:n,placedSide:M,onArrowChange:j,arrowX:$,arrowY:q,shouldHideArrow:X,children:d.jsx(qt.div,{"data-side":M,"data-align":O,...w,ref:E,style:{...w.style,animation:re?void 0:"none"}})})})});GT.displayName=Mg;var KT="PopperArrow",V2={top:"bottom",right:"left",bottom:"top",left:"right"},QT=C.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=M2(KT,r),o=V2[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(O2,{...s,ref:n,style:{...s.style,display:"block"}})})});QT.displayName=KT;function F2(t){return t!==null}var U2=t=>({name:"transformOrigin",options:t,fn(e){var x,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=YT(n),f={start:"0%",center:"50%",end:"100%"}[h],g=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",w="";return u==="bottom"?(b=o?f:`${g}px`,w=`${-c}px`):u==="top"?(b=o?f:`${g}px`,w=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,w=o?f:`${m}px`):u==="left"&&(b=`${r.floating.width+c}px`,w=o?f:`${m}px`),{data:{x:b,y:w}}}});function YT(t){const[e,n="center"]=t.split("-");return[e,n]}var $2=qT,B2=GT,z2=QT,[uh,jU]=sh("Tooltip",[zT]),Vg=zT(),XT="TooltipProvider",W2=700,fw="tooltip.open",[H2,JT]=uh(XT),ZT=t=>{const{__scopeTooltip:e,delayDuration:n=W2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=C.useRef(!0),a=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(H2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};ZT.displayName=XT;var eb="Tooltip",[LU,dh]=uh(eb),Xp="TooltipTrigger",q2=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=dh(Xp,n),i=JT(Xp,n),o=Vg(n),a=C.useRef(null),c=Ln(e,a,s.onTriggerChange),u=C.useRef(!1),h=C.useRef(!1),f=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx($2,{asChild:!0,...o,children:d.jsx(qt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:st(t.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:st(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:st(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:st(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:st(t.onBlur,s.onClose),onClick:st(t.onClick,s.onClose)})})});q2.displayName=Xp;var G2="TooltipPortal",[MU,K2]=uh(G2,{forceMount:void 0}),ta="TooltipContent",tb=C.forwardRef((t,e)=>{const n=K2(ta,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=dh(ta,t.__scopeTooltip);return d.jsx(Sg,{present:r||o.open,children:o.disableHoverableContent?d.jsx(nb,{side:s,...i,ref:e}):d.jsx(Q2,{side:s,...i,ref:e})})}),Q2=C.forwardRef((t,e)=>{const n=dh(ta,t.__scopeTooltip),r=JT(ta,t.__scopeTooltip),s=C.useRef(null),i=Ln(e,s),[o,a]=C.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,g=C.useCallback(()=>{a(null),f(!1)},[f]),m=C.useCallback((b,w)=>{const x=b.currentTarget,_={x:b.clientX,y:b.clientY},v=eD(_,x.getBoundingClientRect()),E=tD(_,v),D=nD(w.getBoundingClientRect()),j=sD([...E,...D]);a(j),f(!0)},[f]);return C.useEffect(()=>()=>g(),[g]),C.useEffect(()=>{if(c&&h){const b=x=>m(x,h),w=x=>m(x,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",w)}}},[c,h,m,g]),C.useEffect(()=>{if(o){const b=w=>{const x=w.target,_={x:w.clientX,y:w.clientY},v=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),E=!rD(_,o);v?g():E&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,o,u,g]),d.jsx(nb,{...t,ref:i})}),[Y2,X2]=uh(eb,{isInside:!1}),J2=uP("TooltipContent"),nb=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=dh(ta,n),u=Vg(n),{onClose:h}=c;return C.useEffect(()=>(document.addEventListener(fw,h),()=>document.removeEventListener(fw,h)),[h]),C.useEffect(()=>{if(c.trigger){const f=g=>{const m=g.target;m!=null&&m.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),d.jsx(bg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:d.jsxs(B2,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(J2,{children:r}),d.jsx(Y2,{scope:n,isInside:!0,children:d.jsx(jP,{id:c.contentId,role:"tooltip",children:s||r})})]})})});tb.displayName=ta;var rb="TooltipArrow",Z2=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Vg(n);return X2(rb,n).isInside?null:d.jsx(z2,{...s,...r,ref:e})});Z2.displayName=rb;function eD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function nD(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function rD(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,h=a.y,f=c.x,g=c.y;h>r!=g>r&&n<(f-u)*(r-h)/(g-h)+u&&(s=!s)}return s}function sD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),iD(e)}function iD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var oD=ZT,sb=tb;const aD=oD,lD=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(sb,{ref:r,sideOffset:e,className:Gt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));lD.displayName=sb.displayName;var hh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fh=typeof window>"u"||"Deno"in globalThis;function Sn(){}function cD(t,e){return typeof t=="function"?t(e):t}function uD(t){return typeof t=="number"&&t>=0&&t!==1/0}function dD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jp(t,e){return typeof t=="function"?t(e):t}function hD(t,e){return typeof t=="function"?t(e):t}function pw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Fg(o,e.options))return!1}else if(!Yl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function mw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ql(e.options.mutationKey)!==Ql(i))return!1}else if(!Yl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Fg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ql)(t)}function Ql(t){return JSON.stringify(t,(e,n)=>Zp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Yl(t[n],e[n])):!1}function ib(t,e){if(t===e)return t;const n=gw(t)&&gw(e);if(n||Zp(t)&&Zp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=ib(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function gw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zp(t){if(!yw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!yw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function yw(t){return Object.prototype.toString.call(t)==="[object Object]"}function fD(t){return new Promise(e=>{setTimeout(e,t)})}function pD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ib(t,e):e}function mD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function gD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ug=Symbol();function ob(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ug?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ti,vs,Fo,_x,yD=(_x=class extends hh{constructor(){super();xe(this,Ti);xe(this,vs);xe(this,Fo);ue(this,Fo,e=>{if(!fh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,vs)||this.setEventListener(z(this,Fo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,vs))==null||e.call(this),ue(this,vs,void 0))}setEventListener(e){var n;ue(this,Fo,e),(n=z(this,vs))==null||n.call(this),ue(this,vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Ti)!==e&&(ue(this,Ti,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Ti)=="boolean"?z(this,Ti):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ti=new WeakMap,vs=new WeakMap,Fo=new WeakMap,_x),ab=new yD,Uo,_s,$o,wx,vD=(wx=class extends hh{constructor(){super();xe(this,Uo,!0);xe(this,_s);xe(this,$o);ue(this,$o,e=>{if(!fh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,_s)||this.setEventListener(z(this,$o))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,_s))==null||e.call(this),ue(this,_s,void 0))}setEventListener(e){var n;ue(this,$o,e),(n=z(this,_s))==null||n.call(this),ue(this,_s,e(this.setOnline.bind(this)))}setOnline(e){z(this,Uo)!==e&&(ue(this,Uo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Uo)}},Uo=new WeakMap,_s=new WeakMap,$o=new WeakMap,wx),wd=new vD;function _D(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function wD(t){return Math.min(1e3*2**t,3e4)}function lb(t){return(t??"online")==="online"?wd.isOnline():!0}var cb=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Df(t){return t instanceof cb}function ub(t){let e=!1,n=0,r=!1,s;const i=_D(),o=w=>{var x;r||(g(new cb(w)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>ab.isFocused()&&(t.networkMode==="always"||wd.isOnline())&&t.canRun(),h=()=>lb(t.networkMode)&&t.canRun(),f=w=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,w),s==null||s(),i.resolve(w))},g=w=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,w),s==null||s(),i.reject(w))},m=()=>new Promise(w=>{var x;s=_=>{(r||u())&&w(_)},(x=t.onPause)==null||x.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),b=()=>{if(r)return;let w;const x=n===0?t.initialPromise:void 0;try{w=x??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(f).catch(_=>{var L;if(r)return;const v=t.retry??(fh?0:3),E=t.retryDelay??wD,D=typeof E=="function"?E(n,_):E,j=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!j){g(_);return}n++,(L=t.onFail)==null||L.call(t,n,_),fD(D).then(()=>u()?void 0:m()).then(()=>{e?g(_):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?b():m().then(b),i)}}var xD=t=>setTimeout(t,0);function ED(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=xD;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Dt=ED(),bi,xx,db=(xx=class{constructor(){xe(this,bi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uD(this.gcTime)&&ue(this,bi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fh?1/0:5*60*1e3))}clearGcTimeout(){z(this,bi)&&(clearTimeout(z(this,bi)),ue(this,bi,void 0))}},bi=new WeakMap,xx),Bo,Si,ln,Ii,Tt,cc,Ci,In,Ir,Ex,TD=(Ex=class extends db{constructor(n){super();xe(this,In);xe(this,Bo);xe(this,Si);xe(this,ln);xe(this,Ii);xe(this,Tt);xe(this,cc);xe(this,Ci);ue(this,Ci,!1),ue(this,cc,n.defaultOptions),this.setOptions(n.options),this.observers=[],ue(this,Ii,n.client),ue(this,ln,z(this,Ii).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ue(this,Bo,SD(this.options)),this.state=n.state??z(this,Bo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Tt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,cc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,ln).remove(this)}setData(n,r){const s=pD(this.state.data,n,this.options);return _t(this,In,Ir).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){_t(this,In,Ir).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,Tt))==null?void 0:s.promise;return(i=z(this,Tt))==null||i.cancel(n),r?r.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Bo))}isActive(){return this.observers.some(n=>hD(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ug||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Jp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!dD(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Tt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Tt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,ln).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Tt)&&(z(this,Ci)?z(this,Tt).cancel({revert:!0}):z(this,Tt).cancelRetry()),this.scheduleGc()),z(this,ln).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,In,Ir).call(this,{type:"invalidate"})}fetch(n,r){var h,f,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Tt))return z(this,Tt).continueRetry(),z(this,Tt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(b=>b.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ue(this,Ci,!0),s.signal)})},o=()=>{const m=ob(this.options,r),w=(()=>{const x={client:z(this,Ii),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return ue(this,Ci,!1),this.options.persister?this.options.persister(m,w,this):m(w)},c=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Ii),state:this.state,fetchFn:o};return i(m),m})();(h=this.options.behavior)==null||h.onFetch(c,this),ue(this,Si,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&_t(this,In,Ir).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const u=m=>{var b,w,x,_;Df(m)&&m.silent||_t(this,In,Ir).call(this,{type:"error",error:m}),Df(m)||((w=(b=z(this,ln).config).onError)==null||w.call(b,m,this),(_=(x=z(this,ln).config).onSettled)==null||_.call(x,this.state.data,m,this)),this.scheduleGc()};return ue(this,Tt,ub({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var b,w,x,_;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){u(v);return}(w=(b=z(this,ln).config).onSuccess)==null||w.call(b,m,this),(_=(x=z(this,ln).config).onSettled)==null||_.call(x,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,b)=>{_t(this,In,Ir).call(this,{type:"failed",failureCount:m,error:b})},onPause:()=>{_t(this,In,Ir).call(this,{type:"pause"})},onContinue:()=>{_t(this,In,Ir).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),z(this,Tt).start()}},Bo=new WeakMap,Si=new WeakMap,ln=new WeakMap,Ii=new WeakMap,Tt=new WeakMap,cc=new WeakMap,Ci=new WeakMap,In=new WeakSet,Ir=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...bD(s.data,this.options),fetchMeta:n.meta??null};case"success":return ue(this,Si,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Df(i)&&i.revert&&z(this,Si)?{...z(this,Si),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,ln).notify({query:this,type:"updated",action:n})})},Ex);function bD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lb(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function SD(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jn,Tx,ID=(Tx=class extends hh{constructor(e={}){super();xe(this,Jn);this.config=e,ue(this,Jn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Fg(s,n);let o=this.get(i);return o||(o=new TD({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,Jn).has(e.queryHash)||(z(this,Jn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Jn).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Jn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Jn).get(e)}getAll(){return[...z(this,Jn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>pw(e,r)):n}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Jn=new WeakMap,Tx),Zn,Nt,Ai,er,os,bx,CD=(bx=class extends db{constructor(n){super();xe(this,er);xe(this,Zn);xe(this,Nt);xe(this,Ai);this.mutationId=n.mutationId,ue(this,Nt,n.mutationCache),ue(this,Zn,[]),this.state=n.state||AD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,Zn).includes(n)||(z(this,Zn).push(n),this.clearGcTimeout(),z(this,Nt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ue(this,Zn,z(this,Zn).filter(r=>r!==n)),this.scheduleGc(),z(this,Nt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,Zn).length||(this.state.status==="pending"?this.scheduleGc():z(this,Nt).remove(this))}continue(){var n;return((n=z(this,Ai))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,u,h,f,g,m,b,w,x,_,v,E,D,j,L,S,T,A;const r=()=>{_t(this,er,os).call(this,{type:"continue"})};ue(this,Ai,ub({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,N)=>{_t(this,er,os).call(this,{type:"failed",failureCount:R,error:N})},onPause:()=>{_t(this,er,os).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,Nt).canRun(this)}));const s=this.state.status==="pending",i=!z(this,Ai).canStart();try{if(s)r();else{_t(this,er,os).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=z(this,Nt).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));N!==this.state.context&&_t(this,er,os).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const R=await z(this,Ai).start();return await((f=(h=z(this,Nt).config).onSuccess)==null?void 0:f.call(h,R,n,this.state.context,this)),await((m=(g=this.options).onSuccess)==null?void 0:m.call(g,R,n,this.state.context)),await((w=(b=z(this,Nt).config).onSettled)==null?void 0:w.call(b,R,null,this.state.variables,this.state.context,this)),await((_=(x=this.options).onSettled)==null?void 0:_.call(x,R,null,n,this.state.context)),_t(this,er,os).call(this,{type:"success",data:R}),R}catch(R){try{throw await((E=(v=z(this,Nt).config).onError)==null?void 0:E.call(v,R,n,this.state.context,this)),await((j=(D=this.options).onError)==null?void 0:j.call(D,R,n,this.state.context)),await((S=(L=z(this,Nt).config).onSettled)==null?void 0:S.call(L,void 0,R,this.state.variables,this.state.context,this)),await((A=(T=this.options).onSettled)==null?void 0:A.call(T,void 0,R,n,this.state.context)),R}finally{_t(this,er,os).call(this,{type:"error",error:R})}}finally{z(this,Nt).runNext(this)}}},Zn=new WeakMap,Nt=new WeakMap,Ai=new WeakMap,er=new WeakSet,os=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dt.batch(()=>{z(this,Zn).forEach(s=>{s.onMutationUpdate(n)}),z(this,Nt).notify({mutation:this,type:"updated",action:n})})},bx);function AD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pr,Cn,uc,Sx,RD=(Sx=class extends hh{constructor(e={}){super();xe(this,Pr);xe(this,Cn);xe(this,uc);this.config=e,ue(this,Pr,new Set),ue(this,Cn,new Map),ue(this,uc,0)}build(e,n,r){const s=new CD({mutationCache:this,mutationId:++zc(this,uc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){z(this,Pr).add(e);const n=du(e);if(typeof n=="string"){const r=z(this,Cn).get(n);r?r.push(e):z(this,Cn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,Pr).delete(e)){const n=du(e);if(typeof n=="string"){const r=z(this,Cn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&z(this,Cn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=du(e);if(typeof n=="string"){const r=z(this,Cn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=du(e);if(typeof n=="string"){const s=(r=z(this,Cn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dt.batch(()=>{z(this,Pr).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,Pr).clear(),z(this,Cn).clear()})}getAll(){return Array.from(z(this,Pr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mw(n,r))}findAll(e={}){return this.getAll().filter(n=>mw(e,n))}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Sn))))}},Pr=new WeakMap,Cn=new WeakMap,uc=new WeakMap,Sx);function du(t){var e;return(e=t.options.scope)==null?void 0:e.id}function vw(t){return{onFetch:(e,n)=>{var h,f,g,m,b;const r=e.options,s=(g=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let w=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=ob(e.options,e.fetchOptions),v=async(E,D,j)=>{if(w)return Promise.reject();if(D==null&&E.pages.length)return Promise.resolve(E);const S=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:D,direction:j?"backward":"forward",meta:e.options.meta};return x(N),N})(),T=await _(S),{maxPages:A}=e.options,R=j?gD:mD;return{pages:R(E.pages,T,A),pageParams:R(E.pageParams,D,A)}};if(s&&i.length){const E=s==="backward",D=E?PD:_w,j={pages:i,pageParams:o},L=D(r,j);a=await v(j,L,E)}else{const E=t??i.length;do{const D=c===0?o[0]??r.initialPageParam:_w(r,a);if(c>0&&D==null)break;a=await v(a,D),c++}while(c<E)}return a};e.options.persister?e.fetchFn=()=>{var w,x;return(x=(w=e.options).persister)==null?void 0:x.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function _w(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function PD(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Be,ws,xs,zo,Wo,Es,Ho,qo,Ix,ND=(Ix=class{constructor(t={}){xe(this,Be);xe(this,ws);xe(this,xs);xe(this,zo);xe(this,Wo);xe(this,Es);xe(this,Ho);xe(this,qo);ue(this,Be,t.queryCache||new ID),ue(this,ws,t.mutationCache||new RD),ue(this,xs,t.defaultOptions||{}),ue(this,zo,new Map),ue(this,Wo,new Map),ue(this,Es,0)}mount(){zc(this,Es)._++,z(this,Es)===1&&(ue(this,Ho,ab.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Be).onFocus())})),ue(this,qo,wd.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Be).onOnline())})))}unmount(){var t,e;zc(this,Es)._--,z(this,Es)===0&&((t=z(this,Ho))==null||t.call(this),ue(this,Ho,void 0),(e=z(this,qo))==null||e.call(this),ue(this,qo,void 0))}isFetching(t){return z(this,Be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,ws).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Be).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,Be).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Jp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,Be).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,Be).get(r.queryHash),i=s==null?void 0:s.state.data,o=cD(e,i);if(o!==void 0)return z(this,Be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Dt.batch(()=>z(this,Be).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Be).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Be);Dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Be);return Dt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Dt.batch(()=>z(this,Be).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Sn).catch(Sn)}invalidateQueries(t,e={}){return Dt.batch(()=>(z(this,Be).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Dt.batch(()=>z(this,Be).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Sn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Sn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Be).build(this,e);return n.isStaleByTime(Jp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sn).catch(Sn)}fetchInfiniteQuery(t){return t.behavior=vw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sn).catch(Sn)}ensureInfiniteQueryData(t){return t.behavior=vw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wd.isOnline()?z(this,ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Be)}getMutationCache(){return z(this,ws)}getDefaultOptions(){return z(this,xs)}setDefaultOptions(t){ue(this,xs,t)}setQueryDefaults(t,e){z(this,zo).set(Ql(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,zo).values()],n={};return e.forEach(r=>{Yl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,Wo).set(Ql(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Wo).values()],n={};return e.forEach(r=>{Yl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,xs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Fg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ug&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,xs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Be).clear(),z(this,ws).clear()}},Be=new WeakMap,ws=new WeakMap,xs=new WeakMap,zo=new WeakMap,Wo=new WeakMap,Es=new WeakMap,Ho=new WeakMap,qo=new WeakMap,Ix),kD=C.createContext(void 0),DD=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(kD.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}var Ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ss||(Ss={}));const ww="popstate";function OD(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return em("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xd(s)}return LD(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $g(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jD(){return Math.random().toString(36).substr(2,8)}function xw(t,e){return{usr:t.state,key:t.key,idx:e}}function em(t,e,n,r){return n===void 0&&(n=null),Xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ya(e):e,{state:n,key:e&&e.key||r||jD()})}function xd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ss.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Xl({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Ss.Pop;let x=h(),_=x==null?null:x-u;u=x,c&&c({action:a,location:w.location,delta:_})}function g(x,_){a=Ss.Push;let v=em(w.location,x,_);u=h()+1;let E=xw(v,u),D=w.createHref(v);try{o.pushState(E,"",D)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(D)}i&&c&&c({action:a,location:w.location,delta:1})}function m(x,_){a=Ss.Replace;let v=em(w.location,x,_);u=h();let E=xw(v,u),D=w.createHref(v);o.replaceState(E,"",D),i&&c&&c({action:a,location:w.location,delta:0})}function b(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:xd(x);return v=v.replace(/ $/,"%20"),Ye(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let w={get action(){return a},get location(){return t(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ww,f),c=x,()=>{s.removeEventListener(ww,f),c=null}},createHref(x){return e(s,x)},createURL:b,encodeLocation(x){let _=b(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:m,go(x){return o.go(x)}};return w}var Ew;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ew||(Ew={}));function MD(t,e,n){return n===void 0&&(n="/"),VD(t,e,n,!1)}function VD(t,e,n,r){let s=typeof e=="string"?ya(e):e,i=Bg(s.pathname||"/",n);if(i==null)return null;let o=hb(t);FD(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=YD(i);a=KD(o[c],u,r)}return a}function hb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=js([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hb(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:qD(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of fb(i.path))s(i,o,c)}),e}function fb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=fb(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function FD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const UD=/^:[\w-]+$/,$D=3,BD=2,zD=1,WD=10,HD=-2,Tw=t=>t==="*";function qD(t,e){let n=t.split("/"),r=n.length;return n.some(Tw)&&(r+=HD),e&&(r+=BD),n.filter(s=>!Tw(s)).reduce((s,i)=>s+(UD.test(i)?$D:i===""?zD:WD),r)}function GD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function KD(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=bw({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=bw({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:js([i,f.pathname]),pathnameBase:tO(js([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=js([i,f.pathnameBase]))}return o}function bw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:g,isOptional:m}=h;if(g==="*"){let w=a[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=a[f];return m&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function QD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$g(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function YD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $g(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const XD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JD=t=>XD.test(t);function ZD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ya(t):t,i;if(n)if(JD(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),$g(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Sw(n.substring(1),"/"):i=Sw(n,e)}else i=e;return{pathname:i,search:nO(r),hash:rO(s)}}function Sw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Of(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zg(t,e){let n=eO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ya(t):(s=Xl({},t),Ye(!s.pathname||!s.pathname.includes("?"),Of("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),Of("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),Of("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?e[f]:"/"}let c=ZD(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const js=t=>t.join("/").replace(/\/\/+/g,"/"),tO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pb=["post","put","patch","delete"];new Set(pb);const iO=["get",...pb];new Set(iO);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}const Hg=C.createContext(null),oO=C.createContext(null),si=C.createContext(null),ph=C.createContext(null),ii=C.createContext({outlet:null,matches:[],isDataRoute:!1}),mb=C.createContext(null);function aO(t,e){let{relative:n}=e===void 0?{}:e;va()||Ye(!1);let{basename:r,navigator:s}=C.useContext(si),{hash:i,pathname:o,search:a}=yb(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:js([r,o])),s.createHref({pathname:c,search:a,hash:i})}function va(){return C.useContext(ph)!=null}function _a(){return va()||Ye(!1),C.useContext(ph).location}function gb(t){C.useContext(si).static||C.useLayoutEffect(t)}function _r(){let{isDataRoute:t}=C.useContext(ii);return t?wO():lO()}function lO(){va()||Ye(!1);let t=C.useContext(Hg),{basename:e,future:n,navigator:r}=C.useContext(si),{matches:s}=C.useContext(ii),{pathname:i}=_a(),o=JSON.stringify(zg(s,n.v7_relativeSplatPath)),a=C.useRef(!1);return gb(()=>{a.current=!0}),C.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Wg(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:js([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function yb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(si),{matches:s}=C.useContext(ii),{pathname:i}=_a(),o=JSON.stringify(zg(s,r.v7_relativeSplatPath));return C.useMemo(()=>Wg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function cO(t,e){return uO(t,e)}function uO(t,e,n,r){va()||Ye(!1);let{navigator:s}=C.useContext(si),{matches:i}=C.useContext(ii),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=_a(),h;if(e){var f;let x=typeof e=="string"?ya(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ye(!1),h=x}else h=u;let g=h.pathname||"/",m=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=MD(t,{pathname:m}),w=mO(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:js([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:js([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&w?C.createElement(ph.Provider,{value:{location:Jl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ss.Pop}},w):w}function dO(){let t=_O(),e=sO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,null)}const hO=C.createElement(dO,null);class fO extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(ii.Provider,{value:this.props.routeContext},C.createElement(mb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pO(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(Hg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(ii.Provider,{value:e},r)}function mO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Ye(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:m}=n,b=f.route.loader&&g[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let m,b=!1,w=null,x=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||hO,c&&(u<0&&g===0?(b=!0,x=null):u===g&&(b=!0,x=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,g+1)),v=()=>{let E;return m?E=w:b?E=x:f.route.Component?E=C.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,C.createElement(pO,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?C.createElement(fO,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var vb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vb||{}),Ed=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ed||{});function gO(t){let e=C.useContext(Hg);return e||Ye(!1),e}function yO(t){let e=C.useContext(oO);return e||Ye(!1),e}function vO(t){let e=C.useContext(ii);return e||Ye(!1),e}function _b(t){let e=vO(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function _O(){var t;let e=C.useContext(mb),n=yO(Ed.UseRouteError),r=_b(Ed.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wO(){let{router:t}=gO(vb.UseNavigateStable),e=_b(Ed.UseNavigateStable),n=C.useRef(!1);return gb(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Jl({fromRouteId:e},i)))},[t,e])}function xO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Iw(t){let{to:e,replace:n,state:r,relative:s}=t;va()||Ye(!1);let{future:i,static:o}=C.useContext(si),{matches:a}=C.useContext(ii),{pathname:c}=_a(),u=_r(),h=Wg(e,zg(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return C.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Tn(t){Ye(!1)}function EO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ss.Pop,navigator:i,static:o=!1,future:a}=t;va()&&Ye(!1);let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:i,static:o,future:Jl({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=ya(r));let{pathname:h="/",search:f="",hash:g="",state:m=null,key:b="default"}=r,w=C.useMemo(()=>{let x=Bg(h,c);return x==null?null:{location:{pathname:x,search:f,hash:g,state:m,key:b},navigationType:s}},[c,h,f,g,m,b,s]);return w==null?null:C.createElement(si.Provider,{value:u},C.createElement(ph.Provider,{children:n,value:w}))}function TO(t){let{children:e,location:n}=t;return cO(tm(e),n)}new Promise(()=>{});function tm(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,tm(r.props.children,i));return}r.type!==Tn&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(this,arguments)}function bO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function SO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IO(t,e){return t.button===0&&(!e||e==="_self")&&!SO(t)}const CO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AO="6";try{window.__reactRouterVersion=AO}catch{}const RO="startTransition",Cw=Vx[RO];function PO(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=OD({window:s,v5Compat:!0}));let o=i.current,[a,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=C.useCallback(f=>{u&&Cw?Cw(()=>c(f)):c(f)},[c,u]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.useEffect(()=>xO(r),[r]),C.createElement(EO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const NO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Do=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,g=bO(e,CO),{basename:m}=C.useContext(si),b,w=!1;if(typeof u=="string"&&kO.test(u)&&(b=u,NO))try{let E=new URL(window.location.href),D=u.startsWith("//")?new URL(E.protocol+u):new URL(u),j=Bg(D.pathname,m);D.origin===E.origin&&j!=null?u=j+D.search+D.hash:w=!0}catch{}let x=aO(u,{relative:s}),_=DO(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function v(E){r&&r(E),E.defaultPrevented||_(E)}return C.createElement("a",nm({},g,{href:b||x,onClick:w||i?r:v,ref:n,target:c}))});var Aw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Aw||(Aw={}));var Rw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rw||(Rw={}));function DO(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=_r(),u=_a(),h=yb(t,{relative:o});return C.useCallback(f=>{if(IO(f,n)){f.preventDefault();let g=r!==void 0?r:xd(u)===xd(h);c(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,h,r,s,n,t,i,o,a])}const OO=yT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Cr=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?lP:"button";return d.jsx(o,{className:Gt(OO({variant:e,size:n,className:t})),ref:i,...s})});Cr.displayName="Button";const as=C.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Gt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));as.displayName="Card";const jO=C.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Gt("flex flex-col space-y-1.5 p-6",t),...e}));jO.displayName="CardHeader";const LO=C.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:Gt("text-2xl font-semibold leading-none tracking-tight",t),...e}));LO.displayName="CardTitle";const MO=C.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:Gt("text-sm text-muted-foreground",t),...e}));MO.displayName="CardDescription";const ls=C.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Gt("p-6 pt-0",t),...e}));ls.displayName="CardContent";const VO=C.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Gt("flex items-center p-6 pt-0",t),...e}));VO.displayName="CardFooter";const na="/assets/suros-logo-new-uXOabC5U.png",FO=()=>{};var Pw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},UO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let g=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(g=64)),r.push(n[h],n[f],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new $O;const g=i<<2|a>>4;if(r.push(g),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $O extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BO=function(t){const e=wb(t);return xb.encodeByteArray(e,!0)},Td=function(t){return BO(t).replace(/\./g,"")},Eb=function(t){try{return xb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=()=>zO().__FIREBASE_DEFAULTS__,HO=()=>{if(typeof process>"u"||typeof Pw>"u")return;const t=Pw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Eb(t[1]);return e&&JSON.parse(e)},mh=()=>{try{return FO()||WO()||HO()||qO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tb=t=>{var e,n;return(n=(e=mh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},bb=t=>{const e=Tb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Sb=()=>{var t;return(t=mh())==null?void 0:t.config},Ib=t=>{var e;return(e=mh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Td(JSON.stringify(n)),Td(JSON.stringify(o)),""].join(".")}const Tl={};function KO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Tl))Tl[e]?t.emulator.push(e):t.prod.push(e);return t}function QO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Nw=!1;function Gg(t,e){if(typeof window>"u"||typeof document>"u"||!oi(window.location.host)||Tl[t]===e||Tl[t]||Nw)return;Tl[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=KO().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Nw=!0,o()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=QO(r),m=n("text"),b=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const E=g.element;a(E),h(x,w);const D=u();c(v,_),E.append(v,b,x,D),document.body.appendChild(E)}i?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function XO(){var e;const t=(e=mh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ej(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tj(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nj(){return!XO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rj(){try{return typeof indexedDB=="object"}catch{return!1}}function sj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="FirebaseError";class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ij,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?oj(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new wr(s,a,r)}}function oj(t,e){return t.replace(aj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const aj=/\{\$([^}]+)}/g;function lj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ui(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(kw(i)&&kw(o)){if(!Ui(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ol(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function al(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cj(t,e){const n=new uj(t,e);return n.subscribe.bind(n)}class uj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=jf),s.error===void 0&&(s.error=jf),s.complete===void 0&&(s.complete=jf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pj(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fj(t){return t===vi?void 0:t}function pj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const gj={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},yj=me.INFO,vj={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},_j=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=vj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kg{constructor(e){this.name=e,this._logLevel=yj,this._logHandler=_j,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const wj=(t,e)=>e.some(n=>t instanceof n);let Dw,Ow;function xj(){return Dw||(Dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ej(){return Ow||(Ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ab=new WeakMap,rm=new WeakMap,Rb=new WeakMap,Lf=new WeakMap,Qg=new WeakMap;function Tj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ls(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ab.set(n,t)}).catch(()=>{}),Qg.set(e,t),e}function bj(t){if(rm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});rm.set(t,e)}let sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Rb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Sj(t){sm=t(sm)}function Ij(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mf(this),e,...n);return Rb.set(r,e.sort?e.sort():[e]),Ls(r)}:Ej().includes(t)?function(...e){return t.apply(Mf(this),e),Ls(Ab.get(this))}:function(...e){return Ls(t.apply(Mf(this),e))}}function Cj(t){return typeof t=="function"?Ij(t):(t instanceof IDBTransaction&&bj(t),wj(t,xj())?new Proxy(t,sm):t)}function Ls(t){if(t instanceof IDBRequest)return Tj(t);if(Lf.has(t))return Lf.get(t);const e=Cj(t);return e!==t&&(Lf.set(t,e),Qg.set(e,t)),e}const Mf=t=>Qg.get(t);function Aj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ls(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ls(o.result),c.oldVersion,c.newVersion,Ls(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Rj=["get","getKey","getAll","getAllKeys","count"],Pj=["put","add","delete","clear"],Vf=new Map;function jw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Pj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Rj.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Vf.set(e,i),i}Sj(t=>({...t,get:(e,n,r)=>jw(e,n)||t.get(e,n,r),has:(e,n)=>!!jw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const im="@firebase/app",Lw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Kg("@firebase/app"),Dj="@firebase/app-compat",Oj="@firebase/analytics-compat",jj="@firebase/analytics",Lj="@firebase/app-check-compat",Mj="@firebase/app-check",Vj="@firebase/auth",Fj="@firebase/auth-compat",Uj="@firebase/database",$j="@firebase/data-connect",Bj="@firebase/database-compat",zj="@firebase/functions",Wj="@firebase/functions-compat",Hj="@firebase/installations",qj="@firebase/installations-compat",Gj="@firebase/messaging",Kj="@firebase/messaging-compat",Qj="@firebase/performance",Yj="@firebase/performance-compat",Xj="@firebase/remote-config",Jj="@firebase/remote-config-compat",Zj="@firebase/storage",eL="@firebase/storage-compat",tL="@firebase/firestore",nL="@firebase/ai",rL="@firebase/firestore-compat",sL="firebase",iL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="[DEFAULT]",oL={[im]:"fire-core",[Dj]:"fire-core-compat",[jj]:"fire-analytics",[Oj]:"fire-analytics-compat",[Mj]:"fire-app-check",[Lj]:"fire-app-check-compat",[Vj]:"fire-auth",[Fj]:"fire-auth-compat",[Uj]:"fire-rtdb",[$j]:"fire-data-connect",[Bj]:"fire-rtdb-compat",[zj]:"fire-fn",[Wj]:"fire-fn-compat",[Hj]:"fire-iid",[qj]:"fire-iid-compat",[Gj]:"fire-fcm",[Kj]:"fire-fcm-compat",[Qj]:"fire-perf",[Yj]:"fire-perf-compat",[Xj]:"fire-rc",[Jj]:"fire-rc-compat",[Zj]:"fire-gcs",[eL]:"fire-gcs-compat",[tL]:"fire-fst",[rL]:"fire-fst-compat",[nL]:"fire-vertex","fire-js":"fire-js",[sL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new Map,aL=new Map,am=new Map;function Mw(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $i(t){const e=t.name;if(am.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,t);for(const n of bd.values())Mw(n,t);for(const n of aL.values())Mw(n,t);return!0}function gh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new _c("app","Firebase",lL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=iL;function Pb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:om,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ms.create("bad-app-name",{appName:String(s)});if(n||(n=Sb()),!n)throw Ms.create("no-options");const i=bd.get(s);if(i){if(Ui(n,i.options)&&Ui(r,i.config))return i;throw Ms.create("duplicate-app",{appName:s})}const o=new mj(s);for(const c of am.values())o.addComponent(c);const a=new cL(n,r,o);return bd.set(s,a),a}function Yg(t=om){const e=bd.get(t);if(!e&&t===om&&Sb())return Pb();if(!e)throw Ms.create("no-app",{appName:t});return e}function ar(t,e,n){let r=oL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(o.join(" "));return}$i(new Ks(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="firebase-heartbeat-database",dL=1,Zl="firebase-heartbeat-store";let Ff=null;function Nb(){return Ff||(Ff=Aj(uL,dL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ms.create("idb-open",{originalErrorMessage:t.message})})),Ff}async function hL(t){try{const n=(await Nb()).transaction(Zl),r=await n.objectStore(Zl).get(kb(t));return await n.done,r}catch(e){if(e instanceof wr)Br.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function Vw(t,e){try{const r=(await Nb()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,kb(t)),await r.done}catch(n){if(n instanceof wr)Br.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(r.message)}}}function kb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=1024,pL=30;class mL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>pL){const o=vL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fw(),{heartbeatsToSend:r,unsentEntries:s}=gL(this._heartbeatsCache.heartbeats),i=Td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Br.warn(n),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function gL(t,e=fL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Uw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Uw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rj()?sj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Uw(t){return Td(JSON.stringify({version:2,heartbeats:t})).length}function vL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){$i(new Ks("platform-logger",e=>new Nj(e),"PRIVATE")),$i(new Ks("heartbeat",e=>new mL(e),"PRIVATE")),ar(im,Lw,t),ar(im,Lw,"esm2020"),ar("fire-js","")}_L("");function Db(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wL=Db,Ob=new _c("auth","Firebase",Db());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Kg("@firebase/auth");function xL(t,...e){Sd.logLevel<=me.WARN&&Sd.warn(`Auth (${Qi}): ${t}`,...e)}function ju(t,...e){Sd.logLevel<=me.ERROR&&Sd.error(`Auth (${Qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,...e){throw Xg(t,...e)}function lr(t,...e){return Xg(t,...e)}function jb(t,e,n){const r={...wL(),[e]:n};return new _c("auth","Firebase",r).create(e,{appName:t.name})}function Vs(t){return jb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ob.create(t,...e)}function ie(t,e,...n){if(!t)throw Xg(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ju(e),new Error(e)}function zr(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function EL(){return $w()==="http:"||$w()==="https:"}function $w(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EL()||ZO()||"connection"in navigator)?navigator.onLine:!0}function bL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=YO()||ej()}get(){return TL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CL=new xc(3e4,6e4);function Yi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ai(t,e,n,r,s={}){return Mb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=wc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return JO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&oi(t.emulatorConfig.host)&&(u.credentials="include"),Lb.fetch()(await Vb(t,t.config.apiHost,n,a),u)})}async function Mb(t,e,n){t._canInitEmulator=!1;const r={...SL,...e};try{const s=new RL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw hu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw hu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw hu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jb(t,h,u);Fn(t,h)}}catch(s){if(s instanceof wr)throw s;Fn(t,"network-request-failed",{message:String(s)})}}async function yh(t,e,n,r,s={}){const i=await ai(t,e,n,r,s);return"mfaPendingCredential"in i&&Fn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Vb(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Jg(t.config,s):`${t.config.apiScheme}://${s}`;return IL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function AL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),CL.get())})}}function hu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=lr(t,e,r);return s.customData._tokenResponse=n,s}function Bw(t){return t!==void 0&&t.enterprise!==void 0}class PL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NL(t,e){return ai(t,"GET","/v2/recaptchaConfig",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){return ai(t,"POST","/v1/accounts:delete",e)}async function Id(t,e){return ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DL(t,e=!1){const n=We(t),r=await n.getIdToken(e),s=Zg(r);ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:bl(Uf(s.auth_time)),issuedAtTime:bl(Uf(s.iat)),expirationTime:bl(Uf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Uf(t){return Number(t)*1e3}function Zg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ju("JWT malformed, contained fewer than 3 sections"),null;try{const s=Eb(n);return s?JSON.parse(s):(ju("Failed to decode base64 JWT payload"),null)}catch(s){return ju("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function zw(t){const e=Zg(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wr&&OL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t){var f;const e=t.auth,n=await t.getIdToken(),r=await ec(t,Id(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?Fb(s.providerUserInfo):[],o=ML(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new cm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function LL(t){const e=We(t);await Cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ML(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Fb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e){const n=await Mb(t,{},async()=>{const r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await Vb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&oi(t.emulatorConfig.host)&&(c.credentials="include"),Lb.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FL(t,e){return ai(t,"POST","/v2/accounts:revokeToken",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=zw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await VL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Oo;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new jL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ec(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DL(this,e)}reload(){return LL(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await ec(this,kL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:m,providerData:b,stsTokenManager:w}=n;ie(f&&w,e,"internal-error");const x=Oo.fromJSON(this.name,w);ie(typeof f=="string",e,"internal-error"),is(r,e.name),is(s,e.name),ie(typeof g=="boolean",e,"internal-error"),ie(typeof m=="boolean",e,"internal-error"),is(i,e.name),is(o,e.name),is(a,e.name),is(c,e.name),is(u,e.name),is(h,e.name);const _=new Pn({uid:f,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:u,lastLoginAt:h});return b&&Array.isArray(b)&&(_.providerData=b.map(v=>({...v}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Oo;s.updateFromServerResponse(n);const i=new Pn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Fb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Oo;a.updateFromIdToken(r);const c=new Pn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new cm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;function Or(t){zr(t instanceof Function,"Expected a class definition");let e=Ww.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ww.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ub.type="NONE";const Hw=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t,e,n){return`firebase:${t}:${e}:${n}`}class jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Lu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Lu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Id(this.auth,{idToken:e}).catch(()=>{});return n?Pn._fromGetAccountInfoResponse(this.auth,n,e):null}return Pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jo(Or(Hw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Or(Hw);const o=Lu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const g=await Id(e,{idToken:h}).catch(()=>{});if(!g)break;f=await Pn._fromGetAccountInfoResponse(e,g,h)}else f=Pn._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new jo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new jo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qb(e))return"Blackberry";if(Gb(e))return"Webos";if(Bb(e))return"Safari";if((e.includes("chrome/")||zb(e))&&!e.includes("edge/"))return"Chrome";if(Hb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $b(t=At()){return/firefox\//i.test(t)}function Bb(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zb(t=At()){return/crios\//i.test(t)}function Wb(t=At()){return/iemobile/i.test(t)}function Hb(t=At()){return/android/i.test(t)}function qb(t=At()){return/blackberry/i.test(t)}function Gb(t=At()){return/webos/i.test(t)}function ey(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UL(t=At()){var e;return ey(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $L(){return tj()&&document.documentMode===10}function Kb(t=At()){return ey(t)||Hb(t)||Gb(t)||qb(t)||/windows phone/i.test(t)||Wb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t,e=[]){let n;switch(t){case"Browser":n=qw(At());break;case"Worker":n=`${qw(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e={}){return ai(t,"GET","/v2/passwordPolicy",Yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=6;class HL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gw(this),this.idTokenSubscription=new Gw(this),this.beforeStateQueue=new BL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ob,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Or(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Id(this,{idToken:e}),r=await Pn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(dn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(Vs(this));const n=e?We(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zL(this),n=new HL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Or(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function wa(t){return We(t)}class Gw{constructor(e){this.auth=e,this.observer=null,this.addObserver=cj(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GL(t){vh=t}function Yb(t){return vh.loadJS(t)}function KL(){return vh.recaptchaEnterpriseScript}function QL(){return vh.gapiScript}function YL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XL{constructor(){this.enterprise=new JL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZL="recaptcha-enterprise",Xb="NO_RECAPTCHA";class eM{constructor(e){this.type=ZL,this.auth=wa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{NL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new PL(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;Bw(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Xb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XL().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Bw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=KL();c.length!==0&&(c+=a),Yb(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Kw(t,e,n,r=!1,s=!1){const i=new eM(t);let o;if(s)o=Xb;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Qw(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Kw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Kw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e){const n=gh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ui(i,e??{}))return s;Fn(s,"already-initialized")}return n.initialize({options:e})}function nM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rM(t,e,n){const r=wa(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Jb(e),{host:o,port:a}=sM(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(Ui(u,r.config.emulator)&&Ui(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,oi(o)?(qg(`${i}//${o}${c}`),Gg("Auth",!0)):iM()}function Jb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sM(t){const e=Jb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Yw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Yw(o)}}}function Yw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function oM(t,e){return ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e){return yh(t,"POST","/v1/accounts:signInWithPassword",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){return yh(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}async function cM(t,e){return yh(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends ty{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qw(e,n,"signInWithPassword",aM);case"emailLink":return lM(e,{email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qw(e,r,"signUpPassword",oM);case"emailLink":return cM(e,{idToken:n,email:this._email,oobCode:this._password});default:Fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return yh(t,"POST","/v1/accounts:signInWithIdp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="http://localhost";class Bi extends ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Bi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:uM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hM(t){const e=ol(al(t)).link,n=e?ol(al(e)).deep_link_id:null,r=ol(al(t)).deep_link_id;return(r?ol(al(r)).link:null)||r||n||e||t}class ny{constructor(e){const n=ol(al(e)),r=n.apiKey??null,s=n.oobCode??null,i=dM(n.mode??null);ie(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hM(e);try{return new ny(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,n){return tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ny.parseLink(n);return ie(r,"argument-error"),tc._fromEmailAndCode(e,r.code,r.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Zb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Ec{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Ec{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Ec{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Pn._fromIdTokenResponse(e,r,s),o=Xw(r);return new ra({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Xw(r);return new ra({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Xw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends wr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ad.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ad(e,n,r,s)}}function eS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ad._fromErrorAndOperation(t,i,e,r):i})}async function fM(t,e,n=!1){const r=await ec(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e,n=!1){const{auth:r}=t;if(dn(r.app))return Promise.reject(Vs(r));const s="reauthenticate";try{const i=await ec(t,eS(r,s,e,t),n);ie(i.idToken,r,"internal-error");const o=Zg(i.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),ra._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Fn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(t,e,n=!1){if(dn(t.app))return Promise.reject(Vs(t));const r="signIn",s=await eS(t,r,e),i=await ra._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function mM(t,e){return tS(wa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(t){const e=wa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function yM(t,e,n){return dn(t.app)?Promise.reject(Vs(t)):mM(We(t),xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gM(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t,e){return We(t).setPersistence(e)}function _M(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function wM(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function xM(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function EM(t){return We(t).signOut()}const Rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=1e3,bM=10;class rS extends nS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);$L()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bM):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";const sS=rS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends nS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iS.type="SESSION";const oS=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new _h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await SM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=ry("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function CM(t){cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function AM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function PM(){return aS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebaseLocalStorageDb",NM=1,Pd="firebaseLocalStorage",cS="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function kM(){const t=indexedDB.deleteDatabase(lS);return new Tc(t).toPromise()}function um(){const t=indexedDB.open(lS,NM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pd,{keyPath:cS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await kM(),e(await um()))})})}async function Jw(t,e,n){const r=wh(t,!0).put({[cS]:e,value:n});return new Tc(r).toPromise()}async function DM(t,e){const n=wh(t,!1).get(e),r=await new Tc(n).toPromise();return r===void 0?null:r.value}function Zw(t,e){const n=wh(t,!0).delete(e);return new Tc(n).toPromise()}const OM=800,jM=3;class uS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(PM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await AM(),!this.activeServiceWorker)return;this.sender=new IM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await Jw(e,Rd,"1"),await Zw(e,Rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>DM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wh(s,!1).getAll();return new Tc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uS.type="LOCAL";const LM=uS;new xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t,e){return e?Or(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VM(t){return tS(t.auth,new sy(t),t.bypassAuthState)}function FM(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),pM(n,new sy(t),t.bypassAuthState)}async function UM(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),fM(n,new sy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VM;case"linkViaPopup":case"linkViaRedirect":return UM;case"reauthViaPopup":case"reauthViaRedirect":return FM;default:Fn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new xc(2e3,1e4);class bo extends dS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$M.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="pendingRedirect",Mu=new Map;class zM extends dS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mu.get(this.auth._key());if(!e){try{const r=await WM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mu.set(this.auth._key(),e)}return this.bypassAuthState||Mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WM(t,e){const n=GM(e),r=qM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function HM(t,e){Mu.set(t._key(),e)}function qM(t){return Or(t._redirectPersistence)}function GM(t){return Lu(BM,t.config.apiKey,t.name)}async function KM(t,e,n=!1){if(dn(t.app))return Promise.reject(Vs(t));const r=wa(t),s=MM(r,e),o=await new zM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=10*60*1e3;class YM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QM&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(e))}saveEventToCache(e){this.cachedEventUids.add(e0(e)),this.lastProcessedEventTime=Date.now()}}function e0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e={}){return ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e4=/^https?/;async function t4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JM(t);for(const n of e)try{if(n4(n))return}catch{}Fn(t,"unauthorized-domain")}function n4(t){const e=lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!e4.test(n))return!1;if(ZM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new xc(3e4,6e4);function t0(){const t=cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function s4(t){return new Promise((e,n)=>{var s,i,o;function r(){t0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t0(),n(lr(t,"network-request-failed"))},timeout:r4.get()})}if((i=(s=cr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=cr().gapi)!=null&&o.load)r();else{const a=YL("iframefcb");return cr()[a]=()=>{gapi.load?r():n(lr(t,"network-request-failed"))},Yb(`${QL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Vu=null,e})}let Vu=null;function i4(t){return Vu=Vu||s4(t),Vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new xc(5e3,15e3),a4="__/auth/iframe",l4="emulator/auth/iframe",c4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d4(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jg(e,l4):`https://${t.config.authDomain}/${a4}`,r={apiKey:e.apiKey,appName:t.name,v:Qi},s=u4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${wc(r).slice(1)}`}async function h4(t){const e=await i4(t),n=cr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:d4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=cr().setTimeout(()=>{i(o)},o4.get());function c(){cr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p4=500,m4=600,g4="_blank",y4="http://localhost";class n0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v4(t,e,n,r=p4,s=m4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...f4,width:r.toString(),height:s.toString(),top:i,left:o},u=At().toLowerCase();n&&(a=zb(u)?g4:n),$b(u)&&(e=e||y4,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[m,b])=>`${g}${m}=${b},`,"");if(UL(u)&&a!=="_self")return _4(e||"",a),new n0(null);const f=window.open(e||"",a,h);ie(f,t,"popup-blocked");try{f.focus()}catch{}return new n0(f)}function _4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="__/auth/handler",x4="emulator/auth/handler",E4=encodeURIComponent("fac");async function r0(t,e,n,r,s,i){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qi,eventId:s};if(e instanceof Zb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Ec){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${E4}=${encodeURIComponent(c)}`:"";return`${T4(t)}?${wc(a).slice(1)}${u}`}function T4({config:t}){return t.emulator?Jg(t,x4):`https://${t.authDomain}/${w4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="webStorageSupport";class b4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oS,this._completeRedirectFn=KM,this._overrideRedirectResult=HM}async _openPopup(e,n,r,s){var o;zr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await r0(e,n,r,lm(),s);return v4(e,i,ry())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await r0(e,n,r,lm(),s);return CM(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(zr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await h4(e),r=new YM(e);return n.register("authEvent",s=>(ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($f,{type:$f},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[$f];i!==void 0&&n(!!i),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kb()||Bb()||ey()}}const S4=b4;var s0="@firebase/auth",i0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A4(t){$i(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qb(t)},u=new qL(r,s,i,c);return nM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$i(new Ks("auth-internal",e=>{const n=wa(e.getProvider("auth").getImmediate());return(r=>new I4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(s0,i0,C4(t)),ar(s0,i0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=5*60,P4=Ib("authIdTokenMaxAge")||R4;let o0=null;const N4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>P4)return;const s=n==null?void 0:n.token;o0!==s&&(o0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function k4(t=Yg()){const e=gh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tM(t,{popupRedirectResolver:S4,persistence:[LM,sS,oS]}),r=Ib("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=N4(i.toString());wM(n,o,()=>o(n.currentUser)),_M(n,a=>o(a))}}const s=Tb("auth");return s&&rM(n,`http://${s}`),n}function D4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=lr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",D4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A4("Browser");var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,fS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function A(){}A.prototype=T.prototype,S.F=T.prototype,S.prototype=new A,S.prototype.constructor=S,S.D=function(R,N,k){for(var P=Array(arguments.length-2),G=2;G<arguments.length;G++)P[G-2]=arguments[G];return T.prototype[N].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,T,A){A||(A=0);const R=Array(16);if(typeof T=="string")for(var N=0;N<16;++N)R[N]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(N=0;N<16;++N)R[N]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=S.g[0],A=S.g[1],N=S.g[2];let k=S.g[3],P;P=T+(k^A&(N^k))+R[0]+3614090360&4294967295,T=A+(P<<7&4294967295|P>>>25),P=k+(N^T&(A^N))+R[1]+3905402710&4294967295,k=T+(P<<12&4294967295|P>>>20),P=N+(A^k&(T^A))+R[2]+606105819&4294967295,N=k+(P<<17&4294967295|P>>>15),P=A+(T^N&(k^T))+R[3]+3250441966&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(k^A&(N^k))+R[4]+4118548399&4294967295,T=A+(P<<7&4294967295|P>>>25),P=k+(N^T&(A^N))+R[5]+1200080426&4294967295,k=T+(P<<12&4294967295|P>>>20),P=N+(A^k&(T^A))+R[6]+2821735955&4294967295,N=k+(P<<17&4294967295|P>>>15),P=A+(T^N&(k^T))+R[7]+4249261313&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(k^A&(N^k))+R[8]+1770035416&4294967295,T=A+(P<<7&4294967295|P>>>25),P=k+(N^T&(A^N))+R[9]+2336552879&4294967295,k=T+(P<<12&4294967295|P>>>20),P=N+(A^k&(T^A))+R[10]+4294925233&4294967295,N=k+(P<<17&4294967295|P>>>15),P=A+(T^N&(k^T))+R[11]+2304563134&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(k^A&(N^k))+R[12]+1804603682&4294967295,T=A+(P<<7&4294967295|P>>>25),P=k+(N^T&(A^N))+R[13]+4254626195&4294967295,k=T+(P<<12&4294967295|P>>>20),P=N+(A^k&(T^A))+R[14]+2792965006&4294967295,N=k+(P<<17&4294967295|P>>>15),P=A+(T^N&(k^T))+R[15]+1236535329&4294967295,A=N+(P<<22&4294967295|P>>>10),P=T+(N^k&(A^N))+R[1]+4129170786&4294967295,T=A+(P<<5&4294967295|P>>>27),P=k+(A^N&(T^A))+R[6]+3225465664&4294967295,k=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(k^T))+R[11]+643717713&4294967295,N=k+(P<<14&4294967295|P>>>18),P=A+(k^T&(N^k))+R[0]+3921069994&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(N^k&(A^N))+R[5]+3593408605&4294967295,T=A+(P<<5&4294967295|P>>>27),P=k+(A^N&(T^A))+R[10]+38016083&4294967295,k=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(k^T))+R[15]+3634488961&4294967295,N=k+(P<<14&4294967295|P>>>18),P=A+(k^T&(N^k))+R[4]+3889429448&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(N^k&(A^N))+R[9]+568446438&4294967295,T=A+(P<<5&4294967295|P>>>27),P=k+(A^N&(T^A))+R[14]+3275163606&4294967295,k=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(k^T))+R[3]+4107603335&4294967295,N=k+(P<<14&4294967295|P>>>18),P=A+(k^T&(N^k))+R[8]+1163531501&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(N^k&(A^N))+R[13]+2850285829&4294967295,T=A+(P<<5&4294967295|P>>>27),P=k+(A^N&(T^A))+R[2]+4243563512&4294967295,k=T+(P<<9&4294967295|P>>>23),P=N+(T^A&(k^T))+R[7]+1735328473&4294967295,N=k+(P<<14&4294967295|P>>>18),P=A+(k^T&(N^k))+R[12]+2368359562&4294967295,A=N+(P<<20&4294967295|P>>>12),P=T+(A^N^k)+R[5]+4294588738&4294967295,T=A+(P<<4&4294967295|P>>>28),P=k+(T^A^N)+R[8]+2272392833&4294967295,k=T+(P<<11&4294967295|P>>>21),P=N+(k^T^A)+R[11]+1839030562&4294967295,N=k+(P<<16&4294967295|P>>>16),P=A+(N^k^T)+R[14]+4259657740&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(A^N^k)+R[1]+2763975236&4294967295,T=A+(P<<4&4294967295|P>>>28),P=k+(T^A^N)+R[4]+1272893353&4294967295,k=T+(P<<11&4294967295|P>>>21),P=N+(k^T^A)+R[7]+4139469664&4294967295,N=k+(P<<16&4294967295|P>>>16),P=A+(N^k^T)+R[10]+3200236656&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(A^N^k)+R[13]+681279174&4294967295,T=A+(P<<4&4294967295|P>>>28),P=k+(T^A^N)+R[0]+3936430074&4294967295,k=T+(P<<11&4294967295|P>>>21),P=N+(k^T^A)+R[3]+3572445317&4294967295,N=k+(P<<16&4294967295|P>>>16),P=A+(N^k^T)+R[6]+76029189&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(A^N^k)+R[9]+3654602809&4294967295,T=A+(P<<4&4294967295|P>>>28),P=k+(T^A^N)+R[12]+3873151461&4294967295,k=T+(P<<11&4294967295|P>>>21),P=N+(k^T^A)+R[15]+530742520&4294967295,N=k+(P<<16&4294967295|P>>>16),P=A+(N^k^T)+R[2]+3299628645&4294967295,A=N+(P<<23&4294967295|P>>>9),P=T+(N^(A|~k))+R[0]+4096336452&4294967295,T=A+(P<<6&4294967295|P>>>26),P=k+(A^(T|~N))+R[7]+1126891415&4294967295,k=T+(P<<10&4294967295|P>>>22),P=N+(T^(k|~A))+R[14]+2878612391&4294967295,N=k+(P<<15&4294967295|P>>>17),P=A+(k^(N|~T))+R[5]+4237533241&4294967295,A=N+(P<<21&4294967295|P>>>11),P=T+(N^(A|~k))+R[12]+1700485571&4294967295,T=A+(P<<6&4294967295|P>>>26),P=k+(A^(T|~N))+R[3]+2399980690&4294967295,k=T+(P<<10&4294967295|P>>>22),P=N+(T^(k|~A))+R[10]+4293915773&4294967295,N=k+(P<<15&4294967295|P>>>17),P=A+(k^(N|~T))+R[1]+2240044497&4294967295,A=N+(P<<21&4294967295|P>>>11),P=T+(N^(A|~k))+R[8]+1873313359&4294967295,T=A+(P<<6&4294967295|P>>>26),P=k+(A^(T|~N))+R[15]+4264355552&4294967295,k=T+(P<<10&4294967295|P>>>22),P=N+(T^(k|~A))+R[6]+2734768916&4294967295,N=k+(P<<15&4294967295|P>>>17),P=A+(k^(N|~T))+R[13]+1309151649&4294967295,A=N+(P<<21&4294967295|P>>>11),P=T+(N^(A|~k))+R[4]+4149444226&4294967295,T=A+(P<<6&4294967295|P>>>26),P=k+(A^(T|~N))+R[11]+3174756917&4294967295,k=T+(P<<10&4294967295|P>>>22),P=N+(T^(k|~A))+R[2]+718787259&4294967295,N=k+(P<<15&4294967295|P>>>17),P=A+(k^(N|~T))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+k&4294967295}r.prototype.v=function(S,T){T===void 0&&(T=S.length);const A=T-this.blockSize,R=this.C;let N=this.h,k=0;for(;k<T;){if(N==0)for(;k<=A;)s(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<T;)if(R[N++]=S.charCodeAt(k++),N==this.blockSize){s(this,R),N=0;break}}else for(;k<T;)if(R[N++]=S[k++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=T},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var A=S.length-8;A<S.length;++A)S[A]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,A=0;A<4;++A)for(let R=0;R<32;R+=8)S[T++]=this.g[A]>>>R&255;return S};function i(S,T){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=T(S)}function o(S,T){this.h=T;const A=[];let R=!0;for(let N=S.length-1;N>=0;N--){const k=S[N]|0;R&&k==T||(A[N]=k,R=!1)}this.g=A}var a={};function c(S){return-128<=S&&S<128?i(S,function(T){return new o([T|0],T<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return x(u(-S));const T=[];let A=1;for(let R=0;S>=A;R++)T[R]=S/A|0,A*=4294967296;return new o(T,0)}function h(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return x(h(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(T,8));let R=f;for(let k=0;k<S.length;k+=8){var N=Math.min(8,S.length-k);const P=parseInt(S.substring(k,k+N),T);N<8?(N=u(Math.pow(T,N)),R=R.j(N).add(u(P))):(R=R.j(A),R=R.add(u(P)))}return R}var f=c(0),g=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();let S=0,T=1;for(let A=0;A<this.g.length;A++){const R=this.i(A);S+=(R>=0?R:4294967296+R)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(w(this))return"-"+x(this).toString(S);const T=u(Math.pow(S,6));var A=this;let R="";for(;;){const N=D(A,T).g;A=_(A,N.j(T));let k=((A.g.length>0?A.g[0]:A.h)>>>0).toString(S);if(A=N,b(A))return k+R;for(;k.length<6;)k="0"+k;R=k+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=_(this,S),w(S)?-1:b(S)?0:1};function x(S){const T=S.g.length,A=[];for(let R=0;R<T;R++)A[R]=~S.g[R];return new o(A,~S.h).add(g)}t.abs=function(){return w(this)?x(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),A=[];let R=0;for(let N=0;N<=T;N++){let k=R+(this.i(N)&65535)+(S.i(N)&65535),P=(k>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);R=P>>>16,k&=65535,P&=65535,A[N]=P<<16|k}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(S,T){return S.add(x(T))}t.j=function(S){if(b(this)||b(S))return f;if(w(this))return w(S)?x(this).j(x(S)):x(x(this).j(S));if(w(S))return x(this.j(x(S)));if(this.l(m)<0&&S.l(m)<0)return u(this.m()*S.m());const T=this.g.length+S.g.length,A=[];for(var R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<S.g.length;N++){const k=this.i(R)>>>16,P=this.i(R)&65535,G=S.i(N)>>>16,ae=S.i(N)&65535;A[2*R+2*N]+=P*ae,v(A,2*R+2*N),A[2*R+2*N+1]+=k*ae,v(A,2*R+2*N+1),A[2*R+2*N+1]+=P*G,v(A,2*R+2*N+1),A[2*R+2*N+2]+=k*G,v(A,2*R+2*N+2)}for(S=0;S<T;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=T;S<2*T;S++)A[S]=0;return new o(A,0)};function v(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function E(S,T){this.g=S,this.h=T}function D(S,T){if(b(T))throw Error("division by zero");if(b(S))return new E(f,f);if(w(S))return T=D(x(S),T),new E(x(T.g),x(T.h));if(w(T))return T=D(S,x(T)),new E(x(T.g),T.h);if(S.g.length>30){if(w(S)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var A=g,R=T;R.l(S)<=0;)A=j(A),R=j(R);var N=L(A,1),k=L(R,1);for(R=L(R,2),A=L(A,2);!b(R);){var P=k.add(R);P.l(S)<=0&&(N=N.add(A),k=P),R=L(R,1),A=L(A,1)}return T=_(S,N.j(T)),new E(N,T)}for(N=f;S.l(T)>=0;){for(A=Math.max(1,Math.floor(S.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),k=u(A),P=k.j(T);w(P)||P.l(S)>0;)A-=R,k=u(A),P=k.j(T);b(k)&&(k=g),N=N.add(k),S=_(S,P)}return new E(N,S)}t.B=function(S){return D(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<T;R++)A[R]=this.i(R)&S.i(R);return new o(A,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<T;R++)A[R]=this.i(R)|S.i(R);return new o(A,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<T;R++)A[R]=this.i(R)^S.i(R);return new o(A,this.h^S.h)};function j(S){const T=S.g.length+1,A=[];for(let R=0;R<T;R++)A[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(A,S.h)}function L(S,T){const A=T>>5;T%=32;const R=S.g.length-A,N=[];for(let k=0;k<R;k++)N[k]=T>0?S.i(k+A)>>>T|S.i(k+A+1)<<32-T:S.i(k+A);return new o(N,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Fs=o}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pS,ll,mS,Fu,dm,gS,yS,vS;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof fu=="object"&&fu];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(l,p){if(p)e:{var y=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var F=l[I];if(!(F in y))break e;y=y[F]}l=l[l.length-1],I=y[l],p=p(I),p!=I&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(p){var y=[],I;for(I in p)Object.prototype.hasOwnProperty.call(p,I)&&y.push([I,p[I]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function c(l,p,y){return l.call.apply(l.bind,arguments)}function u(l,p,y){return u=c,u.apply(null,arguments)}function h(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function f(l,p){function y(){}y.prototype=p.prototype,l.Z=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Ob=function(I,F,U){for(var Y=Array(arguments.length-2),he=2;he<arguments.length;he++)Y[he-2]=arguments[he];return p.prototype[F].apply(I,Y)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function m(l){const p=l.length;if(p>0){const y=Array(p);for(let I=0;I<p;I++)y[I]=l[I];return y}return[]}function b(l,p){for(let I=1;I<arguments.length;I++){const F=arguments[I];var y=typeof F;if(y=y!="object"?y:F?Array.isArray(F)?"array":y:"null",y=="array"||y=="object"&&typeof F.length=="number"){y=l.length||0;const U=F.length||0;l.length=y+U;for(let Y=0;Y<U;Y++)l[y+Y]=F[Y]}else l.push(F)}}class w{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(l){o.setTimeout(()=>{throw l},0)}function _(){var l=S;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class v{constructor(){this.h=this.g=null}add(p,y){const I=E.get();I.set(p,y),this.h?this.h.next=I:this.g=I,this.h=I}}var E=new w(()=>new D,l=>l.reset());class D{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let j,L=!1,S=new v,T=()=>{const l=Promise.resolve(void 0);j=()=>{l.then(A)}};function A(){for(var l;l=_();){try{l.h.call(l.g)}catch(y){x(y)}var p=E;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}L=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};o.addEventListener("test",y,p),o.removeEventListener("test",y,p)}catch{}return l}();function P(l){return/^[\s\xa0]*$/.test(l)}function G(l,p){N.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}f(G,N),G.prototype.init=function(l,p){const y=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),ne=0;function re(l,p,y,I,F){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!I,this.ha=F,this.key=++ne,this.da=this.fa=!1}function B(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function M(l,p,y){for(const I in l)p.call(y,l[I],I,l)}function O(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function V(l){const p={};for(const y in l)p[y]=l[y];return p}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(l,p){let y,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(y in I)l[y]=I[y];for(let U=0;U<$.length;U++)y=$[U],Object.prototype.hasOwnProperty.call(I,y)&&(l[y]=I[y])}}function X(l){this.src=l,this.g={},this.h=0}X.prototype.add=function(l,p,y,I,F){const U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);const Y=Se(l,p,I,F);return Y>-1?(p=l[Y],y||(p.fa=!1)):(p=new re(p,this.src,U,!!I,F),p.fa=y,l.push(p)),p};function _e(l,p){const y=p.type;if(y in l.g){var I=l.g[y],F=Array.prototype.indexOf.call(I,p,void 0),U;(U=F>=0)&&Array.prototype.splice.call(I,F,1),U&&(B(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Se(l,p,y,I){for(let F=0;F<l.length;++F){const U=l[F];if(!U.da&&U.listener==p&&U.capture==!!y&&U.ha==I)return F}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),$n={};function vn(l,p,y,I,F){if(Array.isArray(p)){for(let U=0;U<p.length;U++)vn(l,p[U],y,I,F);return null}return y=Kr(y),l&&l[ae]?l.J(p,y,a(I)?!!I.capture:!!I,F):xr(l,p,y,!1,I,F)}function xr(l,p,y,I,F,U){if(!p)throw Error("Invalid event type");const Y=a(F)?!!F.capture:!!F;let he=Gr(l);if(he||(l[fe]=he=new X(l)),y=he.add(p,y,I,Y,U),y.proxy)return y;if(I=Bn(),y.proxy=I,I.src=l,I.listener=y,l.addEventListener)k||(F=Y),F===void 0&&(F=!1),l.addEventListener(p.toString(),I,F);else if(l.attachEvent)l.attachEvent(li(p.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Bn(){function l(y){return p.call(l.src,l.listener,y)}const p=Aa;return l}function Er(l,p,y,I,F){if(Array.isArray(p))for(var U=0;U<p.length;U++)Er(l,p[U],y,I,F);else I=a(I)?!!I.capture:!!I,y=Kr(y),l&&l[ae]?(l=l.i,U=String(p).toString(),U in l.g&&(p=l.g[U],y=Se(p,y,I,F),y>-1&&(B(p[y]),Array.prototype.splice.call(p,y,1),p.length==0&&(delete l.g[U],l.h--)))):l&&(l=Gr(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Se(p,y,I,F)),(y=l>-1?p[l]:null)&&on(y))}function on(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[ae])_e(p.i,l);else{var y=l.type,I=l.proxy;p.removeEventListener?p.removeEventListener(y,I,l.capture):p.detachEvent?p.detachEvent(li(y),I):p.addListener&&p.removeListener&&p.removeListener(I),(y=Gr(p))?(_e(y,l),y.h==0&&(y.src=null,p[fe]=null)):B(l)}}}function li(l){return l in $n?$n[l]:$n[l]="on"+l}function Aa(l,p){if(l.da)l=!0;else{p=new G(p,this);const y=l.listener,I=l.ha||l.src;l.fa&&on(l),l=y.call(I,p)}return l}function Gr(l){return l=l[fe],l instanceof X?l:null}var ci="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kr(l){return typeof l=="function"?l:(l[ci]||(l[ci]=function(p){return l.handleEvent(p)}),l[ci])}function Le(){R.call(this),this.i=new X(this),this.M=this,this.G=null}f(Le,R),Le.prototype[ae]=!0,Le.prototype.removeEventListener=function(l,p,y,I){Er(this,l,p,y,I)};function at(l,p){var y,I=l.G;if(I)for(y=[];I;I=I.G)y.push(I);if(l=l.M,I=p.type||p,typeof p=="string")p=new N(p,l);else if(p instanceof N)p.target=p.target||l;else{var F=p;p=new N(I,l),q(p,F)}F=!0;let U,Y;if(y)for(Y=y.length-1;Y>=0;Y--)U=p.g=y[Y],F=zn(U,I,!0,p)&&F;if(U=p.g=l,F=zn(U,I,!0,p)&&F,F=zn(U,I,!1,p)&&F,y)for(Y=0;Y<y.length;Y++)U=p.g=y[Y],F=zn(U,I,!1,p)&&F}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const y=l.g[p];for(let I=0;I<y.length;I++)B(y[I]);delete l.g[p],l.h--}}this.G=null},Le.prototype.J=function(l,p,y,I){return this.i.add(String(l),p,!1,y,I)},Le.prototype.K=function(l,p,y,I){return this.i.add(String(l),p,!0,y,I)};function zn(l,p,y,I){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let F=!0;for(let U=0;U<p.length;++U){const Y=p[U];if(Y&&!Y.da&&Y.capture==y){const he=Y.listener,nt=Y.ha||Y.src;Y.fa&&_e(l.i,Y),F=he.call(nt,I)!==!1&&F}}return F&&!I.defaultPrevented}function Pc(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(l,p||0)}function Wn(l){l.g=Pc(()=>{l.g=null,l.i&&(l.i=!1,Wn(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Mh extends R{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Wn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(l){R.call(this),this.h=l,this.g={}}f(ui,R);var Rt=[];function Tr(l){M(l.g,function(p,y){this.g.hasOwnProperty(y)&&on(p)},l),l.g={}}ui.prototype.N=function(){ui.Z.N.call(this),Tr(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ra=o.JSON.stringify,Vh=o.JSON.parse,to=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Nc(){}function Pa(){}var br={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Hn(){N.call(this,"d")}f(Hn,N);function no(){N.call(this,"c")}f(no,N);var Mt={},kc=null;function ro(){return kc=kc||new Le}Mt.Ia="serverreachability";function Na(l){N.call(this,Mt.Ia,l)}f(Na,N);function Qr(l){const p=ro();at(p,new Na(p))}Mt.STAT_EVENT="statevent";function Dc(l,p){N.call(this,Mt.STAT_EVENT,l),this.stat=p}f(Dc,N);function tt(l){const p=ro();at(p,new Dc(p,l))}Mt.Ja="timingevent";function _n(l,p){N.call(this,Mt.Ja,l),this.size=p}f(_n,N);function di(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},p)}function se(){this.g=!0}se.prototype.ua=function(){this.g=!1};function Ee(l,p,y,I,F,U){l.info(function(){if(l.g)if(U){var Y="",he=U.split("&");for(let Ie=0;Ie<he.length;Ie++){var nt=he[Ie].split("=");if(nt.length>1){const ct=nt[0];nt=nt[1];const Kn=ct.split("_");Y=Kn.length>=2&&Kn[1]=="type"?Y+(ct+"="+nt+"&"):Y+(ct+"=redacted&")}}}else Y=null;else Y=U;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+p+`
`+y+`
`+Y})}function Ae(l,p,y,I,F,U,Y){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+p+`
`+y+`
`+U+" "+Y})}function lt(l,p,y,I){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+qn(l,y)+(I?" "+I:"")})}function Kt(l,p){l.info(function(){return"TIMEOUT: "+p})}se.prototype.info=function(){};function qn(l,p){if(!l.g)return p;if(!p)return null;try{const U=JSON.parse(p);if(U){for(l=0;l<U.length;l++)if(Array.isArray(U[l])){var y=U[l];if(!(y.length<2)){var I=y[1];if(Array.isArray(I)&&!(I.length<1)){var F=I[0];if(F!="noop"&&F!="stop"&&F!="close")for(let Y=1;Y<I.length;Y++)I[Y]=""}}}}return Ra(U)}catch{return p}}var an={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wn;function Fh(){}f(Fh,Nc),Fh.prototype.g=function(){return new XMLHttpRequest},wn=new Fh;function ka(l){return encodeURIComponent(String(l))}function dC(l){var p=1;l=l.split(":");const y=[];for(;p>0&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function Yr(l,p,y,I){this.j=l,this.i=p,this.l=y,this.S=I||1,this.V=new ui(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qy}function Qy(){this.i=null,this.g="",this.h=!1}var Yy={},Uh={};function $h(l,p,y){l.M=1,l.A=jc(Gn(p)),l.u=y,l.R=!0,Xy(l,null)}function Xy(l,p){l.F=Date.now(),Oc(l),l.B=Gn(l.A);var y=l.B,I=l.S;Array.isArray(I)||(I=[String(I)]),uv(y.i,"t",I),l.C=0,y=l.j.L,l.h=new Qy,l.g=Av(l.j,y?p:null,!l.u),l.P>0&&(l.O=new Mh(u(l.Y,l,l.g),l.P)),p=l.V,y=l.g,I=l.ba;var F="readystatechange";Array.isArray(F)||(F&&(Rt[0]=F.toString()),F=Rt);for(let U=0;U<F.length;U++){const Y=vn(y,F[U],I||p.handleEvent,!1,p.h||p);if(!Y)break;p.g[Y.key]=Y}p=l.J?V(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),Qr(),Ee(l.i,l.v,l.B,l.l,l.S,l.u)}Yr.prototype.ba=function(l){l=l.target;const p=this.O;p&&Zr(l)==3?p.j():this.Y(l)},Yr.prototype.Y=function(l){try{if(l==this.g)e:{const he=Zr(this.g),nt=this.g.ya(),Ie=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||yv(this.g)))){this.K||he!=4||nt==7||(nt==8||Ie<=0?Qr(3):Qr(2)),Bh(this);var p=this.g.ca();this.X=p;var y=hC(this);if(this.o=p==200,Ae(this.i,this.v,this.B,this.l,this.S,he,p),this.o){if(this.U&&!this.L){t:{if(this.g){var I,F=this.g;if((I=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var U=I;break t}}U=null}if(l=U)lt(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zh(this,l);else{this.o=!1,this.m=3,tt(12),hi(this),Da(this);break e}}if(this.R){l=!0;let ct;for(;!this.K&&this.C<y.length;)if(ct=fC(this,y),ct==Uh){he==4&&(this.m=4,tt(14),l=!1),lt(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Yy){this.m=4,tt(15),lt(this.i,this.l,y,"[Invalid Chunk]"),l=!1;break}else lt(this.i,this.l,ct,null),zh(this,ct);if(Jy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||y.length!=0||this.h.h||(this.m=1,tt(16),l=!1),this.o=this.o&&l,!l)lt(this.i,this.l,y,"[Invalid Chunked Response]"),hi(this),Da(this);else if(y.length>0&&!this.W){this.W=!0;var Y=this.j;Y.g==this&&Y.aa&&!Y.P&&(Y.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Xh(Y),Y.P=!0,tt(11))}}else lt(this.i,this.l,y,null),zh(this,y);he==4&&hi(this),this.o&&!this.K&&(he==4?bv(this.j,this):(this.o=!1,Oc(this)))}else CC(this.g),p==400&&y.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),hi(this),Da(this)}}}catch{}finally{}};function hC(l){if(!Jy(l))return l.g.la();const p=yv(l.g);if(p==="")return"";let y="";const I=p.length,F=Zr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return hi(l),Da(l),"";l.h.i=new o.TextDecoder}for(let U=0;U<I;U++)l.h.h=!0,y+=l.h.i.decode(p[U],{stream:!(F&&U==I-1)});return p.length=0,l.h.g+=y,l.C=0,l.h.g}function Jy(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function fC(l,p){var y=l.C,I=p.indexOf(`
`,y);return I==-1?Uh:(y=Number(p.substring(y,I)),isNaN(y)?Yy:(I+=1,I+y>p.length?Uh:(p=p.slice(I,I+y),l.C=I+y,p)))}Yr.prototype.cancel=function(){this.K=!0,hi(this)};function Oc(l){l.T=Date.now()+l.H,Zy(l,l.H)}function Zy(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=di(u(l.aa,l),p)}function Bh(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Yr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Kt(this.i,this.B),this.M!=2&&(Qr(),tt(17)),hi(this),this.m=2,Da(this)):Zy(this,this.T-l)};function Da(l){l.j.I==0||l.K||bv(l.j,l)}function hi(l){Bh(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,Tr(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function zh(l,p){try{var y=l.j;if(y.I!=0&&(y.g==l||Wh(y.h,l))){if(!l.L&&Wh(y.h,l)&&y.I==3){try{var I=y.Ba.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<l.F)Uc(y),Vc(y);else break e;Yh(y),tt(18)}}else y.xa=F[1],0<y.xa-y.K&&F[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=di(u(y.Va,y),6e3));nv(y.h)<=1&&y.ta&&(y.ta=void 0)}else pi(y,11)}else if((l.L||y.g==l)&&Uc(y),!P(p))for(F=y.Ba.g.parse(p),p=0;p<F.length;p++){let Ie=F[p];const ct=Ie[0];if(!(ct<=y.K))if(y.K=ct,Ie=Ie[1],y.I==2)if(Ie[0]=="c"){y.M=Ie[1],y.ba=Ie[2];const Kn=Ie[3];Kn!=null&&(y.ka=Kn,y.j.info("VER="+y.ka));const mi=Ie[4];mi!=null&&(y.za=mi,y.j.info("SVER="+y.za));const es=Ie[5];es!=null&&typeof es=="number"&&es>0&&(I=1.5*es,y.O=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const ts=l.g;if(ts){const Bc=ts.g?ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var U=I.h;U.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Hh(U,U.h),U.h=null))}if(I.G){const Jh=ts.g?ts.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(I.wa=Jh,Ne(I.J,I.G,Jh))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-l.F,y.j.info("Handshake RTT: "+y.T+"ms")),I=y;var Y=l;if(I.na=Cv(I,I.L?I.ba:null,I.W),Y.L){rv(I.h,Y);var he=Y,nt=I.O;nt&&(he.H=nt),he.D&&(Bh(he),Oc(he)),I.g=Y}else Ev(I);y.i.length>0&&Fc(y)}else Ie[0]!="stop"&&Ie[0]!="close"||pi(y,7);else y.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?pi(y,7):Qh(y):Ie[0]!="noop"&&y.l&&y.l.qa(Ie),y.A=0)}}Qr(4)}catch{}}var pC=class{constructor(l,p){this.g=l,this.map=p}};function ev(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function nv(l){return l.h?1:l.g?l.g.size:0}function Wh(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Hh(l,p){l.g?l.g.add(p):l.h=p}function rv(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}ev.prototype.cancel=function(){if(this.i=sv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function sv(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.G);return p}return m(l.i)}var iv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mC(l,p){if(l){l=l.split("&");for(let y=0;y<l.length;y++){const I=l[y].indexOf("=");let F,U=null;I>=0?(F=l[y].substring(0,I),U=l[y].substring(I+1)):F=l[y],p(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Xr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof Xr?(this.l=l.l,Oa(this,l.j),this.o=l.o,this.g=l.g,ja(this,l.u),this.h=l.h,qh(this,dv(l.i)),this.m=l.m):l&&(p=String(l).match(iv))?(this.l=!1,Oa(this,p[1]||"",!0),this.o=La(p[2]||""),this.g=La(p[3]||"",!0),ja(this,p[4]),this.h=La(p[5]||"",!0),qh(this,p[6]||"",!0),this.m=La(p[7]||"")):(this.l=!1,this.i=new Va(null,this.l))}Xr.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(Ma(p,ov,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Ma(p,ov,!0),"@"),l.push(ka(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&l.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Ma(y,y.charAt(0)=="/"?vC:yC,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Ma(y,wC)),l.join("")},Xr.prototype.resolve=function(l){const p=Gn(this);let y=!!l.j;y?Oa(p,l.j):y=!!l.o,y?p.o=l.o:y=!!l.g,y?p.g=l.g:y=l.u!=null;var I=l.h;if(y)ja(p,l.u);else if(y=!!l.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var F=p.h.lastIndexOf("/");F!=-1&&(I=p.h.slice(0,F+1)+I)}if(F=I,F==".."||F==".")I="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){I=F.lastIndexOf("/",0)==0,F=F.split("/");const U=[];for(let Y=0;Y<F.length;){const he=F[Y++];he=="."?I&&Y==F.length&&U.push(""):he==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),I&&Y==F.length&&U.push("")):(U.push(he),I=!0)}I=U.join("/")}else I=F}return y?p.h=I:y=l.i.toString()!=="",y?qh(p,dv(l.i)):y=!!l.m,y&&(p.m=l.m),p};function Gn(l){return new Xr(l)}function Oa(l,p,y){l.j=y?La(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function ja(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function qh(l,p,y){p instanceof Va?(l.i=p,xC(l.i,l.l)):(y||(p=Ma(p,_C)),l.i=new Va(p,l.l))}function Ne(l,p,y){l.i.set(p,y)}function jc(l){return Ne(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function La(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ma(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,gC),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function gC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ov=/[#\/\?@]/g,yC=/[#\?:]/g,vC=/[#\?]/g,_C=/[#\?@]/g,wC=/#/g;function Va(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function fi(l){l.g||(l.g=new Map,l.h=0,l.i&&mC(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Va.prototype,t.add=function(l,p){fi(this),this.i=null,l=so(this,l);let y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function av(l,p){fi(l),p=so(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function lv(l,p){return fi(l),p=so(l,p),l.g.has(p)}t.forEach=function(l,p){fi(this),this.g.forEach(function(y,I){y.forEach(function(F){l.call(p,F,I,this)},this)},this)};function cv(l,p){fi(l);let y=[];if(typeof p=="string")lv(l,p)&&(y=y.concat(l.g.get(so(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)y=y.concat(l[p]);return y}t.set=function(l,p){return fi(this),this.i=null,l=so(this,l),lv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=cv(this,l),l.length>0?String(l[0]):p):p};function uv(l,p,y){av(l,p),y.length>0&&(l.i=null,l.g.set(so(l,p),m(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let I=0;I<p.length;I++){var y=p[I];const F=ka(y);y=cv(this,y);for(let U=0;U<y.length;U++){let Y=F;y[U]!==""&&(Y+="="+ka(y[U])),l.push(Y)}}return this.i=l.join("&")};function dv(l){const p=new Va;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function so(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function xC(l,p){p&&!l.j&&(fi(l),l.i=null,l.g.forEach(function(y,I){const F=I.toLowerCase();I!=F&&(av(this,I),uv(this,F,y))},l)),l.j=p}function EC(l,p){const y=new se;if(o.Image){const I=new Image;I.onload=h(Jr,y,"TestLoadImage: loaded",!0,p,I),I.onerror=h(Jr,y,"TestLoadImage: error",!1,p,I),I.onabort=h(Jr,y,"TestLoadImage: abort",!1,p,I),I.ontimeout=h(Jr,y,"TestLoadImage: timeout",!1,p,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else p(!1)}function TC(l,p){const y=new se,I=new AbortController,F=setTimeout(()=>{I.abort(),Jr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:I.signal}).then(U=>{clearTimeout(F),U.ok?Jr(y,"TestPingServer: ok",!0,p):Jr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Jr(y,"TestPingServer: error",!1,p)})}function Jr(l,p,y,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(y)}catch{}}function bC(){this.g=new to}function Gh(l){this.i=l.Sb||null,this.h=l.ab||!1}f(Gh,Nc),Gh.prototype.g=function(){return new Lc(this.i,this.h)};function Lc(l,p){Le.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Lc,Le),t=Lc.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,Ua(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hv(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function hv(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Fa(this):Ua(this),this.readyState==3&&hv(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Fa(this))},t.Na=function(l){this.g&&(this.response=l,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Ua(l)}t.setRequestHeader=function(l,p){this.A.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Ua(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function fv(l){let p="";return M(l,function(y,I){p+=I,p+=":",p+=y,p+=`\r
`}),p}function Kh(l,p,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=fv(y),typeof l=="string"?y!=null&&ka(y):Ne(l,p,y))}function $e(l){Le.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f($e,Le);var SC=/^https?$/i,IC=["POST","PUT"];t=$e.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,p,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wn.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(U){pv(this,U);return}if(l=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)y.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const U of I.keys())y.set(U,I.get(U));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),F=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(IC,p,void 0)>=0)||I||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Y]of y)this.g.setRequestHeader(U,Y);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(U){pv(this,U)}};function pv(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,mv(l),Mc(l)}function mv(l){l.A||(l.A=!0,at(l,"complete"),at(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,at(this,"complete"),at(this,"abort"),Mc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mc(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?gv(this):this.Xa())},t.Xa=function(){gv(this)};function gv(l){if(l.h&&typeof i<"u"){if(l.v&&Zr(l)==4)setTimeout(l.Ca.bind(l),0);else if(at(l,"readystatechange"),Zr(l)==4){l.h=!1;try{const U=l.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var I;if(I=U===0){let Y=String(l.D).match(iv)[1]||null;!Y&&o.self&&o.self.location&&(Y=o.self.location.protocol.slice(0,-1)),I=!SC.test(Y?Y.toLowerCase():"")}y=I}if(y)at(l,"complete"),at(l,"success");else{l.o=6;try{var F=Zr(l)>2?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.ca()+"]",mv(l)}}finally{Mc(l)}}}}function Mc(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const y=l.g;l.g=null,p||at(l,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Zr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Vh(p)}};function yv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function CC(l){const p={};l=(l.g&&Zr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(P(l[I]))continue;var y=dC(l[I]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=p[F]||[];p[F]=U,U.push(y)}O(p,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function vv(l){this.za=0,this.i=[],this.j=new se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$a("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$a("baseRetryDelayMs",5e3,l),this.Za=$a("retryDelaySeedMs",1e4,l),this.Ta=$a("forwardChannelMaxRetries",2,l),this.va=$a("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new ev(l&&l.concurrentRequestLimit),this.Ba=new bC,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vv.prototype,t.ka=8,t.I=1,t.connect=function(l,p,y,I){tt(0),this.W=l,this.H=p||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.J=Cv(this,null,this.W),Fc(this)};function Qh(l){if(_v(l),l.I==3){var p=l.V++,y=Gn(l.J);if(Ne(y,"SID",l.M),Ne(y,"RID",p),Ne(y,"TYPE","terminate"),Ba(l,y),p=new Yr(l,l.j,p),p.M=2,p.A=jc(Gn(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=p.A,y=!0),y||(p.g=Av(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Oc(p)}Iv(l)}function Vc(l){l.g&&(Xh(l),l.g.cancel(),l.g=null)}function _v(l){Vc(l),l.v&&(o.clearTimeout(l.v),l.v=null),Uc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Fc(l){if(!tv(l.h)&&!l.m){l.m=!0;var p=l.Ea;j||T(),L||(j(),L=!0),S.add(p,l),l.D=0}}function AC(l,p){return nv(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=di(u(l.Ea,l,p),Sv(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const F=new Yr(this,this.j,l);let U=this.o;if(this.U&&(U?(U=V(U),q(U,this.U)):U=this.U),this.u!==null||this.R||(F.J=U,U=null),this.S)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,p>4096){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=xv(this,F,p),y=Gn(this.J),Ne(y,"RID",l),Ne(y,"CVER",22),this.G&&Ne(y,"X-HTTP-Session-Id",this.G),Ba(this,y),U&&(this.R?p="headers="+ka(fv(U))+"&"+p:this.u&&Kh(y,this.u,U)),Hh(this.h,F),this.Ra&&Ne(y,"TYPE","init"),this.S?(Ne(y,"$req",p),Ne(y,"SID","null"),F.U=!0,$h(F,y,null)):$h(F,y,p),this.I=2}}else this.I==3&&(l?wv(this,l):this.i.length==0||tv(this.h)||wv(this))};function wv(l,p){var y;p?y=p.l:y=l.V++;const I=Gn(l.J);Ne(I,"SID",l.M),Ne(I,"RID",y),Ne(I,"AID",l.K),Ba(l,I),l.u&&l.o&&Kh(I,l.u,l.o),y=new Yr(l,l.j,y,l.D+1),l.u===null&&(y.J=l.o),p&&(l.i=p.G.concat(l.i)),p=xv(l,y,1e3),y.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Hh(l.h,y),$h(y,I,p)}function Ba(l,p){l.H&&M(l.H,function(y,I){Ne(p,I,y)}),l.l&&M({},function(y,I){Ne(p,I,y)})}function xv(l,p,y){y=Math.min(l.i.length,y);const I=l.l?u(l.l.Ka,l.l,l):null;e:{var F=l.i;let he=-1;for(;;){const nt=["count="+y];he==-1?y>0?(he=F[0].g,nt.push("ofs="+he)):he=0:nt.push("ofs="+he);let Ie=!0;for(let ct=0;ct<y;ct++){var U=F[ct].g;const Kn=F[ct].map;if(U-=he,U<0)he=Math.max(0,F[ct].g-100),Ie=!1;else try{U="req"+U+"_"||"";try{var Y=Kn instanceof Map?Kn:Object.entries(Kn);for(const[mi,es]of Y){let ts=es;a(es)&&(ts=Ra(es)),nt.push(U+mi+"="+encodeURIComponent(ts))}}catch(mi){throw nt.push(U+"type="+encodeURIComponent("_badmap")),mi}}catch{I&&I(Kn)}}if(Ie){Y=nt.join("&");break e}}Y=void 0}return l=l.i.splice(0,y),p.G=l,Y}function Ev(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;j||T(),L||(j(),L=!0),S.add(p,l),l.A=0}}function Yh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=di(u(l.Da,l),Sv(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Tv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=di(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),Vc(this),Tv(this))};function Xh(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Tv(l){l.g=new Yr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=Gn(l.na);Ne(p,"RID","rpc"),Ne(p,"SID",l.M),Ne(p,"AID",l.K),Ne(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ne(p,"TO",l.ia),Ne(p,"TYPE","xmlhttp"),Ba(l,p),l.u&&l.o&&Kh(p,l.u,l.o),l.O&&(l.g.H=l.O);var y=l.g;l=l.ba,y.M=1,y.A=jc(Gn(p)),y.u=null,y.R=!0,Xy(y,l)}t.Va=function(){this.C!=null&&(this.C=null,Vc(this),Yh(this),tt(19))};function Uc(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function bv(l,p){var y=null;if(l.g==p){Uc(l),Xh(l),l.g=null;var I=2}else if(Wh(l.h,p))y=p.G,rv(l.h,p),I=1;else return;if(l.I!=0){if(p.o)if(I==1){y=p.u?p.u.length:0,p=Date.now()-p.F;var F=l.D;I=ro(),at(I,new _n(I,y)),Fc(l)}else Ev(l);else if(F=p.m,F==3||F==0&&p.X>0||!(I==1&&AC(l,p)||I==2&&Yh(l)))switch(y&&y.length>0&&(p=l.h,p.i=p.i.concat(y)),F){case 1:pi(l,5);break;case 4:pi(l,10);break;case 3:pi(l,6);break;default:pi(l,2)}}}function Sv(l,p){let y=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(y*=2),y*p}function pi(l,p){if(l.j.info("Error code "+p),p==2){var y=u(l.bb,l),I=l.Ua;const F=!I;I=new Xr(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Oa(I,"https"),jc(I),F?EC(I.toString(),y):TC(I.toString(),y)}else tt(2);l.I=0,l.l&&l.l.pa(p),Iv(l),_v(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Iv(l){if(l.I=0,l.ja=[],l.l){const p=sv(l.h);(p.length!=0||l.i.length!=0)&&(b(l.ja,p),b(l.ja,l.i),l.h.i.length=0,m(l.i),l.i.length=0),l.l.oa()}}function Cv(l,p,y){var I=y instanceof Xr?Gn(y):new Xr(y);if(I.g!="")p&&(I.g=p+"."+I.g),ja(I,I.u);else{var F=o.location;I=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;const U=new Xr(null);I&&Oa(U,I),p&&(U.g=p),F&&ja(U,F),y&&(U.h=y),I=U}return y=l.G,p=l.wa,y&&p&&Ne(I,y,p),Ne(I,"VER",l.ka),Ba(l,I),I}function Av(l,p,y){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new $e(new Gh({ab:y})):new $e(l.ma),p.Fa(l.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rv(){}t=Rv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $c(){}$c.prototype.g=function(l,p){return new Qt(l,p)};function Qt(l,p){Le.call(this),this.g=new vv(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!P(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!P(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new io(this)}f(Qt,Le),Qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Qh(this.g)},Qt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.v&&(y={},y.__data__=Ra(l),l=y);p.i.push(new pC(p.Ya++,l)),p.I==3&&Fc(p)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Qh(this.g),delete this.g,Qt.Z.N.call(this)};function Pv(l){Hn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}f(Pv,Hn);function Nv(){no.call(this),this.status=1}f(Nv,no);function io(l){this.g=l}f(io,Rv),io.prototype.ra=function(){at(this.g,"a")},io.prototype.qa=function(l){at(this.g,new Pv(l))},io.prototype.pa=function(l){at(this.g,new Nv)},io.prototype.oa=function(){at(this.g,"b")},$c.prototype.createWebChannel=$c.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,vS=function(){return new $c},yS=function(){return ro()},gS=Mt,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,Fu=an,Vt.COMPLETE="complete",mS=Vt,Pa.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",Le.prototype.listen=Le.prototype.J,ll=Pa,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,pS=$e}).apply(typeof fu<"u"?fu:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore",c0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Kg("@firebase/firestore");function ao(){return zi.logLevel}function Z(t,...e){if(zi.logLevel<=me.DEBUG){const n=e.map(iy);zi.debug(`Firestore (${Ea}): ${t}`,...n)}}function Wr(t,...e){if(zi.logLevel<=me.ERROR){const n=e.map(iy);zi.error(`Firestore (${Ea}): ${t}`,...n)}}function sa(t,...e){if(zi.logLevel<=me.WARN){const n=e.map(iy);zi.warn(`Firestore (${Ea}): ${t}`,...n)}}function iy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_S(t,r,n)}function _S(t,e,n){let r=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wr(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||_S(e,s,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class j4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class L4{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Us,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Us)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new wS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new bt(e)}}class M4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new M4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new u0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new u0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=U4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function hm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Bf(s)===Bf(i)?ge(s,i):Bf(s)?1:-1}return ge(t.length,e.length)}const $4=55296,B4=57343;function Bf(t){const e=t.charCodeAt(0);return e>=$4&&e<=B4}function ia(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="__name__";class Xn{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Xn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ge(e.length,n.length)}static compareSegments(e,n){const r=Xn.isNumericId(e),s=Xn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Xn.extractNumericId(e).compare(Xn.extractNumericId(n)):hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class Re extends Xn{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const z4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Xn{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return z4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d0}static keyField(){return new mt([d0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Re.fromString(e))}static fromName(e){return new te(Re.fromString(e).popFirst(5))}static empty(){return new te(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e,n){if(!n)throw new J(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function W4(t,e,n,r){if(e===!0&&r===!0)throw new J(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h0(t){if(!te.isDocumentKey(t))throw new J(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f0(t){if(te.isDocumentKey(t))throw new J(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ES(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(t);throw new J(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e){const n={typeString:t};return e&&(n.value=e),n}function bc(t,e){if(!ES(t))throw new J(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=-62135596800,m0=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*m0);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<p0)throw new J(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m0}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bc(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:et("string",Ce._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Ce(0,0))}static max(){return new le(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function H4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new Qs(s,te.empty(),e)}function q4(t){return new Qs(t.readTime,t.key,nc)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(le.min(),te.empty(),nc)}static max(){return new Qs(le.max(),te.empty(),nc)}}function G4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==K4)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Y4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ba(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-1;function Th(t){return t==null}function Nd(t){return t===0&&1/t==-1/0}function X4(t){return typeof t=="number"&&Number.isInteger(t)&&!Nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="";function J4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g0(e)),e=Z4(t.get(n),e);return g0(e)}function Z4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case TS:n+="";break;default:n+=i}}return n}function g0(t){return t+TS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pt.RED,this.left=s??pt.EMPTY,this.right=i??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(e){return new v0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class v0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new ot(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new SS("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const eV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=eV.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="server_timestamp",CS="__type__",AS="__previous_value__",RS="__local_write_time__";function ly(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CS])==null?void 0:r.stringValue)===IS}function bh(t){const e=t.mapValue.fields[AS];return ly(e)?bh(e):e}function rc(t){const e=Ys(t.mapValue.fields[RS].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,r,s,i,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const kd="(default)";class sc{constructor(e,n){this.projectId=e,this.database=n||kd}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===kd}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="__type__",NS="__max__",mu={mapValue:{fields:{__type__:{stringValue:NS}}}},kS="__vector__",Dd="value";function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ly(t)?4:rV(t)?9007199254740991:nV(t)?10:11:oe(28295,{value:t})}function gr(t,e){if(t===e)return!0;const n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rc(t).isEqual(rc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ys(s.timestampValue),a=Ys(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Xs(s.bytesValue).isEqual(Xs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ge(s.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(s.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ge(s.integerValue)===Ge(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ge(s.doubleValue),a=Ge(i.doubleValue);return o===a?Nd(o)===Nd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ia(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(y0(o)!==y0(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!gr(o[c],a[c])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function ic(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function oa(t,e){if(t===e)return 0;const n=Js(t),r=Js(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ge(i.integerValue||i.doubleValue),c=Ge(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return _0(t.timestampValue,e.timestampValue);case 4:return _0(rc(t),rc(e));case 5:return hm(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Xs(i),c=Xs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=ge(a[u],c[u]);if(h!==0)return h}return ge(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ge(Ge(i.latitude),Ge(o.latitude));return a!==0?a:ge(Ge(i.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return w0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,m,b,w;const a=i.fields||{},c=o.fields||{},u=(g=a[Dd])==null?void 0:g.arrayValue,h=(m=c[Dd])==null?void 0:m.arrayValue,f=ge(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return f!==0?f:w0(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===mu.mapValue&&o===mu.mapValue)return 0;if(i===mu.mapValue)return 1;if(o===mu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const g=hm(c[f],h[f]);if(g!==0)return g;const m=oa(a[c[f]],u[h[f]]);if(m!==0)return m}return ge(c.length,h.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function _0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=Ys(t),r=Ys(e),s=ge(n.seconds,r.seconds);return s!==0?s:ge(n.nanos,r.nanos)}function w0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=oa(n[s],r[s]);if(i)return i}return ge(n.length,r.length)}function aa(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fm(n.fields[o])}`;return s+"}"}(t.mapValue):oe(61005,{value:t})}function Uu(t){switch(Js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(t);return e?16+Uu(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Uu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xi(r.fields,(i,o)=>{s+=i.length+Uu(o)}),s}(t.mapValue);default:throw oe(13486,{value:t})}}function x0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pm(t){return!!t&&"integerValue"in t}function cy(t){return!!t&&"arrayValue"in t}function E0(t){return!!t&&"nullValue"in t}function T0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $u(t){return!!t&&"mapValue"in t}function nV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PS])==null?void 0:r.stringValue)===kS}function Sl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return{...t}}function rV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$u(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Sl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());$u(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];$u(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new hn(Sl(this.value))}}function DS(t){const e=[];return Xi(t.fields,(n,r)=>{const s=new mt([n]);if($u(r)){const i=DS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,le.min(),le.min(),le.min(),hn.empty(),0)}static newFoundDocument(e,n,r,s){return new It(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new It(e,2,n,le.min(),le.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,le.min(),le.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.position=e,this.inclusive=n}}function b0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=oa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function S0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function sV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{}class Ze extends OS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oV(e,n,r):n==="array-contains"?new cV(e,r):n==="in"?new uV(e,r):n==="not-in"?new dV(e,r):n==="array-contains-any"?new hV(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aV(e,r):new lV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oa(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends OS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Un(e,n)}matches(e){return jS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jS(t){return t.op==="and"}function LS(t){return iV(t)&&jS(t)}function iV(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function mm(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+aa(t.value);if(LS(t))return t.filters.map(e=>mm(e)).join(",");{const e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function MS(t,e){return t instanceof Ze?function(r,s){return s instanceof Ze&&r.op===s.op&&r.field.isEqual(s.field)&&gr(r.value,s.value)}(t,e):t instanceof Un?function(r,s){return s instanceof Un&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&MS(o,s.filters[a]),!0):!1}(t,e):void oe(19439)}function VS(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${aa(n.value)}`}(t):t instanceof Un?function(n){return n.op.toString()+" {"+n.getFilters().map(VS).join(" ,")+"}"}(t):"Filter"}class oV extends Ze{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class aV extends Ze{constructor(e,n){super(e,"in",n),this.keys=FS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lV extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=FS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class cV extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cy(n)&&ic(n.arrayValue,this.value)}}class uV extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ic(this.value.arrayValue,n)}}class dV extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ic(this.value.arrayValue,n)}}class hV extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function I0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new fV(t,e,n,r,s,i,o)}function uy(t){const e=ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>aa(r)).join(",")),e.Te=n}return e.Te}function dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S0(t.startAt,e.startAt)&&S0(t.endAt,e.endAt)}function gm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pV(t,e,n,r,s,i,o,a){return new Sc(t,e,n,r,s,i,o,a)}function Sh(t){return new Sc(t)}function C0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function US(t){return t.collectionGroup!==null}function Il(t){const e=ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new jd(i,r))}),n.has(mt.keyField().canonicalString())||e.Ie.push(new jd(mt.keyField(),r))}return e.Ie}function dr(t){const e=ce(t);return e.Ee||(e.Ee=mV(e,Il(t))),e.Ee}function mV(t,e){if(t.limitType==="F")return I0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new jd(s.field,i)});const n=t.endAt?new Od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Od(t.startAt.position,t.startAt.inclusive):null;return I0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ym(t,e){const n=t.filters.concat([e]);return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vm(t,e,n){return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return dy(dr(t),dr(e))&&t.limitType===e.limitType}function $S(t){return`${uy(dr(t))}|lt:${t.limitType}`}function lo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>VS(s)).join(", ")}]`),Th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>aa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>aa(s)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function Ch(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Il(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=b0(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Il(r),s)||r.endAt&&!function(o,a,c){const u=b0(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Il(r),s))}(t,e)}function gV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BS(t){return(e,n)=>{let r=!1;for(const s of Il(t)){const i=yV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function yV(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?oa(c,u):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return bS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=new Ue(te.comparator);function Hr(){return vV}const zS=new Ue(te.comparator);function cl(...t){let e=zS;for(const n of t)e=e.insert(n.key,n);return e}function WS(t){let e=zS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return Cl()}function HS(){return Cl()}function Cl(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const _V=new Ue(te.comparator),wV=new ot(te.comparator);function ye(...t){let e=wV;for(const n of t)e=e.add(n);return e}const xV=new ot(ge);function EV(){return xV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function qS(t){return{integerValue:""+t}}function TV(t,e){return X4(e)?qS(e):hy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function bV(t,e,n){return t instanceof oc?function(s,i){const o={fields:{[CS]:{stringValue:IS},[RS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ly(i)&&(i=bh(i)),i&&(o.fields[AS]=i),{mapValue:o}}(n,e):t instanceof ac?KS(t,e):t instanceof lc?QS(t,e):function(s,i){const o=GS(s,i),a=A0(o)+A0(s.Ae);return pm(o)&&pm(s.Ae)?qS(a):hy(s.serializer,a)}(t,e)}function SV(t,e,n){return t instanceof ac?KS(t,e):t instanceof lc?QS(t,e):n}function GS(t,e){return t instanceof Ld?function(r){return pm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class oc extends Ah{}class ac extends Ah{constructor(e){super(),this.elements=e}}function KS(t,e){const n=YS(e);for(const r of t.elements)n.some(s=>gr(s,r))||n.push(r);return{arrayValue:{values:n}}}class lc extends Ah{constructor(e){super(),this.elements=e}}function QS(t,e){let n=YS(e);for(const r of t.elements)n=n.filter(s=>!gr(s,r));return{arrayValue:{values:n}}}class Ld extends Ah{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function A0(t){return Ge(t.integerValue||t.doubleValue)}function YS(t){return cy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.field=e,this.transform=n}}function CV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ac&&s instanceof ac||r instanceof lc&&s instanceof lc?ia(r.elements,s.elements,gr):r instanceof Ld&&s instanceof Ld?gr(r.Ae,s.Ae):r instanceof oc&&s instanceof oc}(t.transform,e.transform)}class AV{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function XS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fy(t.key,On.none()):new Ic(t.key,t.data,On.none());{const n=t.data,r=hn.empty();let s=new ot(mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Zi(t.key,r,new Nn(s.toArray()),On.none())}}function RV(t,e,n){t instanceof Ic?function(s,i,o){const a=s.value.clone(),c=P0(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(s,i,o){if(!Bu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=P0(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(JS(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Al(t,e,n,r){return t instanceof Ic?function(i,o,a,c){if(!Bu(i.precondition,o))return a;const u=i.value.clone(),h=N0(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(i,o,a,c){if(!Bu(i.precondition,o))return a;const u=N0(i.fieldTransforms,c,o),h=o.data;return h.setAll(JS(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Bu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function PV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=GS(r.transform,s||null);i!=null&&(n===null&&(n=hn.empty()),n.set(r.field,i))}return n||null}function R0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ia(r,s,(i,o)=>CV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ic extends Rh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zi extends Rh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P0(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,SV(o,a,n[s]))}return r}function N0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,bV(i,o,e))}return r}class fy extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NV extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&RV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=XS(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(n,r)=>R0(n,r))&&ia(this.baseMutations,e.baseMutations,(n,r)=>R0(n,r))}}class py{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return _V}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new py(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,ve;function jV(t){switch(t){case W.OK:return oe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function ZS(t){if(t===void 0)return Wr("GRPC error has no .code"),W.UNKNOWN;switch(t){case Xe.OK:return W.OK;case Xe.CANCELLED:return W.CANCELLED;case Xe.UNKNOWN:return W.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return W.INTERNAL;case Xe.UNAVAILABLE:return W.UNAVAILABLE;case Xe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Xe.NOT_FOUND:return W.NOT_FOUND;case Xe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Xe.ABORTED:return W.ABORTED;case Xe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Xe.DATA_LOSS:return W.DATA_LOSS;default:return oe(39323,{code:t})}}(ve=Xe||(Xe={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=new Fs([4294967295,4294967295],0);function k0(t){const e=LV().encode(t),n=new fS;return n.update(e),new Uint8Array(n.digest())}function D0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fs([n,r],0),new Fs([s,i],0)]}class my{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ul(`Invalid padding: ${n}`);if(r<0)throw new ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Fs.fromNumber(r)));return s.compare(MV)===1&&(s=new Fs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=k0(e),[r,s]=D0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new my(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=k0(e),[r,s]=D0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(le.min(),s,new Ue(ge),Hr(),ye())}}class Cc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cc(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class eI{constructor(e,n){this.targetId=e,this.Ce=n}}class tI{constructor(e,n,r=vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class O0{constructor(){this.ve=0,this.Fe=j0(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ye(),n=ye(),r=ye();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:i})}}),new Cc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=j0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hr(),this.Je=gu(),this.He=gu(),this.Ye=new Ue(ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(gm(i))if(r===0){const o=new te(i.path);this.et(n,o,It.newNoDocument(o,le.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Xs(r).toUint8Array()}catch(c){if(c instanceof SS)return sa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new my(o,s,i)}catch(c){return sa(c instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&gm(a.target)){const c=new te(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,It.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ye();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ph(e,n,this.Ye,this.je,r);return this.je=Hr(),this.Je=gu(),this.He=gu(),this.Ye=new Ue(ge),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new O0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ot(ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ot(ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new O0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gu(){return new Ue(te.comparator)}function j0(){return new Ue(te.comparator)}const FV={asc:"ASCENDING",desc:"DESCENDING"},UV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$V={and:"AND",or:"OR"};class BV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _m(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function Md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zV(t,e){return Md(t,e.toTimestamp())}function hr(t){return Te(!!t,49232),le.fromTimestamp(function(n){const r=Ys(n);return new Ce(r.seconds,r.nanos)}(t))}function gy(t,e){return wm(t,e).canonicalString()}function wm(t,e){const n=function(s){return new Re(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rI(t){const e=Re.fromString(t);return Te(lI(e),10190,{key:e.toString()}),e}function xm(t,e){return gy(t.databaseId,e.path)}function zf(t,e){const n=rI(e);if(n.get(1)!==t.databaseId.projectId)throw new J(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(iI(n))}function sI(t,e){return gy(t.databaseId,e)}function WV(t){const e=rI(t);return e.length===4?Re.emptyPath():iI(e)}function Em(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iI(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function L0(t,e,n){return{name:xm(t,e),fields:n.value.mapValue.fields}}function HV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Te(h===void 0||typeof h=="string",58123),vt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?W.UNKNOWN:ZS(u.code);return new J(h,u.message||"")}(o);n=new tI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zf(t,r.document.name),i=hr(r.document.updateTime),o=r.document.createTime?hr(r.document.createTime):le.min(),a=new hn({mapValue:{fields:r.document.fields}}),c=It.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new zu(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zf(t,r.document),i=r.readTime?hr(r.readTime):le.min(),o=It.newNoDocument(s,i),a=r.removedTargetIds||[];n=new zu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zf(t,r.document),i=r.removedTargetIds||[];n=new zu([],i,s,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new OV(s,i),a=r.targetId;n=new eI(a,o)}}return n}function qV(t,e){let n;if(e instanceof Ic)n={update:L0(t,e.key,e.value)};else if(e instanceof fy)n={delete:xm(t,e.key)};else if(e instanceof Zi)n={update:L0(t,e.key,e.data),updateMask:tF(e.fieldMask)};else{if(!(e instanceof NV))return oe(16599,{Vt:e.type});n={verify:xm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ld)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:zV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)}(t,e.precondition)),n}function GV(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?hr(s.updateTime):hr(i);return o.isEqual(le.min())&&(o=hr(i)),new AV(o,s.transformResults||[])}(n,e))):[]}function KV(t,e){return{documents:[sI(t,e.path)]}}function QV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sI(t,s);const i=function(u){if(u.length!==0)return aI(Un.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:co(g.field),direction:JV(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=_m(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function YV(t){let e=WV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const g=oI(f);return g instanceof Un&&LS(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(b){return new jd(uo(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Th(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){const g=!!f.before,m=f.values||[];return new Od(m,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const g=!f.before,m=f.values||[];return new Od(m,g)}(n.endAt)),pV(e,s,o,i,a,"F",c,u)}function XV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uo(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=uo(n.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=uo(n.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uo(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(uo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Un.create(n.compositeFilter.filters.map(r=>oI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function JV(t){return FV[t]}function ZV(t){return UV[t]}function eF(t){return $V[t]}function co(t){return{fieldPath:t.canonicalString()}}function uo(t){return mt.fromServerFormat(t.fieldPath)}function aI(t){return t instanceof Ze?function(n){if(n.op==="=="){if(T0(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(E0(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T0(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(E0(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:ZV(n.op),value:n.value}}}(t):t instanceof Un?function(n){const r=n.getFilters().map(s=>aI(s));return r.length===1?r[0]:{compositeFilter:{op:eF(n.op),filters:r}}}(t):oe(54877,{filter:t})}function tF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,s,i=le.min(),o=le.min(),a=vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.yt=e}}function rF(t){const e=YV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.Cn=new iF}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Qs.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class iF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ot(Re.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ot(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cI=41943040;class Ut{static withCacheSize(e){return new Ut(e,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(cI,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new la(0)}static cr(){return new la(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="LruGarbageCollector",oF=1048576;function F0([t,e],[n,r]){const s=ge(t,n);return s===0?ge(e,r):s}class aF{constructor(e){this.Ir=e,this.buffer=new ot(F0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();F0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(V0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ba(n)?Z(V0,"Ignoring IndexedDB error during garbage collection: ",n):await Ta(n)}await this.Vr(3e5)})}}class cF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Eh.ce);const r=new aF(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(M0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ao()<=me.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function uF(t,e){return new cF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Al(r.mutation,s,Nn.empty(),Ce.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const s=Ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=cl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Hr();const o=Cl(),a=function(){return Cl()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Zi)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Al(h.mutation,u,h.mutation.getFieldMask(),Ce.now())):o.set(u.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new hF(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Cl();let s=new Ue((o,a)=>o-a),i=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Nn.empty();h=a.applyToLocalView(u,h),r.set(c,h);const f=(s.get(a.batchId)||ye()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,f=HS();h.forEach(g=>{if(!i.has(g)){const m=XS(n.get(g),r.get(g));m!==null&&f.set(g,m),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):US(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Ei());let a=nc,c=i;return o.next(u=>H.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ye())).next(h=>({batchId:a,changes:WS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=cl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=cl();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,c=>{const u=function(f,g){return new Sc(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,It.newInvalidDocument(h)))});let a=cl();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&Al(h.mutation,u,Nn.empty(),Ce.now()),Ch(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:hr(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:rF(s.bundledQuery),readTime:hr(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.overlays=new Ue(te.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Ei(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Ei(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ei(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return H.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new DV(n,r));let i=this.qr.get(n);i===void 0&&(i=ye(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.Qr=new ot(ut.$r),this.Ur=new ot(ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ut(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new Re([])),r=new ut(n,e),s=new ut(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Re([])),r=new ut(n,e),s=new ut(n,e+1);let i=ye();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||ge(e.Yr,n.Yr)}static Kr(e,n){return ge(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ot(ut.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new ut(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?ay:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),s=new ut(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(ge);return n.forEach(s=>{const i=new ut(s,0),o=new ut(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new ut(new te(i),0);let a=new ot(ge);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Yr)),!0)},o),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,s=>{const i=new ut(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ut(n,0),s=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.ri=e,this.docs=function(){return new Ue(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():It.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hr();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||G4(q4(h),r)<=0||(s.has(h.key)||Ch(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _F(this)}getSize(e){return H.resolve(this.size)}}class _F extends dF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.persistence=e,this.si=new Ji(n=>uy(n),dy),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.oi=0,this._i=new yy,this.targetCount=0,this.ai=la.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new la(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new gF,this.referenceDelegate=e(this),this.Pi=new wF(this),this.indexManager=new sF,this.remoteDocumentCache=function(s){return new vF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new nF(n),this.Ii=new pF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new yF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new xF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class xF extends Q4{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Ri=new yy,this.Vi=null}static mi(e){return new vy(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,le.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vd{constructor(e,n){this.persistence=e,this.pi=new Ji(r=>J4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=uF(this,n)}static mi(e,n){return new Vd(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,le.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uu(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ye(),s=ye();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new _y(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return nj()?8:Y4(At())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new EF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ao()<=me.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(ao()<=me.DEBUG&&Z("QueryEngine","Query:",lo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ao()<=me.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):H.resolve())}ys(e,n){if(C0(n))return H.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=vm(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ye(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,vm(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return C0(n)||s.isEqual(le.min())?H.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?H.resolve(null):(ao()<=me.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),lo(n)),this.vs(e,o,n,H4(s,nc)).next(a=>a))})}Ds(e,n){let r=new ot(BS(e));return n.forEach((s,i)=>{Ch(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ao()<=me.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="LocalStore",bF=3e8;class SF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ue(ge),this.xs=new Ji(i=>uy(i),dy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function IF(t,e,n,r){return new SF(t,e,n,r)}async function dI(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=ye();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function CF(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const f=u.batch,g=f.keys();let m=H.resolve();return g.forEach(b=>{m=m.next(()=>h.getEntry(c,b)).next(w=>{const x=u.docVersions.get(b);Te(x!==null,48541),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ye();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function hI(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function AF(t,e){const n=ce(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const g=s.get(f);if(!g)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let m=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(vt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(f,m),function(w,x,_){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=bF?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,m,h)&&a.push(n.Pi.updateTargetData(i,m))});let c=Hr(),u=ye();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(RF(i,o,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!r.isEqual(le.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function RF(t,e,n){let r=ye(),s=ye();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Hr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Z(wy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function PF(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ay),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NF(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Tm(t,e,n){const r=ce(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ba(o))throw o;Z(wy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function U0(t,e,n){const r=ce(t);let s=le.min(),i=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=ce(c),g=f.xs.get(h);return g!==void 0?H.resolve(f.Ms.get(g)):f.Pi.getTargetData(u,h)}(r,o,dr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:le.min(),n?i:ye())).next(a=>(kF(r,gV(e),a),{documents:a,Qs:i})))}function kF(t,e,n){let r=t.Os.get(e)||le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class $0{constructor(){this.activeTargetIds=EV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DF{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="ConnectivityMonitor";class z0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(B0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(B0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu=null;function bm(){return yu===null?yu=function(){return 268435456+Math.round(2147483648*Math.random())}():yu++,"0x"+yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="RestConnection",jF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===kd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=bm(),a=this.zo(e,n.toUriEncodedString());Z(Wf,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(a),h=oi(u);return this.Jo(e,a,c,r,h).then(f=>(Z(Wf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw sa(Wf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=jF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class VF extends LF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=bm();return new Promise((a,c)=>{const u=new pS;u.setWithCredentials(!0),u.listenOnce(mS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Fu.NO_ERROR:const f=u.getResponseJson();Z(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Fu.TIMEOUT:Z(Et,`RPC '${e}' ${o} timed out`),c(new J(W.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const g=u.getStatus();if(Z(Et,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const b=m==null?void 0:m.error;if(b&&b.status&&b.message){const w=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(v)>=0?v:W.UNKNOWN}(b.status);c(new J(w,b.message))}else c(new J(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new J(W.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Z(Et,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(Et,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=bm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vS(),a=yS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Z(Et,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let g=!1,m=!1;const b=new MF({Yo:x=>{m?Z(Et,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(g||(Z(Et,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),Z(Et,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Zo:()=>f.close()}),w=(x,_,v)=>{x.listen(_,E=>{try{v(E)}catch(D){setTimeout(()=>{throw D},0)}})};return w(f,ll.EventType.OPEN,()=>{m||(Z(Et,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),w(f,ll.EventType.CLOSE,()=>{m||(m=!0,Z(Et,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(f))}),w(f,ll.EventType.ERROR,x=>{m||(m=!0,sa(Et,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),b.a_(new J(W.UNAVAILABLE,"The operation could not be completed")))}),w(f,ll.EventType.MESSAGE,x=>{var _;if(!m){const v=x.data[0];Te(!!v,16349);const E=v,D=(E==null?void 0:E.error)||((_=E[0])==null?void 0:_.error);if(D){Z(Et,`RPC '${e}' stream ${s} received error:`,D);const j=D.status;let L=function(A){const R=Xe[A];if(R!==void 0)return ZS(R)}(j),S=D.message;L===void 0&&(L=W.INTERNAL,S="Unknown error status: "+j+" with message "+D.message),m=!0,b.a_(new J(L,S)),f.close()}else Z(Et,`RPC '${e}' stream ${s} received:`,v),b.u_(v)}}),w(a,gS.STAT_EVENT,x=>{x.stat===dm.PROXY?Z(Et,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===dm.NOPROXY&&Z(Et,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){return new BV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="PersistentStream";class pI{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new J(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(W0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FF extends pI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HV(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?hr(o.readTime):le.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Em(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=gm(c)?{documents:KV(i,c)}:{query:QV(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nI(i,o.resumeToken);const u=_m(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Md(i,o.snapshotVersion.toTimestamp());const u=_m(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=XV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Em(this.serializer),n.removeTarget=e,this.q_(n)}}class UF extends pI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GV(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Em(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{}class BF extends $F{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,wm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(W.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,wm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(W.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class zF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wr(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="RemoteStore";class WF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{eo(this)&&(Z(Wi,"Restarting streams for network reachability change."),await async function(c){const u=ce(c);u.Ea.add(4),await Ac(u),u.Ra.set("Unknown"),u.Ea.delete(4),await kh(u)}(this))})}),this.Ra=new zF(r,s)}}async function kh(t){if(eo(t))for(const e of t.da)await e(!0)}async function Ac(t){for(const e of t.da)await e(!1)}function mI(t,e){const n=ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),by(n)?Ty(n):Sa(n).O_()&&Ey(n,e))}function xy(t,e){const n=ce(t),r=Sa(n);n.Ia.delete(e),r.O_()&&gI(n,e),n.Ia.size===0&&(r.O_()?r.L_():eo(n)&&n.Ra.set("Unknown"))}function Ey(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sa(t).Y_(e)}function gI(t,e){t.Va.Ue(e),Sa(t).Z_(e)}function Ty(t){t.Va=new VV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sa(t).start(),t.Ra.ua()}function by(t){return eo(t)&&!Sa(t).x_()&&t.Ia.size>0}function eo(t){return ce(t).Ea.size===0}function yI(t){t.Va=void 0}async function HF(t){t.Ra.set("Online")}async function qF(t){t.Ia.forEach((e,n)=>{Ey(t,e)})}async function GF(t,e){yI(t),by(t)?(t.Ra.ha(e),Ty(t)):t.Ra.set("Unknown")}async function KF(t,e,n){if(t.Ra.set("Online"),e instanceof tI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Z(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fd(t,r)}else if(e instanceof zu?t.Va.Ze(e):e instanceof eI?t.Va.st(e):t.Va.tt(e),!n.isEqual(le.min()))try{const r=await hI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),gI(i,c);const f=new Is(h.target,c,u,h.sequenceNumber);Ey(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(Wi,"Failed to raise snapshot:",r),await Fd(t,r)}}async function Fd(t,e,n){if(!ba(e))throw e;t.Ea.add(1),await Ac(t),t.Ra.set("Offline"),n||(n=()=>hI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(Wi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kh(t)})}function vI(t,e){return e().catch(n=>Fd(t,n,e))}async function Dh(t){const e=ce(t),n=Zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ay;for(;QF(e);)try{const s=await PF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,YF(e,s)}catch(s){await Fd(e,s)}_I(e)&&wI(e)}function QF(t){return eo(t)&&t.Ta.length<10}function YF(t,e){t.Ta.push(e);const n=Zs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _I(t){return eo(t)&&!Zs(t).x_()&&t.Ta.length>0}function wI(t){Zs(t).start()}async function XF(t){Zs(t).ra()}async function JF(t){const e=Zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function ZF(t,e,n){const r=t.Ta.shift(),s=py.from(r,e,n);await vI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Dh(t)}async function e6(t,e){e&&Zs(t).X_&&await async function(r,s){if(function(o){return jV(o)&&o!==W.ABORTED}(s.code)){const i=r.Ta.shift();Zs(r).B_(),await vI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Dh(r)}}(t,e),_I(t)&&wI(t)}async function H0(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),Z(Wi,"RemoteStore received new credentials");const r=eo(n);n.Ea.add(3),await Ac(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kh(n)}async function t6(t,e){const n=ce(t);e?(n.Ea.delete(2),await kh(n)):e||(n.Ea.add(2),await Ac(n),n.Ra.set("Unknown"))}function Sa(t){return t.ma||(t.ma=function(n,r,s){const i=ce(n);return i.sa(),new FF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:HF.bind(null,t),t_:qF.bind(null,t),r_:GF.bind(null,t),H_:KF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),by(t)?Ty(t):t.Ra.set("Unknown")):(await t.ma.stop(),yI(t))})),t.ma}function Zs(t){return t.fa||(t.fa=function(n,r,s){const i=ce(n);return i.sa(),new UF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:XF.bind(null,t),r_:e6.bind(null,t),ta:JF.bind(null,t),na:ZF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Dh(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(Wi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Sy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),ba(t))return new J(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=cl(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.ga=new Ue(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ca{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ca(e,n,Mo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class r6{constructor(){this.queries=G0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ce(n),i=s.queries;s.queries=G0(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new J(W.ABORTED,"Firestore shutting down"))}}function G0(){return new Ji(t=>$S(t),Ih)}async function xI(t,e){const n=ce(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new n6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Iy(o,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Cy(n)}async function EI(t,e){const n=ce(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function s6(t,e){const n=ce(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Cy(n)}function i6(t,e,n){const r=ce(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Cy(t){t.Ca.forEach(e=>{e.next()})}var Sm,K0;(K0=Sm||(Sm={})).Ma="default",K0.Cache="cache";class TI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.key=e}}class SI{constructor(e){this.key=e}}class o6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ye(),this.mutatedKeys=ye(),this.eu=BS(e),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new q0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const g=s.get(h),m=Ch(this.query,f)?f:null,b=!!g&&this.mutatedKeys.has(g.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;g&&m?g.data.isEqual(m.data)?b!==w&&(r.track({type:3,doc:m}),x=!0):this.su(g,m)||(r.track({type:2,doc:m}),x=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),x=!0):g&&!m&&(r.track({type:1,doc:g}),x=!0,(c||u)&&(a=!0)),x&&(m?(o=o.add(m),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(m,b){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:x})}};return w(m)-w(b)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new ca(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new SI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new bI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ay="SyncEngine";class a6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class l6{constructor(e){this.key=e,this.hu=!1}}class c6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ji(a=>$S(a),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(te.comparator),this.Au=new Map,this.Ru=new yy,this.Vu={},this.mu=new Map,this.fu=la.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function u6(t,e,n=!0){const r=NI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await II(r,e,n,!0),s}async function d6(t,e){const n=NI(t);await II(n,e,!0,!1)}async function II(t,e,n,r){const s=await NF(t.localStore,dr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await h6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&mI(t.remoteStore,s),a}async function h6(t,e,n,r,s){t.pu=(f,g,m)=>async function(w,x,_,v){let E=x.view.ru(_);E.Cs&&(E=await U0(w.localStore,x.query,!1).then(({documents:S})=>x.view.ru(S,E)));const D=v&&v.targetChanges.get(x.targetId),j=v&&v.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(E,w.isPrimaryClient,D,j);return Y0(w,x.targetId,L.au),L.snapshot}(t,f,g,m);const i=await U0(t.localStore,e,!0),o=new o6(e,i.Qs),a=o.ru(i.documents),c=Cc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);Y0(t,n,u.au);const h=new a6(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function f6(t,e,n){const r=ce(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Ih(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Tm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xy(r.remoteStore,s.targetId),Im(r,s.targetId)}).catch(Ta)):(Im(r,s.targetId),await Tm(r.localStore,s.targetId,!0))}async function p6(t,e){const n=ce(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xy(n.remoteStore,r.targetId))}async function m6(t,e,n){const r=E6(t);try{const s=await function(o,a){const c=ce(o),u=Ce.now(),h=a.reduce((m,b)=>m.add(b.key),ye());let f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let b=Hr(),w=ye();return c.Ns.getEntries(m,h).next(x=>{b=x,b.forEach((_,v)=>{v.isValidDocument()||(w=w.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,b)).next(x=>{f=x;const _=[];for(const v of a){const E=PV(v,f.get(v.key).overlayedDocument);E!=null&&_.push(new Zi(v.key,E,DS(E.value.mapValue),On.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,_,a)}).next(x=>{g=x;const _=x.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(m,x.batchId,_)})}).then(()=>({batchId:g.batchId,changes:WS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ue(ge)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Rc(r,s.changes),await Dh(r.remoteStore)}catch(s){const i=Iy(s,"Failed to persist write");n.reject(i)}}async function CI(t,e){const n=ce(t);try{const r=await AF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Te(o.hu,14607):s.removedDocuments.size>0&&(Te(o.hu,42227),o.hu=!1))}),await Rc(n,r,e)}catch(r){await Ta(r)}}function Q0(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ce(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(const g of f.Sa)g.va(a)&&(u=!0)}),u&&Cy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g6(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ue(te.comparator);o=o.insert(i,It.newNoDocument(i,le.min()));const a=ye().add(i),c=new Ph(le.min(),new Map,new Ue(ge),o,a);await CI(r,c),r.du=r.du.remove(i),r.Au.delete(e),Ry(r)}else await Tm(r.localStore,e,!1).then(()=>Im(r,e,n)).catch(Ta)}async function y6(t,e){const n=ce(t),r=e.batch.batchId;try{const s=await CF(n.localStore,e);RI(n,r,null),AI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rc(n,s)}catch(s){await Ta(s)}}async function v6(t,e,n){const r=ce(t);try{const s=await function(o,a){const c=ce(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Te(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);RI(r,e,n),AI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rc(r,s)}catch(s){await Ta(s)}}function AI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function RI(t,e,n){const r=ce(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Im(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||PI(t,r)})}function PI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ry(t))}function Y0(t,e,n){for(const r of n)r instanceof bI?(t.Ru.addReference(r.key,e),_6(t,r)):r instanceof SI?(Z(Ay,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||PI(t,r.key)):oe(19791,{wu:r})}function _6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(Ay,"New document in limbo: "+n),t.Eu.add(r),Ry(t))}function Ry(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Re.fromString(e)),r=t.fu.next();t.Au.set(r,new l6(n)),t.du=t.du.insert(n,r),mI(t.remoteStore,new Is(dr(Sh(n.path)),r,"TargetPurposeLimboResolution",Eh.ce))}}async function Rc(t,e,n){const r=ce(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=_y.As(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const h=ce(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(u,g=>H.forEach(g.Es,m=>h.persistence.referenceDelegate.addReference(f,g.targetId,m)).next(()=>H.forEach(g.ds,m=>h.persistence.referenceDelegate.removeReference(f,g.targetId,m)))))}catch(f){if(!ba(f))throw f;Z(wy,"Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const m=h.Ms.get(g),b=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(b);h.Ms=h.Ms.insert(g,w)}}}(r.localStore,i))}async function w6(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){Z(Ay,"User change. New user:",e.toKey());const r=await dI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new J(W.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rc(n,r.Ls)}}function x6(t,e){const n=ce(t),r=n.Au.get(e);if(r&&r.hu)return ye().add(r.key);{let s=ye();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function NI(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g6.bind(null,e),e.Pu.H_=s6.bind(null,e.eventManager),e.Pu.yu=i6.bind(null,e.eventManager),e}function E6(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v6.bind(null,e),e}class Ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IF(this.persistence,new TF,e.initialUser,this.serializer)}Cu(e){return new uI(vy.mi,this.serializer)}Du(e){return new DF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ud.provider={build:()=>new Ud};class T6 extends Ud{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof Vd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new uI(r=>Vd.mi(r,n),this.serializer)}}class Cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w6.bind(null,this.syncEngine),await t6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r6}()}createDatastore(e){const n=Nh(e.databaseInfo.databaseId),r=function(i){return new VF(i)}(e.databaseInfo);return function(i,o,a,c){return new BF(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new WF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Q0(this.syncEngine,n,0),function(){return z0.v()?new z0:new OF}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,h){const f=new c6(s,i,o,a,c,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ce(s);Z(Wi,"RemoteStore shutting down."),i.Ea.add(5),await Ac(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Cm.provider={build:()=>new Cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="FirestoreClient";class b6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=bt.UNAUTHENTICATED,this.clientId=oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(ei,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(ei,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Iy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qf(t,e){t.asyncQueue.verifyOperationInProgress(),Z(ei,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await dI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function X0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S6(t);Z(ei,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>H0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>H0(e.remoteStore,s)),t._onlineComponents=e}async function S6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(ei,"Using user provided OfflineComponentProvider");try{await qf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;sa("Error using user provided cache. Falling back to memory cache: "+n),await qf(t,new Ud)}}else Z(ei,"Using default OfflineComponentProvider"),await qf(t,new T6(void 0));return t._offlineComponents}async function DI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(ei,"Using user provided OnlineComponentProvider"),await X0(t,t._uninitializedComponentsProvider._online)):(Z(ei,"Using default OnlineComponentProvider"),await X0(t,new Cm))),t._onlineComponents}function I6(t){return DI(t).then(e=>e.syncEngine)}async function Am(t){const e=await DI(t),n=e.eventManager;return n.onListen=u6.bind(null,e.syncEngine),n.onUnlisten=f6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p6.bind(null,e.syncEngine),n}function C6(t,e,n={}){const r=new Us;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new kI({next:g=>{h.Nu(),o.enqueueAndForget(()=>EI(i,f));const m=g.docs.has(a);!m&&g.fromCache?u.reject(new J(W.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&c&&c.source==="server"?u.reject(new J(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new TI(Sh(a.path),h,{includeMetadataChanges:!0,qa:!0});return xI(i,f)}(await Am(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firestore.googleapis.com",Z0=!0;class ex{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jI,this.ssl=Z0}else this.host=e.host,this.ssl=e.ssl??Z0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oF)throw new J(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ex({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ex(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new O4;switch(r.type){case"firstParty":return new V4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=J0.get(n);r&&(Z("ComponentProvider","Removing Datastore"),J0.delete(n),r.terminate())}(this),Promise.resolve()}}function A6(t,e,n,r={}){var u;t=ur(t,Oh);const s=oi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(qg(`https://${a}`),Gg("Firestore",!0)),i.host!==jI&&i.host!==a&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Ui(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=bt.MOCK_USER;else{h=Cb(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new J(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new bt(g)}t._authCredentials=new j4(new wS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class Qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qe(this.firestore,e,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bc(n,Qe._jsonSchema))return new Qe(e,r||null,new te(Re.fromString(n.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:et("string",Qe._jsonSchemaVersion),referencePath:et("string")};class $s extends Ia{constructor(e,n,r){super(e,n,Sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new te(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function tx(t,e,...n){if(t=We(t),xS("collection","path",e),t instanceof Oh){const r=Re.fromString(e,...n);return f0(r),new $s(t,null,r)}{if(!(t instanceof Qe||t instanceof $s))throw new J(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return f0(r),new $s(t.firestore,null,r)}}function ua(t,e,...n){if(t=We(t),arguments.length===1&&(e=oy.newId()),xS("doc","path",e),t instanceof Oh){const r=Re.fromString(e,...n);return h0(r),new Qe(t,null,new te(r))}{if(!(t instanceof Qe||t instanceof $s))throw new J(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return h0(r),new Qe(t.firestore,t instanceof $s?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="AsyncQueue";class rx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fI(this,"async_queue_retry"),this._c=()=>{const r=Hf();r&&Z(nx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Us;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ba(e))throw e;Z(nx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Wr("INTERNAL UNHANDLED ERROR: ",sx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Sy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&oe(47125,{Pc:sx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Hi extends Oh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new rx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rx(e),this._firestoreClient=void 0,await e}}}function R6(t,e){const n=typeof t=="object"?t:Yg(),r=typeof t=="string"?t:kd,s=gh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bb("firestore");i&&A6(s,...i)}return s}function Py(t){if(t._terminated)throw new J(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P6(t),t._firestoreClient}function P6(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,u,h){return new tV(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,OI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new b6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fn(vt.fromBase64String(e))}catch(n){throw new J(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fn(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bc(e,fn._jsonSchema))return fn.fromBase64String(e.bytes)}}fn._jsonSchemaVersion="firestore/bytes/1.0",fn._jsonSchema={type:et("string",fn._jsonSchemaVersion),bytes:et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(bc(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:et("string",fr._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bc(e,pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new pr(e.vectorValues);throw new J(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:et("string",pr._jsonSchemaVersion),vectorValues:et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=/^__.*__$/;class k6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ic(e,this.data,n,this.fieldTransforms)}}function LI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class Dy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $d(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LI(this.Ac)&&N6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class D6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nh(e)}Cc(e,n,r,s=!1){return new Dy({Ac:e,methodName:n,Dc:r,path:mt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oy(t){const e=t._freezeSettings(),n=Nh(t._databaseId);return new D6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MI(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);UI("Data must be an object, but it was:",o,r);const a=VI(r,o);let c,u;if(i.merge)c=new Nn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const g=j6(e,f,n);if(!o.contains(g))throw new J(W.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);M6(h,g)||h.push(g)}c=new Nn(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new k6(new hn(a),c,u)}class jy extends ky{_toFieldTransform(e){return new IV(e.path,new oc)}isEqual(e){return e instanceof jy}}function O6(t,e,n,r=!1){return Ly(n,t.Cc(r?4:3,e))}function Ly(t,e){if(FI(t=We(t)))return UI("Unsupported field value:",e,t),VI(t,e);if(t instanceof ky)return function(r,s){if(!LI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Ly(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ce.fromDate(r);return{timestampValue:Md(s.serializer,i)}}if(r instanceof Ce){const i=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Md(s.serializer,i)}}if(r instanceof fr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fn)return{bytesValue:nI(s.serializer,r._byteString)};if(r instanceof Qe){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof pr)return function(o,a){return{mapValue:{fields:{[PS]:{stringValue:kS},[Dd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return hy(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${xh(r)}`)}(t,e)}function VI(t,e){const n={};return bS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(t,(r,s)=>{const i=Ly(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function FI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof fr||t instanceof fn||t instanceof Qe||t instanceof ky||t instanceof pr)}function UI(t,e,n){if(!FI(n)||!ES(n)){const r=xh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function j6(t,e,n){if((e=We(e))instanceof Ny)return e._internalPath;if(typeof e=="string")return $I(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,n)}const L6=new RegExp("[~\\*/\\[\\]]");function $I(t,e,n){if(e.search(L6)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ny(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new J(W.INVALID_ARGUMENT,a+t+c)}function M6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(My("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V6 extends BI{data(){return super.data()}}function My(t,e){return typeof e=="string"?$I(t,e):e instanceof Ny?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vy{}class U6 extends Vy{}function $6(t,e,...n){let r=[];e instanceof Vy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Fy).length,a=i.filter(c=>c instanceof jh).length;if(o>1||o>0&&a>0)throw new J(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class jh extends U6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jh(e,n,r)}_apply(e){const n=this._parse(e);return zI(e._query,n),new Ia(e.firestore,e.converter,ym(e._query,n))}_parse(e){const n=Oy(e.firestore);return function(i,o,a,c,u,h,f){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ax(f,h);const b=[];for(const w of f)b.push(ox(c,i,w));g={arrayValue:{values:b}}}else g=ox(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ax(f,h),g=O6(a,o,f,h==="in"||h==="not-in");return Ze.create(u,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function B6(t,e,n){const r=e,s=My("where",t);return jh._create(s,r,n)}class Fy extends Vy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)zI(o,c),o=ym(o,c)}(e._query,n),new Ia(e.firestore,e.converter,ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ox(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new J(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!US(e)&&n.indexOf("/")!==-1)throw new J(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!te.isDocumentKey(r))throw new J(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return x0(t,new te(r))}if(n instanceof Qe)return x0(t,n._key);throw new J(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function ax(t,e){if(!Array.isArray(t)||t.length===0)throw new J(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class z6{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Dd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ge(o.doubleValue));return new pr(n)}convertGeoPoint(e){return new fr(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);Te(lI(r),9688,{name:e});const s=new sc(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Wr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ni extends BI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(My("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ni._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ni._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ni._jsonSchema={type:et("string",Ni._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};class Wu extends Ni{data(e={}){return super.data(e)}}class Vo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new dl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wu(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Wu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new dl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Wu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new dl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:W6(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function W6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){t=ur(t,Qe);const e=ur(t.firestore,Hi);return C6(Py(e),t._key).then(n=>qI(e,t,n))}Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:et("string",Vo._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};class HI extends z6{constructor(e){super(),this.firestore=e}convertBytes(e){return new fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}function H6(t,e,n){t=ur(t,Qe);const r=ur(t.firestore,Hi),s=WI(t.converter,e,n);return $y(r,[MI(Oy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,On.none())])}function q6(t){return $y(ur(t.firestore,Hi),[new fy(t._key,On.none())])}function G6(t,e){const n=ur(t.firestore,Hi),r=ua(t),s=WI(t.converter,e);return $y(n,[MI(Oy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,On.exists(!1))]).then(()=>r)}function K6(t,...e){var c,u,h;t=We(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ix(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ix(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,a;if(t instanceof Qe)o=ur(t.firestore,Hi),a=Sh(t._key.path),i={next:f=>{e[r]&&e[r](qI(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ur(t,Ia);o=ur(f.firestore,Hi),a=f._query;const g=new HI(o);i={next:m=>{e[r]&&e[r](new Vo(o,g,f,m))},error:e[r+1],complete:e[r+2]},F6(t._query)}return function(g,m,b,w){const x=new kI(w),_=new TI(m,x,b);return g.asyncQueue.enqueueAndForget(async()=>xI(await Am(g),_)),()=>{x.Nu(),g.asyncQueue.enqueueAndForget(async()=>EI(await Am(g),_))}}(Py(o),a,s,i)}function $y(t,e){return function(r,s){const i=new Us;return r.asyncQueue.enqueueAndForget(async()=>m6(await I6(r),s,i)),i.promise}(Py(t),e)}function qI(t,e,n){const r=n.docs.get(e._key),s=new HI(t);return new Ni(t,s,e._key,r,new dl(n.hasPendingWrites,n.fromCache),e.converter)}function Q6(){return new jy("serverTimestamp")}(function(e,n=!0){(function(s){Ea=s})(Qi),$i(new Ks("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Hi(new L4(r.getProvider("auth-internal")),new F4(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(u.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ar(l0,c0,e),ar(l0,c0,"esm2020")})();var Y6="firebase",X6="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(Y6,X6,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firebasestorage.googleapis.com",KI="storageBucket",J6=2*60*1e3,Z6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe extends wr{constructor(e,n,r=0){super(Gf(e),`Firebase Storage: ${n} (${Gf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var He;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(He||(He={}));function Gf(t){return"storage/"+t}function By(){const t="An unknown error occurred, please check the error payload for server response.";return new qe(He.UNKNOWN,t)}function e3(t){return new qe(He.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function t3(t){return new qe(He.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qe(He.UNAUTHENTICATED,t)}function r3(){return new qe(He.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function s3(t){return new qe(He.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function i3(){return new qe(He.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o3(){return new qe(He.CANCELED,"User canceled the upload/download.")}function a3(t){return new qe(He.INVALID_URL,"Invalid URL '"+t+"'.")}function l3(t){return new qe(He.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function c3(){return new qe(He.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KI+"' property when initializing the app?")}function u3(){return new qe(He.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d3(){return new qe(He.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function h3(t){return new qe(He.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rm(t){return new qe(He.INVALID_ARGUMENT,t)}function QI(){return new qe(He.APP_DELETED,"The Firebase app was deleted.")}function f3(t){return new qe(He.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rl(t,e){return new qe(He.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function el(t){throw new qe(He.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zt.makeFromUrl(e,n)}catch{return new Zt(e,"")}if(r.path==="")return r;throw l3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(D){D.path_=decodeURIComponent(D.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${h}/b/${s}/o${g}`,"i"),b={bucket:1,path:3},w=n===GI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${w}/${s}/${x}`,"i"),E=[{regex:a,indices:c,postModify:i},{regex:m,indices:b,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let D=0;D<E.length;D++){const j=E[D],L=j.regex.exec(e);if(L){const S=L[j.indices.bucket];let T=L[j.indices.path];T||(T=""),r=new Zt(S,T),j.postModify(r);break}}if(r==null)throw a3(e);return r}}class p3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let u=!1;function h(...x){u||(u=!0,e.apply(null,x))}function f(x){s=setTimeout(()=>{s=null,t(m,c())},x)}function g(){i&&clearTimeout(i)}function m(x,..._){if(u){g();return}if(x){g(),h.call(null,x,..._);return}if(c()||o){g(),h.call(null,x,..._);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let b=!1;function w(x){b||(b=!0,g(),!u&&(s!==null?(x||(a=2),clearTimeout(s),f(0)):x||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function g3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){return t!==void 0}function v3(t){return typeof t=="object"&&!Array.isArray(t)}function zy(t){return typeof t=="string"||t instanceof String}function lx(t){return Wy()&&t instanceof Blob}function Wy(){return typeof Blob<"u"}function cx(t,e,n,r){if(r<e)throw Rm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Rm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function YI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ki;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ki||(ki={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r,s,i,o,a,c,u,h,f,g=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,w)=>{this.resolve_=b,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new vu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ki.NO_ERROR,c=i.getStatus();if(!a||_3(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===ki.ABORT;r(!1,new vu(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new vu(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());y3(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=By();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?QI():o3();o(c)}else{const c=i3();o(c)}};this.canceled_?n(!1,new vu(!1,null,!0)):this.backoffId_=m3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&g3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function x3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function E3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function T3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function b3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function S3(t,e,n,r,s,i,o=!0,a=!1){const c=YI(t.urlParams),u=t.url+c,h=Object.assign({},t.headers);return T3(h,e),x3(h,n),E3(h,i),b3(h,r),new w3(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function C3(...t){const e=I3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Wy())return new Blob(t);throw new qe(He.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function A3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){if(typeof atob>"u")throw h3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kf{constructor(e,n){this.data=e,this.contentType=n||null}}function P3(t,e){switch(t){case rr.RAW:return new Kf(XI(e));case rr.BASE64:case rr.BASE64URL:return new Kf(JI(t,e));case rr.DATA_URL:return new Kf(k3(e),D3(e))}throw By()}function XI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function N3(t){let e;try{e=decodeURIComponent(t)}catch{throw Rl(rr.DATA_URL,"Malformed data URL.")}return XI(e)}function JI(t,e){switch(t){case rr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Rl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case rr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Rl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=R3(e)}catch(s){throw s.message.includes("polyfill")?s:Rl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class ZI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rl(rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=O3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function k3(t){const e=new ZI(t);return e.base64?JI(rr.BASE64,e.rest):N3(e.rest)}function D3(t){return new ZI(t).contentType}function O3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){let r=0,s="";lx(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(lx(this.data_)){const r=this.data_,s=A3(r,e,n);return s===null?null:new ys(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ys(r,!0)}}static getBlob(...e){if(Wy()){const n=e.map(r=>r instanceof ys?r.data_:r);return new ys(C3.apply(null,n))}else{const n=e.map(o=>zy(o)?P3(rr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new ys(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){let e;try{e=JSON.parse(t)}catch{return null}return v3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function L3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function tC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t,e){return e}class Pt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||M3}}let _u=null;function V3(t){return!zy(t)||t.length<2?t:tC(t)}function nC(){if(_u)return _u;const t=[];t.push(new Pt("bucket")),t.push(new Pt("generation")),t.push(new Pt("metageneration")),t.push(new Pt("name","fullPath",!0));function e(i,o){return V3(o)}const n=new Pt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Pt("size");return s.xform=r,t.push(s),t.push(new Pt("timeCreated")),t.push(new Pt("updated")),t.push(new Pt("md5Hash",null,!0)),t.push(new Pt("cacheControl",null,!0)),t.push(new Pt("contentDisposition",null,!0)),t.push(new Pt("contentEncoding",null,!0)),t.push(new Pt("contentLanguage",null,!0)),t.push(new Pt("contentType",null,!0)),t.push(new Pt("metadata","customMetadata",!0)),_u=t,_u}function F3(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Zt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function U3(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return F3(r,t),r}function rC(t,e,n){const r=eC(e);return r===null?null:U3(t,r,n)}function $3(t,e,n,r){const s=eC(e);if(s===null||!zy(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,f=t.fullPath,g="/b/"+o(h)+"/o/"+o(f),m=Lh(g,n,r),b=YI({alt:"media",token:u});return m+b})[0]}function B3(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Hy{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){if(!t)throw By()}function z3(t,e){function n(r,s){const i=rC(t,s,e);return sC(i!==null),i}return n}function W3(t,e){function n(r,s){const i=rC(t,s,e);return sC(i!==null),$3(i,s,t.host,t._protocol)}return n}function iC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=r3():s=n3():n.getStatus()===402?s=t3(t.bucket):n.getStatus()===403?s=s3(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function oC(t){const e=iC(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=e3(t.path)),i.serverResponse=s.serverResponse,i}return n}function H3(t,e,n){const r=e.fullServerUrl(),s=Lh(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Hy(s,i,W3(t,n),o);return a.errorHandler=oC(e),a}function q3(t,e){const n=e.fullServerUrl(),r=Lh(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(c,u){}const a=new Hy(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=oC(e),a}function G3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function K3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=G3(null,e)),r}function Q3(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let D=0;D<2;D++)E=E+Math.random().toString().slice(2);return E}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const u=K3(e,r,s),h=B3(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+c+"--",m=ys.getBlob(f,r,g);if(m===null)throw u3();const b={name:u.fullPath},w=Lh(i,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,v=new Hy(w,x,z3(t,n),_);return v.urlParams=b,v.headers=o,v.body=m.uploadData(),v.errorHandler=iC(e),v}class Y3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ki.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ki.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ki.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw el("cannot .send() more than once");if(oi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw el("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw el("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw el("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw el("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class X3 extends Y3{initXhr(){this.xhr_.responseType="text"}}function qy(){return new X3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this._service=e,n instanceof Zt?this._location=n:this._location=Zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qi(e,n)}get root(){const e=new Zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tC(this._location.path)}get storage(){return this._service}get parent(){const e=j3(this._location.path);if(e===null)return null;const n=new Zt(this._location.bucket,e);return new qi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw f3(e)}}function J3(t,e,n){t._throwIfRoot("uploadBytes");const r=Q3(t.storage,t._location,nC(),new ys(e,!0),n);return t.storage.makeRequestWithTokens(r,qy).then(s=>({metadata:s,ref:t}))}function Z3(t){t._throwIfRoot("getDownloadURL");const e=H3(t.storage,t._location,nC());return t.storage.makeRequestWithTokens(e,qy).then(n=>{if(n===null)throw d3();return n})}function eU(t){t._throwIfRoot("deleteObject");const e=q3(t.storage,t._location);return t.storage.makeRequestWithTokens(e,qy)}function tU(t,e){const n=L3(t._location.path,e),r=new Zt(t._location.bucket,n);return new qi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){return/^[A-Za-z]+:\/\//.test(t)}function rU(t,e){return new qi(t,e)}function aC(t,e){if(t instanceof Gy){const n=t;if(n._bucket==null)throw c3();const r=new qi(n,n._bucket);return e!=null?aC(r,e):r}else return e!==void 0?tU(t,e):t}function sU(t,e){if(e&&nU(e)){if(t instanceof Gy)return rU(t,e);throw Rm("To use ref(service, url), the first argument must be a Storage instance.")}else return aC(t,e)}function ux(t,e){const n=e==null?void 0:e[KI];return n==null?null:Zt.makeFromBucketSpec(n,t)}function iU(t,e,n,r={}){t.host=`${e}:${n}`;const s=oi(e);s&&(qg(`https://${t.host}/b`),Gg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Cb(i,t.app.options.projectId))}class Gy{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=GI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J6,this._maxUploadRetryTime=Z6,this._requests=new Set,s!=null?this._bucket=Zt.makeFromBucketSpec(s,this._host):this._bucket=ux(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zt.makeFromBucketSpec(this._url,e):this._bucket=ux(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new p3(QI());{const o=S3(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const dx="@firebase/storage",hx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="storage";function oU(t,e,n){return t=We(t),J3(t,e,n)}function aU(t){return t=We(t),Z3(t)}function lU(t){return t=We(t),eU(t)}function fx(t,e){return t=We(t),sU(t,e)}function cU(t=Yg(),e){t=We(t);const r=gh(t,lC).getImmediate({identifier:e}),s=bb("storage");return s&&uU(r,...s),r}function uU(t,e,n,r={}){iU(t,e,n,r)}function dU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Gy(n,r,s,e,Qi)}function hU(){$i(new Ks(lC,dU,"PUBLIC").setMultipleInstances(!0)),ar(dx,hx,""),ar(dx,hx,"esm2020")}hU();const fU={apiKey:"AIzaSyCH1ZmvofzO5xeeoEuTGWoOsd3Xn9w1PJY",authDomain:"suros-logic.firebaseapp.com",projectId:"suros-logic",storageBucket:"suros-logic.firebasestorage.app",messagingSenderId:"57271164226",appId:"1:57271164226:web:6100a0784c23d98f61fcdb",measurementId:"G-X7X3X2CYQ4"},Ky=Pb(fU),hl=k4(Ky),px=cU(Ky),Di=R6(Ky),cC=C.createContext(void 0),uC=({children:t})=>{const[e,n]=C.useState(null),[r,s]=C.useState(null),[i,o]=C.useState(!0);C.useEffect(()=>(vM(hl,sS),xM(hl,async h=>{if(n(h),h){const f=ua(Di,"users",h.uid),g=await Uy(f);g.exists()?s(g.data()):s(null)}else s(null);o(!1)})),[]);const a=async(u,h)=>await yM(hl,u,h),c=async()=>{await EM(hl)};return d.jsx(cC.Provider,{value:{user:e,profile:r,loading:i,login:a,logout:c},children:!i&&t})},Ca=()=>{const t=C.useContext(cC);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t},pU=()=>{const{user:t,loading:e}=Ca(),n=_r();C.useEffect(()=>{!e&&t&&n("/dashboard")},[t,e,n]);const[r,s]=C.useState({name:"",company:"",email:"",phone:"",trades:"",bidsPerMonth:""}),i=o=>{o.preventDefault(),console.log("Demo request:",r)};return d.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[d.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-background border-b border-border z-50 shadow-lg",children:d.jsxs("div",{className:"container mx-auto px-3 sm:px-6 py-2 flex items-center justify-between",children:[d.jsx("img",{src:na,alt:"Suros Logic Systems",className:"h-10 sm:h-12 md:h-16"}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 ml-auto",children:[d.jsx(Cr,{size:"sm",className:"md:h-12 md:px-6 bg-primary hover:bg-primary/90",asChild:!0,children:d.jsx("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:"Book Free Demo"})}),d.jsx(Cr,{size:"sm",variant:"outline",className:"md:h-12 md:px-6 border-white/40 text-white hover:bg-white/10",asChild:!0,children:d.jsx("a",{href:"/auth",children:"Login"})})]})]})}),d.jsx("section",{className:"pt-32 pb-20 px-6",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{className:"space-y-8 animate-fade-in",children:[d.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold leading-tight",children:["AI that writes your"," ",d.jsx("span",{className:"bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent animate-pulse",children:"bids for you"})]}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Suros Logic Systems turns a simple project form into a fully formatted, professional bid document  in minutes, not hours."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx(Cr,{size:"lg",className:"bg-primary hover:bg-primary/90 text-lg",asChild:!0,children:d.jsxs("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:["Book a Free 15-Min Demo ",d.jsx(Q_,{className:"ml-2"})]})}),d.jsx(Cr,{onClick:()=>window.open("/sample_bid.pdf","_blank"),size:"lg",variant:"outline",className:"text-lg",children:"See Sample Bid"})]})]}),d.jsx("div",{className:"relative animate-fade-in",style:{animationDelay:"0.2s"},children:d.jsx(as,{className:"bg-card/80 backdrop-blur border-primary/30 shadow-xl shadow-primary/10 rounded-2xl",children:d.jsxs(ls,{className:"p-6 space-y-6",children:[d.jsx("div",{className:"space-y-2 text-center",children:d.jsx("h2",{className:"text-2xl font-bold text-secondary tracking-tight",children:"Create a Professional Bid in Minutes"})}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-secondary/15 p-2.5 rounded-full border border-secondary/20",children:d.jsx(Xa,{className:"text-secondary",size:24})}),d.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Step 1: Fill Out Your Bid Information"})]}),d.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground pl-[3.5rem]",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Company & Client Information"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Scope of Work for Each Trade (Plumbing, Drywall, etc.)"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Payment Terms & Timeline"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-secondary/15 p-2.5 rounded-full border border-secondary/20",children:d.jsx(Xa,{className:"text-secondary",size:24})}),d.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Step 2: Receive a Professional Bid Document"})]}),d.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground pl-[3.5rem]",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"A fully formatted Word document"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Clean layout with your personalized information"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Editable line items & payment summary"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Professional, industry-standard structure"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-secondary/15 p-2.5 rounded-full border border-secondary/20",children:d.jsx(Xa,{className:"text-secondary",size:24})}),d.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Step 3: Sit Back and Pretend You Did All the Work"})]}),d.jsx("div",{className:"space-y-2 text-sm text-muted-foreground pl-[3.5rem]",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Dont worry, we wont tell anyone our software did 90% of it."]})})]})]})})})]}),d.jsx("div",{className:"mt-12 text-center",children:d.jsx("p",{className:"text-muted-foreground max-w-3xl mx-auto",children:"Built for contractors, remodelers, and trade professionals who are tired of typing the same bid 100 different ways."})})]})}),d.jsx("section",{className:"py-20 px-6 bg-card/30",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Bids are stealing your nights and weekends"}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:["You spend hours writing and formatting the same scopes over and over.","Inconsistent templates make your company look less professional.","Some bids never even get sent because you run out of time.","Every revision means more hours fighting with formatting."].map((o,a)=>d.jsx(as,{className:"bg-card border-primary/30 hover:border-primary/60 hover:shadow-lg hover:shadow-primary/20 transition-all",children:d.jsx(ls,{className:"p-6",children:d.jsx("p",{className:"text-muted-foreground",children:o})})},a))})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Your bid, fully written, from one simple form"}),d.jsx("p",{className:"text-muted-foreground text-lg",children:"No AI experience required. We handle the prompts, templates, and formatting for you."})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"1",title:"Fill Out Simple Form",description:"Contractor fills out a simple online form with project details and line items."},{step:"2",title:"AI Expands Content",description:"Optimized AI prompts expand and structure the content like a human-written bid."},{step:"3",title:"Generate Document",description:"The system generates a beautifully formatted Word document, keeping your style consistent."},{step:"4",title:"Instant Delivery",description:"The bid is emailed to you instantly, ready to edit or send to your client."}].map((o,a)=>d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"text-6xl font-bold text-primary/20 mb-4",children:o.step}),d.jsx("h3",{className:"text-xl font-semibold mb-3",children:o.title}),d.jsx("p",{className:"text-muted-foreground",children:o.description})]},a))})]})}),d.jsx("section",{className:"py-20 px-6 bg-card/30",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"Built for real-world contracting"}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:d.jsx(lN,{className:"text-primary",size:32}),title:"Contractor-Tuned AI Prompts",description:"AI workflows specifically optimized for contracting bids, not generic text."},{icon:d.jsx(Xa,{className:"text-secondary",size:32}),title:"Clean, Consistent Templates",description:"Same professional structure every time across all bids."},{icon:d.jsx(X_,{className:"text-primary",size:32}),title:"Trade & Scope Line Items",description:"Plumbing, Electrical, Drywall, HVAC, Painting, Flooring, etc., with space for detailed scopes."},{icon:d.jsx(Xa,{className:"text-secondary",size:32}),title:"Word Docs, Not Lock-in",description:"You get an editable Word document you can tweak, save, or reuse."},{icon:d.jsx(rN,{className:"text-primary",size:32}),title:"Time Savings",description:"Replace hours of typing with a few minutes of form filling."},{icon:d.jsx(oN,{className:"text-secondary",size:32}),title:"No Complex Software",description:"Just log in, fill out the form, and get your bid."}].map((o,a)=>d.jsx(as,{className:"bg-card hover:bg-card/80 transition-colors border-border hover:border-primary/50",children:d.jsxs(ls,{className:"p-6 space-y-4",children:[d.jsx("div",{children:o.icon}),d.jsx("h3",{className:"text-xl font-semibold",children:o.title}),d.jsx("p",{className:"text-muted-foreground",children:o.description})]})},a))})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"Perfect for..."}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:d.jsx(iN,{className:"text-primary",size:48}),title:"General Contractors & Remodelers",description:"Handle multiple bids daily with consistent, professional formatting."},{icon:d.jsx(X_,{className:"text-secondary",size:48}),title:"Specialty Trades",description:"Plumbing, electrical, HVAC, flooring, tile, painting - we've got your scope covered."},{icon:d.jsx(sN,{className:"text-primary",size:48}),title:"Estimators & Office Managers",description:"Free up your team to focus on project management, not document formatting."}].map((o,a)=>d.jsx(as,{className:"bg-gradient-to-br from-card to-card/50 border-primary/20 text-center",children:d.jsxs(ls,{className:"p-8 space-y-4",children:[d.jsx("div",{className:"flex justify-center",children:o.icon}),d.jsx("h3",{className:"text-xl font-semibold",children:o.title}),d.jsx("p",{className:"text-muted-foreground",children:o.description})]})},a))})]})}),d.jsx("section",{className:"py-20 px-6 bg-card/30",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("div",{className:"text-center mb-16",children:d.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Simple pricing that pays for itself"})}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[d.jsx(as,{className:"bg-card border-primary/40 hover:border-primary/70 hover:shadow-xl hover:shadow-primary/30 transition-all",children:d.jsxs(ls,{className:"p-8 space-y-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-primary",children:"QuickStart Bid Templates"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"text-3xl font-bold",children:["$150",d.jsx("span",{className:"text-lg text-muted-foreground",children:"/month"})]}),d.jsx("p",{className:"text-muted-foreground",children:"One-time setup: $300"})]}),d.jsx("ul",{className:"space-y-3",children:["Access to prebuilt, optimized bid templates","Standard form with common contractor fields","AI-tuned prompts for clean, detailed bids","Ideal for ready-to-use system"].map((o,a)=>d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(Y_,{className:"text-primary mt-1 flex-shrink-0",size:20}),d.jsx("span",{className:"text-muted-foreground",children:o})]},a))}),d.jsx(Cr,{className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:"Get Started"})]})}),d.jsx(as,{className:"bg-gradient-to-br from-card to-secondary/10 border-secondary/40 hover:border-secondary/70 hover:shadow-xl hover:shadow-secondary/30 transition-all",children:d.jsxs(ls,{className:"p-8 space-y-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-secondary",children:"Custom Workflow Build"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"text-3xl font-bold",children:["Custom",d.jsx("span",{className:"text-lg text-muted-foreground",children:" pricing"})]}),d.jsx("p",{className:"text-muted-foreground",children:"Setup & monthly based on complexity"})]}),d.jsx("ul",{className:"space-y-3",children:["Customized form matching your exact bid structure","Tailored prompts for your trades & regions","Multiple document types (bids, change orders)","Perfect for multi-location companies"].map((o,a)=>d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(Y_,{className:"text-secondary mt-1 flex-shrink-0",size:20}),d.jsx("span",{className:"text-muted-foreground",children:o})]},a))}),d.jsx(Cr,{className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground",size:"lg",children:d.jsx("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:"Schedule a Meeting"})})]})})]}),d.jsx("p",{className:"text-center text-muted-foreground mt-8 max-w-2xl mx-auto",children:"All plans include onboarding support and access to improvements as we upgrade the system."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Beyond bids: full quoting and automation systems"}),d.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Suros Logic Systems can also build tailored quoting systems that mirror your existing Excel/Word bids, and automated workflows that push bid data into CRMs, email follow-ups, and project management tools."}),d.jsx(Cr,{size:"lg",variant:"outline",className:"border-primary/50 hover:bg-primary/10",children:d.jsx("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:"Talk to us about custom automation"})})]})}),d.jsx("section",{className:"py-20 px-6 bg-card/30",children:d.jsx("div",{className:"container mx-auto",children:d.jsx("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[{title:"Save hours on every bid",description:"Stop spending nights and weekends on formatting"},{title:"More consistent proposals",description:"Professional structure across every bid you send"},{title:"Focus on what matters",description:"Free your team to focus on jobs, not documents"}].map((o,a)=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"text-5xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:a+1}),d.jsx("h3",{className:"text-2xl font-semibold",children:o.title}),d.jsx("p",{className:"text-muted-foreground",children:o.description})]},a))})})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Our Vision"}),d.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"Suros Logic Systems was created by people who live in the contracting world. We know how much time goes into every quote, every bid, every revision. Our vision is an AI-driven document automation suite that handles not just bids, but contracts, change orders, and more  across industries like construction, legal, and real estate."})]})}),d.jsx("section",{className:"py-32 px-6 bg-gradient-to-br from-primary/20 via-background to-secondary/20",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center space-y-8",children:[d.jsx("h2",{className:"text-5xl font-bold",children:"Ready to stop rewriting the same bid for the 100th time?"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Book a free 15-minute demo and see how Suros Logic Systems can automate your next bid."}),d.jsx(as,{className:"bg-card/80 backdrop-blur",children:d.jsxs(ls,{className:"p-8",children:[d.jsx("form",{onSubmit:i,className:"space-y-4",children:d.jsx(Cr,{size:"lg",className:"w-full bg-primary hover:bg-primary/90 text-lg",asChild:!0,children:d.jsxs("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:["Book My Demo ",d.jsx(Q_,{className:"ml-2"})]})})}),d.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:d.jsx("a",{onClick:()=>window.open("/sample_bid.pdf","_blank"),className:"underline hover:text-primary",children:"See Sample Bid"})})]})})]})}),d.jsx("footer",{className:"py-8 px-6 border-t border-border",children:d.jsxs("div",{className:"container mx-auto text-center space-y-4",children:[d.jsx("img",{src:na,alt:"Suros Logic Systems",className:"h-10 mx-auto opacity-70"}),d.jsx("p",{className:"text-muted-foreground",children:" 2024 Suros Logic Systems. All rights reserved."})]})})]})},mU=()=>{const t=_a();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},mx={company_name:"",company_address:"",company_phone:"",company_email:"",company_slogan:"",invoice_date:"",invoice_number:"",salesperson:"",job:"",payment_terms:"",approx_weeks:"",contingency_percentage:"",contingency_coverage:"",tax_percentage:"7",total_costs:"",deposit_required:"",weekly_payments:"",customer_name:"",customer_address:"",customer_phone:"",customer_email:""},gx=["Plumbing","Drywall","Electrical","Flooring"],gU={trade:"",scope:"",material_labor_included:"Yes",line_total:""},yU=()=>{const t=_r(),{profile:e}=Ca(),[n,r]=C.useState(mx),[s,i]=C.useState(""),[o,a]=C.useState([]),[c,u]=C.useState({}),h=O=>!!c[O],[f,g]=C.useState({open:!1,type:"info",title:"",message:""}),m=(O,V,$)=>{g({open:!0,type:O,title:V,message:$})};C.useEffect(()=>{e&&(r(O=>({...O,company_name:e.companyName??O.company_name,company_address:e.companyAddress??O.company_address,company_phone:e.phone??O.company_phone,company_email:e.email??O.company_email,company_slogan:e.slogan??O.company_slogan})),u(O=>({...O,company_name:!1,company_address:!1,company_phone:!1,company_email:!1,company_slogan:!1})))},[e]);const b=O=>{const V=O.replace(/\D/g,"").substring(0,10),$=V.length;return $<4?V:$<7?`(${V.slice(0,3)}) ${V.slice(3)}`:`(${V.slice(0,3)}) ${V.slice(3,6)}-${V.slice(6)}`},w=O=>{const V=String(O).replace(/\D/g,"");return V?`$${Number(V).toLocaleString("en-US")}`:""},x=O=>Number(String(O).replace(/[^0-9]/g,""))||0,_=O=>Number(O.replace(/[^0-9.]/g,""))||0,v=o.reduce((O,V)=>O+x(V.line_total),0),E=_(n.tax_percentage),D=_(n.contingency_percentage),j=v*(E/100),L=v*(D/100),S=v+j+L,T=x(n.deposit_required),A=Number(String(n.weekly_payments).replace(/[^0-9]/g,""))||0,R=S-T,N=A>0&&R>0?R/A:0;C.useEffect(()=>{r(O=>({...O,total_costs:S>0?w(Math.round(S)):""})),S>0&&u(O=>({...O,total_costs:!1}))},[o,n.tax_percentage,n.contingency_percentage]);const k=O=>{const{id:V,value:$}=O.target;if(u(q=>({...q,[V]:!1})),V==="company_phone"||V==="customer_phone"){r(q=>({...q,[V]:b($)}));return}if(V==="tax_percentage"||V==="contingency_percentage"){const q=$.replace(/[^0-9.]/g,"");r(X=>({...X,[V]:q}));return}if(V==="deposit_required"){r(q=>({...q,[V]:w($)}));return}if(V==="weekly_payments"){const q=$.replace(/[^0-9]/g,"");r(X=>({...X,weekly_payments:q}));return}V!=="total_costs"&&r(q=>({...q,[V]:$}))},P=()=>{const O=parseInt(s);if(!O||O<1){m("warning","Invalid Line Item Count","Please enter a valid number of line items before generating sections.");return}const V=Array.from({length:O},()=>({...gU}));a(V),u($=>{const q={...$};return Object.keys(q).forEach(X=>{X.startsWith("line_")&&delete q[X]}),q}),u($=>({...$,line_items_missing:!1}))},G=(O,V,$)=>{a(X=>X.map((_e,Se)=>Se===O?{..._e,[V]:$}:_e));const q=`line_${V}_${O}`;u(X=>({...X,[q]:!1}))},ae=(O,V)=>{if(V.key==="Enter"){V.preventDefault();const $=o[O].scope,q=V.target.selectionStart,X=$.substring(0,q),_e=$.substring(q),Se=X+`
- `+_e;G(O,"scope",Se),setTimeout(()=>{const fe=V.target;fe.selectionStart=q+3,fe.selectionEnd=q+3},0)}},ne=(O,V)=>{let $=V.target.value;o[O].scope===""&&$.length===1&&($="- "+$),G(O,"scope",$)},re=O=>{const V=O.target.value;if(!V)return;/\S+@\S+\.\S+/.test(V)||m("warning","Invalid Email Address","Please enter a valid email address so we can deliver your bid.")},B=()=>{const O={},V=$=>{String(n[$]??"").trim()||(O[String($)]=!0)};return V("company_name"),V("company_address"),V("company_phone"),V("company_email"),V("company_slogan"),V("invoice_date"),V("invoice_number"),V("salesperson"),V("job"),V("payment_terms"),V("approx_weeks"),V("contingency_percentage"),V("contingency_coverage"),V("tax_percentage"),V("total_costs"),V("deposit_required"),V("weekly_payments"),V("customer_name"),V("customer_address"),V("customer_phone"),V("customer_email"),o.length?o.forEach(($,q)=>{String($.trade??"").trim()||(O[`line_trade_${q}`]=!0),String($.scope??"").trim()||(O[`line_scope_${q}`]=!0),String($.material_labor_included??"").trim()||(O[`line_material_labor_included_${q}`]=!0),String($.line_total??"").trim()||(O[`line_line_total_${q}`]=!0)}):O.line_items_missing=!0,u(O),Object.keys(O).length===0},M=async O=>{if(O.preventDefault(),!B()){m("warning","Incomplete Form","Please complete all required fields before submitting your bid.");return}const V=X=>Number(String(X).replace(/[^0-9]/g,""))||0,$=o.map(X=>({trade:X.trade,scope:X.scope.split(/\r?\n/).filter(Boolean),material_labor_included:X.material_labor_included,line_total:V(X.line_total)})),q={...n,tax_percentage:E,contingency_percentage:D,tax_amount:j,contingency_amount:L,approx_weeks:Number(n.approx_weeks),total_costs:V(n.total_costs),deposit_required:V(n.deposit_required),weekly_payments:A,weekly_amount:N,line_items:$,subtotal:v};try{(await fetch("https://astutearc7.app.n8n.cloud/webhook/lastcall-bid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)})).ok?(m("success","Bid Submitted Successfully",`
                    Your bid is being generated now.<br/><br/>
                    Please check your inbox shortly  delivery typically takes a few minutes while we finalize the document and send it over.
                    `),r(mx),a([]),i(""),u({})):m("error","Submission Failed","We ran into an issue while submitting your bid. Please try again in a moment.")}catch{m("error","Network Error","We could not connect to our servers. Please check your connection and try again.")}};return d.jsxs("div",{className:"suros-gradient",children:[d.jsxs("div",{className:"bid-form-page",children:[d.jsx("button",{onClick:()=>t("/dashboard"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"}),d.jsx("div",{className:"page-bg",children:d.jsxs("div",{className:"container",children:[d.jsx("div",{className:"logo",children:d.jsx("img",{src:na,alt:"Suros Logic Systems Logo"})}),d.jsx("h1",{children:d.jsx("b",{children:n.company_name})}),d.jsxs("div",{className:"header-info",children:[d.jsx("label",{children:"Address:"}),d.jsx("input",{type:"text",id:"company_address",value:n.company_address,onChange:k,className:h("company_address")?"input-error":""}),d.jsx("label",{children:"Phone:"}),d.jsx("input",{type:"text",id:"company_phone",value:n.company_phone,onChange:k,className:h("company_phone")?"input-error":""}),d.jsx("label",{children:"Email:"}),d.jsx("input",{type:"email",id:"company_email",value:n.company_email,onChange:k,onBlur:re,className:h("company_email")?"input-error":""}),d.jsx("p",{className:"slogan",children:n.company_slogan}),h("company_slogan")&&d.jsx("div",{className:"field-error-text",children:"Company slogan is required."}),h("company_name")&&d.jsx("div",{className:"field-error-text",children:"Company name is required."})]}),d.jsxs("form",{onSubmit:M,children:[d.jsx("h2",{children:"Invoice Information"}),d.jsx("label",{children:"Invoice Date:"}),d.jsx("input",{type:"date",id:"invoice_date",value:n.invoice_date,onChange:k,className:h("invoice_date")?"input-error":""}),d.jsx("label",{children:"Invoice #:"}),d.jsx("input",{type:"text",id:"invoice_number",placeholder:"SLS-2026-1178",value:n.invoice_number,onChange:k,className:h("invoice_number")?"input-error":""}),d.jsx("h2",{children:"Customer Info"}),d.jsx("label",{children:"Customer Name:"}),d.jsx("input",{type:"text",id:"customer_name",value:n.customer_name,onChange:k,placeholder:"John Doe",className:h("customer_name")?"input-error":""}),d.jsx("label",{children:"Customer Address:"}),d.jsx("input",{type:"text",id:"customer_address",value:n.customer_address,onChange:k,placeholder:"1234 Main St, Tampa FL",className:h("customer_address")?"input-error":""}),d.jsx("label",{children:"Customer Phone:"}),d.jsx("input",{type:"text",id:"customer_phone",value:n.customer_phone,onChange:k,placeholder:"(000) 000-0000",className:h("customer_phone")?"input-error":""}),d.jsx("label",{children:"Customer Email:"}),d.jsx("input",{type:"email",id:"customer_email",value:n.customer_email,onChange:k,onBlur:re,placeholder:"example@email.com",className:h("customer_email")?"input-error":""}),d.jsx("h2",{children:"Project & Payment Info"}),d.jsx("label",{children:"Salesperson Name:"}),d.jsx("input",{type:"text",id:"salesperson",placeholder:"John Doe",value:n.salesperson,onChange:k,className:h("salesperson")?"input-error":""}),d.jsx("label",{children:"Job Name or Address:"}),d.jsx("input",{type:"text",id:"job",placeholder:"Kitchen Remodel, Tampa FL",value:n.job,onChange:k,className:h("job")?"input-error":""}),d.jsx("label",{children:d.jsx("strong",{children:"Payment Terms:"})}),d.jsx("textarea",{id:"payment_terms",rows:2,value:n.payment_terms,onChange:k,placeholder:"Deposit of 50% prior to work commencing and weekly progress payments.",className:h("payment_terms")?"input-error":""}),d.jsx("label",{children:"Approximate Working Weeks:"}),d.jsx("input",{type:"number",id:"approx_weeks",value:n.approx_weeks,onChange:k,placeholder:"5",className:h("approx_weeks")?"input-error":""}),d.jsx("h2",{children:"Line Items"}),d.jsx("label",{children:"How many line items (trades)?"}),d.jsx("input",{type:"number",id:"num_line_items",min:1,max:20,value:s,onChange:O=>{i(O.target.value),u(V=>({...V,line_items_missing:!1}))},className:h("line_items_missing")?"input-error":""}),d.jsx("button",{type:"button",onClick:P,children:"Generate Line Item Sections"}),h("line_items_missing")&&d.jsx("div",{className:"field-error-text",children:"Please generate at least one line item."}),d.jsx("div",{id:"lineItemsContainer",children:o.map((O,V)=>{const $=gx[V%gx.length];return d.jsxs("div",{className:"line-item",children:[d.jsxs("h3",{children:[V+1," LINE ITEM"]}),d.jsx("label",{children:"Trade Name:"}),d.jsx("input",{type:"text",placeholder:$,value:O.trade,onChange:q=>G(V,"trade",q.target.value),className:h(`line_trade_${V}`)?"input-error":""}),d.jsx("label",{children:"Scope of Work (one per line):"}),d.jsx("textarea",{className:`scope-input ${h(`line_scope_${V}`)?"input-error":""}`,placeholder:"- Enter one task per line",value:O.scope,onChange:q=>ne(V,q),onKeyDown:q=>ae(V,q)}),d.jsx("label",{children:"Material and Labor Included?"}),d.jsxs("select",{value:O.material_labor_included,onChange:q=>G(V,"material_labor_included",q.target.value),className:h(`line_material_labor_included_${V}`)?"input-error":"",children:[d.jsx("option",{value:"Yes",children:"Yes"}),d.jsx("option",{value:"No",children:"No"})]}),d.jsx("label",{children:"Line Total ($):"}),d.jsx("input",{type:"text",placeholder:"$",value:O.line_total,onChange:q=>G(V,"line_total",w(q.target.value)),className:h(`line_line_total_${V}`)?"input-error":""})]},V)})}),d.jsx("h2",{children:"Contingency"}),d.jsx("label",{children:"Contingency (%):"}),d.jsxs("div",{className:"tax-row",children:[d.jsxs("div",{className:"percent-input-wrapper",children:[d.jsx("input",{type:"text",id:"contingency_percentage",value:n.contingency_percentage,onChange:k,placeholder:"10",className:h("contingency_percentage")?"input-error":""}),d.jsx("span",{className:"percent-suffix",children:"%"})]}),d.jsx("div",{className:"tax-amount text-black",children:v>0&&D>0?`${w(Math.round(L))} contingency`:""})]}),d.jsx("textarea",{id:"contingency_coverage",rows:3,value:n.contingency_coverage,onChange:k,placeholder:"Covers miscellaneous materials and unexpected repairs...",className:h("contingency_coverage")?"input-error":""}),d.jsx("p",{className:"contingency-warning",children:d.jsx("strong",{children:"CONTINGENCY FUNDS NOT UTILIZED WILL BE RETURNED TO THE CUSTOMER."})}),d.jsx("h2",{children:"Totals & Payment"}),d.jsx("label",{children:"Tax (%):"}),d.jsxs("div",{className:"tax-row",children:[d.jsxs("div",{className:"percent-input-wrapper",children:[d.jsx("input",{type:"text",id:"tax_percentage",value:n.tax_percentage,readOnly:!0,placeholder:"6",className:`${h("tax_percentage")?"input-error":""} input-readonly`}),d.jsx("span",{className:"percent-suffix",children:"%"})]}),d.jsx("div",{className:"tax-amount text-black",children:v>0&&E>0?`${w(Math.round(j))} in taxes`:""})]}),d.jsx("label",{children:"Total Costs (Line Items + Contingency + Tax):"}),d.jsx("input",{type:"text",id:"total_costs",value:n.total_costs,readOnly:!0,className:`${h("total_costs")?"input-error":""} input-readonly`,placeholder:"$"}),d.jsx("label",{children:"Deposit Required:"}),d.jsx("input",{type:"text",id:"deposit_required",value:n.deposit_required,onChange:k,placeholder:"$",className:h("deposit_required")?"input-error":""}),d.jsx("label",{children:"Weekly Progress Payments:"}),d.jsxs("div",{className:"tax-row",children:[d.jsx("input",{type:"text",id:"weekly_payments",value:n.weekly_payments,onChange:k,placeholder:"3",className:h("weekly_payments")?"input-error":""}),d.jsx("div",{className:"tax-amount text-black",children:N>0?`${w(Math.round(N))}/week`:""})]}),d.jsxs("div",{className:"submit-area",children:[d.jsx("button",{type:"submit",children:"Generate My Bid"}),d.jsx("p",{className:"powered",children:"POWERED by Suros Logic Systems, LLC"})]})]})]})})]}),f.open&&d.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:d.jsxs("div",{style:{background:"#fff",borderRadius:"10px",width:"100%",maxWidth:"480px",padding:"28px",boxShadow:"0 20px 40px rgba(0,0,0,0.25)",textAlign:"center"},children:[d.jsxs("h2",{style:{marginBottom:"12px",color:"#000",fontWeight:"bold"},children:[f.type==="success"&&" ",f.type==="error"&&" ",f.type==="warning"&&" ",f.type==="info"&&" ",f.title]}),d.jsx("p",{style:{color:"#000",lineHeight:1.6,marginBottom:"22px"},dangerouslySetInnerHTML:{__html:f.message}}),d.jsx("button",{onClick:()=>g(O=>({...O,open:!1})),style:{background:f.type==="success"?"#1e73be":f.type==="error"?"#c0392b":"#1e73be",color:"#fff",padding:"10px 22px",borderRadius:"6px",border:"none",fontSize:"15px",fontWeight:600,cursor:"pointer"},children:"Got it"})]})})]})},yx={company_name:"Last Call Home Solutions LLC",company_slogan:"Last call youll make for all your contracting and remodeling needs.",company_address:"4829 Rolling Brook Dr, Tampa, FL 33625",company_phone:"(813) 555-9082",company_email:"email@lastcallhomesolutions.com",invoice_date:"2025-11-28",invoice_number:"LC-2025-1178",salesperson:"Dennis Call",job:"Kitchen Remodel  2290 Maple Ridge Ct, Tampa FL",payment_terms:"50% deposit required before work begins. Weekly progress payments due every Friday. Final amount due upon project completion.",approx_weeks:5,contingency_percentage:"10",contingency_coverage:"Covers miscellaneous materials, unexpected repairs, hardware replacements, drywall patching, plumbing seals, tile work, and fixture adjustments.",tax_percentage:"7",total_costs:"$18,750",deposit_required:"$9,375",weekly_payments:4,final_amount_due:"$1,875",customer_name:"Michael Thompson",customer_address:"2290 Maple Ridge Ct, Tampa FL 33625",customer_phone:"(813) 445-7710",customer_email:"michael.thompson@example.com"},Qf={2:[{trade:"Plumbing",scope:`- Disconnect old plumbing
- Install new PEX water lines
- Replace garbage disposal
- Install new shutoff valves`,line_total:"$5,200",material_labor_included:"Yes"},{trade:"Drywall",scope:`- Remove damaged drywall
- Install new 1/2" drywall
- Tape and mud seams
- Sand and prep for paint`,line_total:"$4,100",material_labor_included:"Yes"}],3:[{trade:"Electrical",scope:`- Add recessed lighting
- Install two GFCI outlets
- Replace breaker for kitchen circuit`,line_total:"$2,600",material_labor_included:"Yes"},{trade:"Flooring",scope:`- Remove old tile
- Install new LVP flooring
- Add new baseboards`,line_total:"$4,800",material_labor_included:"Yes"},{trade:"Painting",scope:`- Prime all walls
- Apply two coats interior paint
- Paint trim and baseboards`,line_total:"$2,300",material_labor_included:"Yes"}],4:[{trade:"Demolition",scope:`- Remove cabinetry
- Remove countertops
- Dispose of debris`,line_total:"$1,800",material_labor_included:"Yes"},{trade:"Cabinet Installation",scope:`- Install RTA cabinets
- Level and secure bases
- Hang uppers`,line_total:"$6,200",material_labor_included:"Yes"},{trade:"Countertops",scope:`- Template for quartz slabs
- Install quartz countertops
- Seal and finish`,line_total:"$5,400",material_labor_included:"Yes"},{trade:"Backsplash",scope:`- Install subway tile
- Apply grout
- Seal tile and grout`,line_total:"$2,200",material_labor_included:"Yes"}],5:[{trade:"Appliance Installation",scope:`- Install refrigerator
- Install dishwasher & connect water line
- Install over-the-range microwave
- Test all electrical and water connections`,line_total:"$1,500",material_labor_included:"Yes"},{trade:"Interior Painting",scope:`- Patch wall imperfections
- Apply primer to all walls
- Apply two coats interior paint
- Paint trim and baseboards`,line_total:"$2,800",material_labor_included:"Yes"},{trade:"Plumbing Fixtures",scope:`- Replace kitchen faucet
- Install under-sink plumbing kit
- Install garbage disposal
- Test for leaks and drainage`,line_total:"$950",material_labor_included:"Yes"},{trade:"Tile Flooring",scope:`- Remove existing flooring
- Install cement board
- Lay porcelain tile
- Apply grout and seal flooring`,line_total:"$4,200",material_labor_included:"Yes"},{trade:"Final Cleanup",scope:`- Remove all debris
- Clean floors and surfaces
- Final walkthrough prep`,line_total:"$850",material_labor_included:"Yes"}],6:[{trade:"Demolition",scope:`- Remove existing cabinetry
- Remove countertops
- Dispose of debris`,line_total:"$1,700",material_labor_included:"Yes"},{trade:"Framing",scope:`- Frame new wall sections
- Adjust doorway openings
- Reinforce load points`,line_total:"$2,300",material_labor_included:"Yes"},{trade:"Electrical",scope:`- Add recessed lighting
- Install dedicated appliance circuits
- Replace breaker`,line_total:"$2,900",material_labor_included:"Yes"},{trade:"Plumbing",scope:`- Install new supply lines
- Replace drain lines
- Pressure test system`,line_total:"$3,100",material_labor_included:"Yes"},{trade:"Cabinet Installation",scope:`- Install base and upper cabinets
- Level and secure
- Install hardware`,line_total:"$5,800",material_labor_included:"Yes"},{trade:"Final Finishes",scope:`- Install trim
- Touch-up paint
- Final cleanup and walkthrough`,line_total:"$1,400",material_labor_included:"Yes"}],10:[{trade:"Demolition",scope:`- Remove existing cabinetry
- Remove countertops
- Remove flooring
- Haul away debris`,line_total:"$2,400",material_labor_included:"Yes"},{trade:"Framing",scope:`- Frame new wall sections
- Modify openings
- Reinforce structural points`,line_total:"$3,100",material_labor_included:"Yes"},{trade:"Electrical",scope:`- Install recessed lighting
- Add appliance circuits
- Replace breakers
- Code compliance check`,line_total:"$4,200",material_labor_included:"Yes"},{trade:"Plumbing Rough-In",scope:`- Replace supply lines
- Replace drain lines
- Pressure test system`,line_total:"$3,600",material_labor_included:"Yes"},{trade:"HVAC Adjustments",scope:`- Reroute ductwork
- Install new vents
- Balance airflow`,line_total:"$2,800",material_labor_included:"Yes"},{trade:"Drywall",scope:`- Hang new drywall
- Tape and mud seams
- Sand smooth`,line_total:"$3,400",material_labor_included:"Yes"},{trade:"Cabinet Installation",scope:`- Install base cabinets
- Install uppers
- Level and secure
- Install hardware`,line_total:"$6,900",material_labor_included:"Yes"},{trade:"Countertops",scope:`- Template quartz
- Install slabs
- Seal and finish`,line_total:"$5,700",material_labor_included:"Yes"},{trade:"Flooring",scope:`- Install underlayment
- Lay flooring material
- Install baseboards`,line_total:"$4,300",material_labor_included:"Yes"},{trade:"Final Finishes & Cleanup",scope:`- Touch-up paint
- Install trim
- Final walkthrough
- Job site cleanup`,line_total:"$2,200",material_labor_included:"Yes"}]},vx=["Plumbing","Drywall","Electrical","Flooring"],vU={trade:"",scope:"",material_labor_included:"Yes",line_total:""},_U=()=>{const t=_r(),[e,n]=C.useState(yx),[r,s]=C.useState("2"),[i,o]=C.useState(Qf[2]??[]),[a,c]=C.useState({}),u=M=>!!a[M],[h,f]=C.useState({open:!1,type:"info",title:"",message:""}),g=(M,O,V)=>{f({open:!0,type:M,title:O,message:V})},m=M=>{const O=M.replace(/\D/g,"").substring(0,10),V=O.length;return V<4?O:V<7?`(${O.slice(0,3)}) ${O.slice(3)}`:`(${O.slice(0,3)}) ${O.slice(3,6)}-${O.slice(6)}`},b=M=>{const O=String(M).replace(/\D/g,"");return O?`$${Number(O).toLocaleString("en-US")}`:""},w=M=>Number(String(M).replace(/[^0-9]/g,""))||0,x=M=>Number(M.replace(/[^0-9.]/g,""))||0,_=i.reduce((M,O)=>M+w(O.line_total),0),v=x(e.tax_percentage),E=x(e.contingency_percentage),D=_*(v/100),j=_*(E/100),L=_+D+j,S=w(e.deposit_required),T=Number(String(e.weekly_payments).replace(/[^0-9]/g,""))||0,A=L-S,R=T>0&&A>0?A/T:0;C.useEffect(()=>{n(M=>({...M,total_costs:L>0?b(Math.round(L)):""})),L>0&&c(M=>({...M,total_costs:!1}))},[i,e.tax_percentage,e.contingency_percentage]);const N=M=>{const{id:O,value:V}=M.target;if(c($=>({...$,[O]:!1})),O==="company_phone"||O==="customer_phone"){n($=>({...$,[O]:m(V)}));return}if(O==="tax_percentage"||O==="contingency_percentage"){const $=V.replace(/[^0-9.]/g,"");n(q=>({...q,[O]:$}));return}if(O==="deposit_required"){n($=>({...$,[O]:b(V)}));return}if(O==="weekly_payments"){const $=V.replace(/[^0-9]/g,"");n(q=>({...q,weekly_payments:$}));return}O!=="total_costs"&&n($=>({...$,[O]:V}))},k=()=>{const M=parseInt(r);if(!M||M<1){g("warning","Invalid Line Item Count","Please enter a valid number of line items before generating sections.");return}const O=Qf[M],V=O?O.map($=>({...$})):Array.from({length:M},()=>({...vU}));o(V),c($=>{const q={...$};return Object.keys(q).forEach(X=>{X.startsWith("line_")&&delete q[X]}),q}),c($=>({...$,line_items_missing:!1}))},P=(M,O,V)=>{o(q=>q.map((X,_e)=>_e===M?{...X,[O]:V}:X));const $=`line_${O}_${M}`;c(q=>({...q,[$]:!1}))},G=(M,O)=>{if(O.key==="Enter"){O.preventDefault();const V=i[M].scope,$=O.target.selectionStart,q=V.substring(0,$),X=V.substring($),_e=q+`
- `+X;P(M,"scope",_e),setTimeout(()=>{const Se=O.target;Se.selectionStart=$+3,Se.selectionEnd=$+3},0)}},ae=(M,O)=>{let V=O.target.value;i[M].scope===""&&V.length===1&&(V="- "+V),P(M,"scope",V)},ne=M=>{const O=M.target.value;if(!O)return;/\S+@\S+\.\S+/.test(O)||g("warning","Invalid Email Address","Please enter a valid email address so we can deliver your bid.")},re=()=>{const M={},O=V=>{String(e[V]??"").trim()||(M[String(V)]=!0)};return O("company_name"),O("company_address"),O("company_phone"),O("company_email"),O("company_slogan"),O("invoice_date"),O("invoice_number"),O("salesperson"),O("job"),O("payment_terms"),O("approx_weeks"),O("contingency_percentage"),O("contingency_coverage"),O("tax_percentage"),O("total_costs"),O("deposit_required"),O("weekly_payments"),O("customer_name"),O("customer_address"),O("customer_phone"),O("customer_email"),i.length?i.forEach((V,$)=>{String(V.trade??"").trim()||(M[`line_trade_${$}`]=!0),String(V.scope??"").trim()||(M[`line_scope_${$}`]=!0),String(V.material_labor_included??"").trim()||(M[`line_material_labor_included_${$}`]=!0),String(V.line_total??"").trim()||(M[`line_line_total_${$}`]=!0)}):M.line_items_missing=!0,c(M),Object.keys(M).length===0},B=async M=>{if(M.preventDefault(),!re()){g("warning","Incomplete Form","Please complete all required fields before submitting your bid.");return}const O=q=>Number(String(q).replace(/[^0-9]/g,""))||0,V=i.map(q=>({trade:q.trade,scope:q.scope.split(/\r?\n/).filter(Boolean),material_labor_included:q.material_labor_included,line_total:O(q.line_total)})),$={...e,tax_percentage:v,contingency_percentage:E,tax_amount:D,contingency_amount:j,approx_weeks:Number(e.approx_weeks),subtotal:_,total_costs:O(e.total_costs),deposit_required:O(e.deposit_required),weekly_payments:T,weekly_amount:R,final_amount_due:e.final_amount_due?O(e.final_amount_due):void 0,line_items:V};try{(await fetch("https://astutearc7.app.n8n.cloud/webhook/lastcall-bid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).ok?(g("success","Bid Submitted Successfully",`
          Your bid is being generated now.<br/><br/>
          Please check your inbox shortly  delivery typically takes a few minutes while we finalize the document and send it over.
          `),n(yx),o(Qf[2]??[]),s("2"),c({})):g("error","Submission Failed","We ran into an issue while submitting your bid. Please try again in a moment.")}catch{g("error","Network Error","We could not connect to our servers. Please check your connection and try again.")}};return d.jsxs("div",{className:"suros-gradient",children:[d.jsxs("div",{className:"bid-form-page",children:[d.jsx("button",{onClick:()=>t("/dashboard"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"}),d.jsx("div",{className:"page-bg",children:d.jsxs("div",{className:"container",children:[d.jsx("div",{className:"logo",children:d.jsx("img",{src:na,alt:"Suros Logic Systems Logo"})}),d.jsx("h1",{children:d.jsx("b",{children:e.company_name})}),d.jsxs("div",{className:"header-info",children:[d.jsx("label",{children:"Address:"}),d.jsx("input",{type:"text",id:"company_address",value:e.company_address,onChange:N,className:u("company_address")?"input-error":""}),d.jsx("label",{children:"Phone:"}),d.jsx("input",{type:"text",id:"company_phone",value:e.company_phone,onChange:N,className:u("company_phone")?"input-error":""}),d.jsx("label",{children:"Email:"}),d.jsx("input",{type:"email",id:"company_email",value:e.company_email,onChange:N,onBlur:ne,className:u("company_email")?"input-error":""}),d.jsx("p",{className:"slogan",children:e.company_slogan}),u("company_slogan")&&d.jsx("div",{className:"field-error-text",children:"Company slogan is required."}),u("company_name")&&d.jsx("div",{className:"field-error-text",children:"Company name is required."})]}),d.jsxs("form",{onSubmit:B,children:[d.jsx("h2",{children:"Invoice Information"}),d.jsx("label",{children:"Invoice Date:"}),d.jsx("input",{type:"date",id:"invoice_date",value:e.invoice_date,onChange:N,className:u("invoice_date")?"input-error":""}),d.jsx("label",{children:"Invoice #:"}),d.jsx("input",{type:"text",id:"invoice_number",placeholder:"LC-2025-1178",value:e.invoice_number,onChange:N,className:u("invoice_number")?"input-error":""}),d.jsx("h2",{children:"Customer Info"}),d.jsx("label",{children:"Customer Name:"}),d.jsx("input",{type:"text",id:"customer_name",value:e.customer_name,onChange:N,placeholder:"John Doe",className:u("customer_name")?"input-error":""}),d.jsx("label",{children:"Customer Address:"}),d.jsx("input",{type:"text",id:"customer_address",value:e.customer_address,onChange:N,placeholder:"1234 Main St, Tampa FL",className:u("customer_address")?"input-error":""}),d.jsx("label",{children:"Customer Phone:"}),d.jsx("input",{type:"text",id:"customer_phone",value:e.customer_phone,onChange:N,placeholder:"(000) 000-0000",className:u("customer_phone")?"input-error":""}),d.jsx("label",{children:"Customer Email:"}),d.jsx("input",{type:"email",id:"customer_email",value:e.customer_email,onChange:N,onBlur:ne,placeholder:"example@email.com",className:u("customer_email")?"input-error":""}),d.jsx("h2",{children:"Project & Payment Info"}),d.jsx("label",{children:"Salesperson Name:"}),d.jsx("input",{type:"text",id:"salesperson",placeholder:"Dennis Call",value:e.salesperson,onChange:N,className:u("salesperson")?"input-error":""}),d.jsx("label",{children:"Job Name or Address:"}),d.jsx("input",{type:"text",id:"job",placeholder:"Kitchen Remodel, Tampa FL",value:e.job,onChange:N,className:u("job")?"input-error":""}),d.jsx("label",{children:d.jsx("strong",{children:"Payment Terms:"})}),d.jsx("textarea",{id:"payment_terms",rows:2,value:e.payment_terms,onChange:N,placeholder:"Deposit of 50% prior to work commencing and weekly progress payments.",className:u("payment_terms")?"input-error":""}),d.jsx("label",{children:"Approximate Working Weeks:"}),d.jsx("input",{type:"number",id:"approx_weeks",value:e.approx_weeks,onChange:N,placeholder:"5",className:u("approx_weeks")?"input-error":""}),d.jsx("h2",{children:"Line Items"}),d.jsx("label",{children:"How many line items (trades)?"}),d.jsx("input",{type:"number",id:"num_line_items",min:1,max:20,value:r,onChange:M=>{s(M.target.value),c(O=>({...O,line_items_missing:!1}))},className:u("line_items_missing")?"input-error":""}),d.jsx("button",{type:"button",onClick:k,children:"Generate Line Item Sections"}),u("line_items_missing")&&d.jsx("div",{className:"field-error-text",children:"Please generate at least one line item."}),d.jsx("div",{id:"lineItemsContainer",children:i.map((M,O)=>{const V=vx[O%vx.length];return d.jsxs("div",{className:"line-item",children:[d.jsxs("h3",{children:[O+1," LINE ITEM"]}),d.jsx("label",{children:"Trade Name:"}),d.jsx("input",{type:"text",placeholder:V,value:M.trade,onChange:$=>P(O,"trade",$.target.value),className:u(`line_trade_${O}`)?"input-error":""}),d.jsx("label",{children:"Scope of Work (one per line):"}),d.jsx("textarea",{className:`scope-input ${u(`line_scope_${O}`)?"input-error":""}`,placeholder:"- Enter one task per line",value:M.scope,onChange:$=>ae(O,$),onKeyDown:$=>G(O,$)}),d.jsx("label",{children:"Material and Labor Included?"}),d.jsxs("select",{value:M.material_labor_included,onChange:$=>P(O,"material_labor_included",$.target.value),className:u(`line_material_labor_included_${O}`)?"input-error":"",children:[d.jsx("option",{value:"Yes",children:"Yes"}),d.jsx("option",{value:"No",children:"No"})]}),d.jsx("label",{children:"Line Total ($):"}),d.jsx("input",{type:"text",placeholder:"$",value:M.line_total,onChange:$=>P(O,"line_total",b($.target.value)),className:u(`line_line_total_${O}`)?"input-error":""})]},O)})}),d.jsx("h2",{children:"Contingency"}),d.jsx("label",{children:"Contingency (%):"}),d.jsxs("div",{className:"tax-row",children:[d.jsxs("div",{className:"percent-input-wrapper",children:[d.jsx("input",{type:"text",id:"contingency_percentage",value:e.contingency_percentage,onChange:N,placeholder:"10",className:u("contingency_percentage")?"input-error":""}),d.jsx("span",{className:"percent-suffix",children:"%"})]}),d.jsx("div",{className:"tax-amount text-black",children:_>0&&E>0?`${b(Math.round(j))} contingency`:""})]}),d.jsx("textarea",{id:"contingency_coverage",rows:3,value:e.contingency_coverage,onChange:N,placeholder:"Covers miscellaneous materials and unexpected repairs...",className:u("contingency_coverage")?"input-error":""}),d.jsx("p",{className:"contingency-warning",children:d.jsx("strong",{children:"CONTINGENCY FUNDS NOT UTILIZED WILL BE RETURNED TO THE CUSTOMER."})}),d.jsx("h2",{children:"Totals & Payment"}),d.jsx("label",{children:"Tax (%):"}),d.jsxs("div",{className:"tax-row",children:[d.jsxs("div",{className:"percent-input-wrapper",children:[d.jsx("input",{type:"text",id:"tax_percentage",value:e.tax_percentage,readOnly:!0,placeholder:"7",className:`${u("tax_percentage")?"input-error":""} input-readonly`}),d.jsx("span",{className:"percent-suffix",children:"%"})]}),d.jsx("div",{className:"tax-amount text-black",children:_>0&&v>0?`${b(Math.round(D))} in taxes`:""})]}),d.jsx("label",{children:"Total Costs (Line Items + Contingency + Tax):"}),d.jsx("input",{type:"text",id:"total_costs",value:e.total_costs,readOnly:!0,className:`${u("total_costs")?"input-error":""} input-readonly`,placeholder:"$"}),d.jsx("label",{children:"Deposit Required:"}),d.jsx("input",{type:"text",id:"deposit_required",value:e.deposit_required,onChange:N,placeholder:"$",className:u("deposit_required")?"input-error":""}),d.jsx("label",{children:"Weekly Progress Payments:"}),d.jsxs("div",{className:"tax-row",children:[d.jsx("input",{type:"text",id:"weekly_payments",value:String(e.weekly_payments),onChange:N,placeholder:"3",className:u("weekly_payments")?"input-error":""}),d.jsx("div",{className:"tax-amount text-black",children:R>0?`${b(Math.round(R))}/week`:""})]}),d.jsxs("div",{className:"submit-area",children:[d.jsx("button",{type:"submit",children:"Generate My Bid"}),d.jsx("p",{className:"powered",children:"POWERED by Suros Logic Systems, LLC"})]})]})]})})]}),h.open&&d.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:d.jsxs("div",{style:{background:"#fff",borderRadius:"10px",width:"100%",maxWidth:"480px",padding:"28px",boxShadow:"0 20px 40px rgba(0,0,0,0.25)",textAlign:"center"},children:[d.jsxs("h2",{style:{marginBottom:"12px",color:"#000",fontWeight:"bold"},children:[h.type==="success"&&" ",h.type==="error"&&" ",h.type==="warning"&&" ",h.type==="info"&&" ",h.title]}),d.jsx("p",{style:{color:"#000",lineHeight:1.6,marginBottom:"22px"},dangerouslySetInnerHTML:{__html:h.message}}),d.jsx("button",{onClick:()=>f(M=>({...M,open:!1})),style:{background:h.type==="success"?"#1e73be":h.type==="error"?"#c0392b":"#1e73be",color:"#fff",padding:"10px 22px",borderRadius:"6px",border:"none",fontSize:"15px",fontWeight:600,cursor:"pointer"},children:"Got it"})]})})]})};function wU(){const{login:t}=Ca(),e=_r(),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,a]=C.useState(!1),[c,u]=C.useState(""),h=async()=>{if(u(""),!n||!s){u("Please enter both email and password.");return}try{a(!0);const g=(await t(n,s)).user,m=ua(Di,"users",g.uid),b=await Uy(m),w=b.exists()?b.data():null;if(!w||w.profileComplete===!1){e("/edit-profile",{replace:!0});return}e("/dashboard",{replace:!0})}catch(f){console.error(f),u("Invalid email or password.")}finally{a(!1)}};return d.jsxs("div",{className:"suros-gradient flex justify-center items-center px-4 relative font-[Montserrat] min-h-screen",children:[o&&d.jsxs("div",{className:"absolute inset-0 bg-black/40 flex flex-col items-center justify-center z-50",children:[d.jsx("div",{className:"loader"}),d.jsx("p",{className:"text-white mt-4 text-lg",children:"Signing you in..."})]}),d.jsxs("div",{className:"w-full max-w-[420px] flex flex-col items-center",children:[d.jsx("img",{src:na,alt:"Suros Logic Systems",className:"h-20 mb-6 drop-shadow-lg"}),d.jsxs("div",{className:"w-full bg-white rounded-2xl p-8 shadow-xl",children:[d.jsx("h2",{className:"text-2xl font-bold text-center mb-4 text-black",children:"Welcome Back"}),d.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Login to access your Suros Logic account."}),c&&d.jsx("p",{className:"text-red-500 text-center mb-3",children:c}),d.jsx("label",{className:"font-semibold text-black",children:"Email"}),d.jsx("input",{type:"email",value:n,placeholder:"you@example.com",onChange:f=>r(f.target.value),className:"w-full p-3 mb-4 border border-gray-300 rounded-lg text-black"}),d.jsx("label",{className:"font-semibold text-black",children:"Password"}),d.jsx("input",{type:"password",value:s,placeholder:"Enter your password",onChange:f=>i(f.target.value),className:"w-full p-3 mb-6 border border-gray-300 rounded-lg text-black"}),d.jsx("button",{onClick:h,disabled:o,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition disabled:opacity-70",children:o?"Signing in...":"Login"}),d.jsx("button",{onClick:()=>e("/"),className:"w-full mt-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-100 transition",children:"Return Home"})]})]})]})}function tl({children:t}){const{user:e,profile:n,loading:r}=Ca();return r?null:e?n&&n.profileComplete===!1?d.jsx(Iw,{to:"/edit-profile",replace:!0}):t:d.jsx(Iw,{to:"/auth",replace:!0})}const xU="/assets/default-avatar-D0vIp_aa.png";function EU(){const[t,e]=C.useState(!1),{logout:n}=Ca();return d.jsxs("div",{className:"profile-dropdown-wrapper",children:[d.jsx("button",{className:"profile-button",onClick:()=>e(!t),children:d.jsx("img",{src:xU,className:"profile-icon",alt:"profile"})}),t&&d.jsxs("div",{className:"profile-dropdown-menu",children:[d.jsx(Do,{to:"/edit-profile",className:"dropdown-item",children:"Edit Profile"}),d.jsx(Do,{to:"/privacy",className:"dropdown-item",children:"Privacy Policy"}),d.jsx(Do,{to:"/terms",className:"dropdown-item",children:"Terms & Conditions"}),d.jsx("button",{className:"dropdown-item logout",onClick:n,children:"Log Out"})]})]})}function TU(){return d.jsxs("nav",{className:"suros-navbar",children:[d.jsx("div",{className:"navbar-left",children:d.jsx(Do,{to:"/dashboard",className:"logo-link",children:d.jsx("img",{src:na,alt:"Suros Logic Systems",className:"navbar-logo"})})}),d.jsx("div",{className:"navbar-right",children:d.jsx(EU,{})})]})}function bU(){return d.jsxs("div",{className:"dashboard-wrapper",children:[d.jsx(TU,{}),d.jsxs("div",{className:"dashboard-container",children:[d.jsx("h1",{className:"dashboard-title",children:"Welcome to Your Dashboard"}),d.jsx("p",{className:"dashboard-subtitle",children:"Automate your bids. Manage your submissions. Speed up your workflow."}),d.jsxs("div",{className:"dashboard-card-wrapper",children:[d.jsxs(Do,{to:"/form/bid_form",className:"dashboard-card",children:[d.jsx("h2",{className:"dashboard-card-title",children:"Create New Bid"}),d.jsx("p",{className:"dashboard-card-description",children:"Generate a new automated bid using your Suros Logic bid builder."}),d.jsx("div",{className:"dashboard-card-button",children:"Start Bid "})]}),d.jsxs(Do,{to:"/view-bids",className:"dashboard-card",children:[d.jsx("h2",{className:"dashboard-card-title",children:"My Bids"}),d.jsx("p",{className:"dashboard-card-description",children:"A centralized place to store, organize, and access all of your bids."}),d.jsx("div",{className:"dashboard-card-button",children:"View Bids "})]})]})]})]})}function SU(){const{user:t}=Ca(),e=_r(),[n,r]=C.useState(null),[s,i]=C.useState(!0),[o,a]=C.useState(!1),[c,u]=C.useState(!1),[h,f]=C.useState(""),g={uid:"User ID",displayName:"Full Name",companyName:"Company Name",companyAddress:"Company Address",slogan:"Company Slogan",phone:"Phone Number",email:"Email Address",profileComplete:"Profile Complete",timeOfCreation:"Time of Creation"},m=["companyName","companyAddress","slogan","displayName","email","phone"];C.useEffect(()=>{(async()=>{if(!t)return;const _=ua(Di,"users",t.uid),v=await Uy(_),E=v.exists()?v.data():{uid:t.uid,displayName:"",companyName:"",companyAddress:"",slogan:"",phone:"",email:t.email||"",profileComplete:!1,timeOfCreation:Ce.now()};r(E),i(!1)})()},[t]);const b=()=>{if(!n)return!1;for(const x of m){const _=n[x];if(typeof _!="string"||_.trim()==="")return f(`Please fill out: ${g[x]}`),!1}return f(""),!0},w=async()=>{if(!(!t||!n)&&b()){a(!0);try{const x=ua(Di,"users",t.uid),_={uid:t.uid,displayName:n.displayName,companyName:n.companyName,companyAddress:n.companyAddress,slogan:n.slogan,phone:n.phone,email:n.email,profileComplete:!0,timeOfCreation:n.timeOfCreation??Ce.now()};await H6(x,_,{merge:!0}),u(!0),setTimeout(()=>e("/dashboard"),1500)}catch(x){console.error("Save error:",x),a(!1),f("An unexpected error occurred saving your profile.")}}};return s||!n?null:d.jsxs("div",{className:"suros-gradient",children:[n.profileComplete&&d.jsx("button",{onClick:()=>e("/"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"}),o&&d.jsxs("div",{className:"overlay",children:[d.jsx("div",{className:"loader"}),d.jsx("p",{children:"Saving changes..."})]}),c&&d.jsx("div",{className:"success-alert",children:"Changes saved successfully!"}),d.jsx("div",{className:"edit-wrapper",children:d.jsxs("div",{className:"edit-card",children:[d.jsx("h1",{children:"Edit Profile"}),h&&d.jsx("div",{className:"validation-banner",children:d.jsx("span",{children:h})}),d.jsxs("div",{className:"edit-grid",children:[d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Company Name"}),d.jsx("input",{name:"companyName",value:n.companyName,onChange:x=>r({...n,companyName:x.target.value})})]}),d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Full Name"}),d.jsx("input",{name:"displayName",value:n.displayName,onChange:x=>r({...n,displayName:x.target.value})})]}),d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Company Address"}),d.jsx("textarea",{name:"companyAddress",rows:2,value:n.companyAddress,onChange:x=>r({...n,companyAddress:x.target.value})})]}),d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Email Address"}),d.jsx("input",{name:"email",value:n.email,onChange:x=>r({...n,email:x.target.value})})]}),d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Company Slogan"}),d.jsx("textarea",{name:"slogan",rows:2,value:n.slogan,onChange:x=>r({...n,slogan:x.target.value})})]}),d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Phone Number"}),d.jsx("input",{name:"phone",value:n.phone,onChange:x=>r({...n,phone:x.target.value})})]})]}),d.jsx("button",{className:"save-btn",onClick:w,children:"Save Changes"})]})})]})}function IU(){const t=_r();return d.jsxs("div",{className:"suros-gradient min-h-screen w-full",children:[d.jsx("div",{className:"flex items-center mb-10 px-6 pt-10",children:d.jsx("button",{onClick:()=>t("/"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"})}),d.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md mb-20 text-gray-900",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Privacy Policy  Suros Logic Systems, LLC"}),d.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Last updated: 12/12/2025"}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Who We Are"}),d.jsx("p",{className:"mb-4",children:"This Privacy Policy describes how Suros Logic Systems (Suros Logic Systems, we, us, or our) collects, uses, and shares information when you:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Visit our website,"}),d.jsx("li",{children:"Create an account and use our software and related services (the Service),"}),d.jsx("li",{children:"Communicate with us in any way."})]}),d.jsx("p",{className:"mb-4",children:"Suros Logic Systems provides tools that allow contractors to input basic bid details and client information, which we then process using artificial intelligence (AI) to generate formatted, professional bids that are sent back to the contractor."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Scope"}),d.jsx("p",{className:"mb-4",children:"This Privacy Policy applies to information we collect:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Through our website and web applications;"}),d.jsx("li",{children:"Through forms, portals, and interfaces where contractors submit bid details and client information;"}),d.jsx("li",{children:"Through email or other communications with us."})]}),d.jsx("p",{className:"mb-4",children:"It does not apply to third-party websites or services linked from our Service."}),d.jsx("p",{className:"mb-4",children:"By using the Service, you agree to the collection and use of information in accordance with this Policy."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Information We Collect"}),d.jsx("p",{className:"mb-4",children:"We may collect the following categories of information:"}),d.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.1 Information You Provide to Us"}),d.jsx("p",{className:"font-semibold",children:"Account and Contact Information"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Name"}),d.jsx("li",{children:"Company name"}),d.jsx("li",{children:"Email address"}),d.jsx("li",{children:"Phone number"}),d.jsx("li",{children:"Billing address"}),d.jsx("li",{children:"Login/credential information (e.g., username, hashed password)"})]}),d.jsx("p",{className:"font-semibold",children:"Contractor & Bid Data (Customer Data)"}),d.jsx("p",{className:"mb-2",children:"When you use the Service to generate bids, you may submit:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Client names and contact information (e.g., homeowner or property owner)"}),d.jsx("li",{children:"Property addresses and project locations"}),d.jsx("li",{children:"Project descriptions, scopes of work, line items, and pricing"}),d.jsx("li",{children:"Notes, comments, or instructions entered into the system"}),d.jsx("li",{children:"Any other information you choose to include in bids or related documents"})]}),d.jsx("p",{className:"mb-4",children:"This may include personal information about your clients, subcontractors, or other individuals. You are responsible for ensuring you have the right to share this information with us."}),d.jsx("p",{className:"font-semibold",children:"Payment Information"}),d.jsx("p",{className:"mb-2",children:"We may use third-party payment processors to handle billing and payments. These processors may collect:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Payment card details"}),d.jsx("li",{children:"Billing address"}),d.jsx("li",{children:"Other payment-related details"})]}),d.jsx("p",{className:"mb-4",children:"We typically do not store full payment card numbers on our own systems."}),d.jsx("p",{className:"font-semibold",children:"Support and Communication"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Messages you send us (email, in-app chat, support tickets)"}),d.jsx("li",{children:"Feedback, bug reports, or feature requests"})]}),d.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"3.2 Information We Collect Automatically"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Usage data  pages visited, features used, clicks, time on page, referring URLs."}),d.jsx("li",{children:"Log data  IP address, browser type, operating system, access times, and device identifiers."}),d.jsx("li",{children:"Cookies and similar technologies  to remember your preferences and help us improve the Service."})]}),d.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"3.3 Information from Third Parties"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Payment processors (billing status and confirmations)"}),d.jsx("li",{children:"Integration partners"}),d.jsx("li",{children:"Analytics services"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. How We Use Your Information"}),d.jsx("p",{className:"mb-4",children:"We use the information we collect for purposes including:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Providing and operating the Service"}),d.jsx("li",{children:"Generating automated, formatted bids based on your inputs"}),d.jsx("li",{children:"Sending you bid documents via email or through our platform"}),d.jsx("li",{children:"Managing your account and authentication"}),d.jsx("li",{children:"Improving and developing our Service"}),d.jsx("li",{children:"Analyzing feature usage"}),d.jsx("li",{children:"Debugging, testing, and optimizing performance"}),d.jsx("li",{children:"Creating new features and workflows"})]}),d.jsx("p",{className:"font-semibold mb-1",children:"Using Customer Data to optimize our systems and AI models:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Improve the quality of AI-generated bids"}),d.jsx("li",{children:"Enhance templates and automation logic"}),d.jsx("li",{children:"Develop better formatting, language, and structure for output"})]}),d.jsx("p",{className:"mb-4",children:"Where reasonable, we aim to use aggregated or de-identified data for these improvements."}),d.jsx("p",{className:"font-semibold mb-1",children:"Communications"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Responding to support inquiries"}),d.jsx("li",{children:"Sending service-related notifications"}),d.jsx("li",{children:"Sending optional marketing or educational emails (you may opt out)"})]}),d.jsx("p",{className:"font-semibold mb-1",children:"Security and compliance"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Monitoring for fraud, abuse, or unauthorized use"}),d.jsx("li",{children:"Complying with legal obligations and enforcing our Terms & Conditions"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"5. AI Processing and Model Improvement"}),d.jsx("p",{className:"mb-4",children:"Our Service uses AI to transform your input (bid notes, client details, project descriptions, etc.) into structured, formatted bid documents."}),d.jsx("p",{className:"font-semibold mb-1",children:"We may use your Customer Data to:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Train, fine-tune, or configure internal models and templates"}),d.jsx("li",{children:"Test new features, patches, and updates"}),d.jsx("li",{children:"Use aggregated or de-identified data for model improvement where practical"})]}),d.jsx("p",{className:"mb-4",children:"We do not sell your Customer Data as a data broker. We also do not use your data to train public/open models."}),d.jsx("p",{className:"mb-4",children:"If you require limitations on data use (e.g., exclusion from model improvement), contact us to discuss options."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"6. Legal Bases (for EEA/UK Users)"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Contract performance"}),d.jsx("li",{children:"Legitimate interests"}),d.jsx("li",{children:"Consent (e.g., marketing communications)"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"7. How We Share Information"}),d.jsx("p",{className:"mb-4",children:"We may share information as follows:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Service providers (hosting, email, payments, analytics, AI infra)"}),d.jsx("li",{children:"Business transfers (mergers, acquisitions, financing)"}),d.jsx("li",{children:"Legal obligations"}),d.jsx("li",{children:"With your consent"})]}),d.jsx("p",{className:"mb-4",children:"We do not sell personal information to third parties."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"8. Data Retention"}),d.jsx("p",{className:"mb-4",children:"We retain information as long as necessary to provide the Service, comply with laws, and resolve disputes. Aggregated or de-identified data may be retained longer."}),d.jsx("p",{className:"mb-4",children:"To request deletion, contact us. Some data may be retained as required by law."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"9. Data Security"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Encrypted connections (HTTPS)"}),d.jsx("li",{children:"Access controls and authentication"}),d.jsx("li",{children:"Limiting access to personnel who require it"})]}),d.jsx("p",{className:"mb-4",children:"No method is 100% secure, and we cannot guarantee absolute protection."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"10. Your Rights and Choices"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Accessing your personal information"}),d.jsx("li",{children:"Correcting inaccurate data"}),d.jsx("li",{children:"Requesting deletion (where legally permitted)"}),d.jsx("li",{children:"Restricting or objecting to certain processing"}),d.jsx("li",{children:"Requesting a portable copy of your data"})]}),d.jsx("p",{className:"mb-4",children:"You may also unsubscribe from marketing emails or adjust cookie settings."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"11. Childrens Privacy"}),d.jsx("p",{className:"mb-4",children:"Our Service is intended for business use and not for children. We do not knowingly collect data from children under 13."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"12. International Data Transfers"}),d.jsx("p",{className:"mb-4",children:"Your data may be transferred to, stored in, or processed in countries with different laws. Where required, we apply appropriate safeguards."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"13. Changes to This Privacy Policy"}),d.jsx("p",{className:"mb-4",children:"We may update this Policy periodically. Continued use of the Service indicates acceptance of the updated Policy."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"14. Contact Us"}),d.jsxs("p",{className:"mb-4",children:["Suros Logic Systems, LLC",d.jsx("br",{}),"Email: support@suroslogic.com"]})]})]})}function CU(){const t=_r();return d.jsxs("div",{className:"suros-gradient min-h-screen w-full",children:[d.jsx("div",{className:"flex items-center mb-10 px-6 pt-10",children:d.jsx("button",{onClick:()=>t("/"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"})}),d.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md mb-20 text-gray-900",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Terms & Conditions (Terms of Service)  Suros Logic Systems, LLC"}),d.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Last updated: 12/12/2025"}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Acceptance of Terms"}),d.jsx("p",{className:"mb-4",children:"These Terms & Conditions (Terms) govern your access to and use of the services provided by Suros Logic Systems (Suros Logic Systems, we, us, or our), including our website, web applications, and related tools (collectively, the Service)."}),d.jsx("p",{className:"mb-4",children:"By creating an account, using, or accessing the Service, you agree to be bound by these Terms. If you are using the Service on behalf of a company or other legal entity, you represent that you are authorized to bind that entity, and you refers to that entity."}),d.jsx("p",{className:"mb-4",children:"If you do not agree to these Terms, do not use the Service."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Eligibility"}),d.jsx("p",{className:"mb-4",children:"You may use the Service only if:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"You are at least 18 years old (or of legal age in your jurisdiction), and"}),d.jsx("li",{children:"You have the authority to enter into these Terms."})]}),d.jsx("p",{className:"mb-4",children:"You agree that you are using the Service for business or professional purposes, not as a consumer."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Description of the Service"}),d.jsx("p",{className:"mb-4",children:"Suros Logic Systems provides subscription-based tools that allow contractors and similar professionals to:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Enter basic bid data and project details (including client information and pricing),"}),d.jsx("li",{children:"Use AI-powered processing to expand and format that information into professional, structured bid documents,"}),d.jsx("li",{children:"Receive those bid documents via email or other delivery methods."})]}),d.jsx("p",{className:"mb-4",children:"We may update, modify, or discontinue features from time to time as part of ongoing improvements and rollout patches."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Account Registration"}),d.jsx("p",{className:"mb-4",children:"To use certain features, you must create an account and provide accurate, current, and complete information."}),d.jsx("p",{className:"mb-4",children:"You are responsible for:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Maintaining the confidentiality of your login credentials,"}),d.jsx("li",{children:"All activities that occur under your account,"}),d.jsx("li",{children:"Promptly notifying us of any unauthorized access or security breach."})]}),d.jsx("p",{className:"mb-4",children:"We reserve the right to suspend or terminate accounts that violate these Terms."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"5. Subscription Plans, Fees & Payment"}),d.jsx("p",{className:"font-semibold",children:"Subscription Plans"}),d.jsx("p",{className:"mb-4",children:"Access to the Service may require purchasing one of our monthly (or other periodic) subscription plans (Plan). Details (features, limits, pricing) will be provided on our website or in a separate order form."}),d.jsx("p",{className:"font-semibold",children:"Billing"}),d.jsxs("p",{className:"mb-4",children:["You authorize us and/or our payment processor to charge your payment method on a recurring basis for the applicable Plan.",d.jsx("br",{}),"Plans will automatically renew at the end of each billing period unless you cancel in accordance with our cancellation policy."]}),d.jsx("p",{className:"font-semibold",children:"Changes to Fees"}),d.jsx("p",{className:"mb-4",children:"We may change the fees for Plans from time to time. If we do, we will provide notice before changes take effect."}),d.jsx("p",{className:"font-semibold",children:"Refunds"}),d.jsx("p",{className:"mb-4",children:"Unless expressly stated otherwise, all fees are non-refundable to the fullest extent permitted by law."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"6. Your Responsibilities and Acceptable Use"}),d.jsx("p",{className:"mb-4",children:"You agree that you will:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Provide only accurate and lawful information in the Service."}),d.jsx("li",{children:"Ensure that you have all necessary permissions to submit any personal or project data (including your clients data)."}),d.jsx("li",{children:"Use the Service in compliance with applicable laws and regulations."})]}),d.jsx("p",{className:"mb-4",children:"You agree that you will not:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Use the Service for illegal or fraudulent activities."}),d.jsx("li",{children:"Upload malicious code, viruses, or perform actions that could damage or disrupt the Service."}),d.jsx("li",{children:"Attempt to access or scrape other users data."}),d.jsx("li",{children:"Reverse-engineer, decompile, or attempt to derive source code from the Service."}),d.jsx("li",{children:"Use the Service to generate misleading, fraudulent, or deceptive documents."})]}),d.jsx("p",{className:"mb-4",children:"We may suspend or terminate your access if you violate these obligations."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"7. Customer Data and License to Use"}),d.jsx("h3",{className:"text-lg font-semibold mt-4",children:"7.1 Customer Data"}),d.jsx("p",{className:"mb-4",children:"Customer Data means any data, content, or information you submit to the Service, including but not limited to:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Client names and contact details"}),d.jsx("li",{children:"Project addresses and property information"}),d.jsx("li",{children:"Scopes of work, pricing, and line items"}),d.jsx("li",{children:"Notes and instructions for bids"}),d.jsx("li",{children:"Any other information you input into the system"})]}),d.jsx("p",{className:"mb-4",children:"You retain ownership of your Customer Data."}),d.jsx("h3",{className:"text-lg font-semibold mt-4",children:"7.2 License Granted to Suros Logic Systems"}),d.jsx("p",{className:"mb-4",children:"To operate and improve the Service, you grant Suros Logic Systems a non-exclusive, worldwide, royalty-free license to:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Use, host, store, reproduce, modify, adapt, and process Customer Data as necessary to provide the Service."}),d.jsx("li",{children:"Develop, test, and improve internal AI models, templates, and features."}),d.jsx("li",{children:"Create aggregated and/or de-identified datasets."})]}),d.jsx("p",{className:"mb-4",children:"You represent and warrant that you have all necessary rights to provide Customer Data and that our use will not violate any third-party rights or laws."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"8. Output and Use of AI-Generated Bids"}),d.jsx("p",{className:"mb-4",children:"The Service generates bid documents and related outputs (Output) based on your inputs and our AI systems."}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Output may contain errors or omissions."}),d.jsx("li",{children:"You remain solely responsible for reviewing all Output."}),d.jsx("li",{children:"Suros Logic Systems is not a contractor, engineer, or legal advisor."})]}),d.jsx("p",{className:"mb-4",children:"You are responsible for how you use Output in your business."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"9. Intellectual Property"}),d.jsx("p",{className:"mb-4",children:"Except for Customer Data, all rights in the Serviceincluding software, AI models, algorithms, templates, branding, and documentationare owned by Suros Logic Systems or its licensors."}),d.jsx("p",{className:"mb-4",children:"You are granted a limited, non-exclusive, non-transferable, revocable license to use the Service for your internal business purposes."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"10. Third-Party Services and Integrations"}),d.jsx("p",{className:"mb-4",children:"The Service may integrate with or rely on third-party services. Their terms may apply. We aim to use reputable providers but are not responsible for their actions."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"11. Confidentiality"}),d.jsx("p",{className:"mb-4",children:"Each party may receive confidential information from the other. Both parties agree to keep such information confidential and use it only as necessary for the Service."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"12. Disclaimers"}),d.jsx("p",{className:"mb-4",children:"The Service is provided AS IS and AS AVAILABLE. We do not warrant:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"That the Service will be uninterrupted, timely, secure, or error-free;"}),d.jsx("li",{children:"That Output will be accurate or suitable for your purposes;"}),d.jsx("li",{children:"That the Service will meet your requirements or regulatory obligations."})]}),d.jsx("p",{className:"mb-4",children:"You are responsible for verifying all bid documents before using them professionally."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"13. Limitation of Liability"}),d.jsx("p",{className:"mb-4",children:"To the fullest extent permitted by law:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Suros Logic Systems is not liable for indirect, incidental, special, consequential, or punitive damages."}),d.jsx("li",{children:"Our total liability will not exceed the amounts paid in the previous 12 months."})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"14. Indemnification"}),d.jsx("p",{className:"mb-4",children:"You agree to indemnify Suros Logic Systems, LLC against claims arising from:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Your use of the Service or Output,"}),d.jsx("li",{children:"Your violation of these Terms,"}),d.jsx("li",{children:"Your infringement of third-party rights,"}),d.jsx("li",{children:"Your provision of Customer Data without proper rights."})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"15. Term and Termination"}),d.jsx("p",{className:"mb-4",children:"These Terms remain in effect while you use the Service. We may suspend or terminate your access at any time for violations or non-payment."}),d.jsx("p",{className:"mb-4",children:"Upon termination, your right to use the Service ends. Certain provisions survive termination."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"16. Governing Law and Dispute Resolution"}),d.jsx("p",{className:"mb-4",children:"These Terms are governed by the laws of the State of [State]. You agree that any disputes will be brought exclusively in the courts located in [County, State]."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"17. Changes to the Service and These Terms"}),d.jsx("p",{className:"mb-4",children:"We may modify or discontinue parts of the Service or update these Terms. Continued use signifies acceptance."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"18. Miscellaneous"}),d.jsx("p",{className:"mb-4",children:"These Terms, along with the Privacy Policy, constitute the entire agreement between you and us."}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Severability: Invalid provisions do not affect the remainder."}),d.jsx("li",{children:"No Waiver: Failure to enforce rights is not a waiver."}),d.jsx("li",{children:"Assignment: You may not transfer these Terms without consent."}),d.jsx("li",{children:"Force Majeure: We are not liable for delays outside our control."})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"19. Contact Information"}),d.jsxs("p",{className:"mb-4",children:["Suros Logic Systems, LLC",d.jsx("br",{}),"Email: support@suroslogic.com"]})]})]})}function AU(){const t=_r(),e=hl.currentUser,[n,r]=C.useState([]),[s,i]=C.useState(!1),[o,a]=C.useState(!1),[c,u]=C.useState(null),[h,f]=C.useState(""),[g,m]=C.useState(""),[b,w]=C.useState(null),[x,_]=C.useState(!1);C.useEffect(()=>{if(!e)return;const j=$6(tx(Di,"bidUploads"),B6("userId","==",e.uid));return K6(j,S=>{const T=[];S.forEach(A=>{T.push({id:A.id,...A.data()})}),T.sort((A,R)=>{var N,k;return(((N=R.timeOfCreation)==null?void 0:N.seconds)||0)-(((k=A.timeOfCreation)==null?void 0:k.seconds)||0)}),r(T)})},[e]);const v=j=>{var S;const L=(S=j.target.files)==null?void 0:S[0];if(L){if(L.size>2*1024*1024){alert("File must be under 2MB."),j.target.value="";return}u(L),i(!0)}},E=async()=>{if(!c||!h.trim()||!e)return;const j=`bids/${e.uid}/${Date.now()}-${c.name}`,L=fx(px,j);await oU(L,c);const S=await aU(L);await G6(tx(Di,"bidUploads"),{userId:e.uid,title:h,description:g,fileName:c.name,fileType:c.type,fileSize:c.size,readableSize:(c.size/1024/1024).toFixed(2)+" MB",storagePath:j,downloadURL:S,timeOfCreation:Q6()}),i(!1),u(null),f(""),m(""),a(!0),setTimeout(()=>{a(!1)},2e3)},D=async()=>{b&&(await q6(ua(Di,"bidUploads",b.id)),await lU(fx(px,b.storagePath)),w(null))};return d.jsxs("div",{className:"suros-gradient viewbids-page",children:[d.jsx("button",{onClick:()=>t("/"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"}),d.jsxs("div",{className:"viewbids-container",children:[d.jsx("h1",{className:"dashboard-title",children:"My Bids"}),d.jsx("p",{className:"dashboard-subtitle",children:"A centralized place to store, organize, and access all of your bids."}),n.length===0&&d.jsx("div",{className:"empty-upload-center",children:d.jsxs("label",{className:"upload-btn upload-btn-large",children:["Upload File",d.jsx("input",{type:"file",accept:".png,.jpg,.jpeg,.pdf,.doc,.docx",hidden:!0,onChange:v})]})}),n.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>{var j;return(j=document.getElementById("upload-file-input"))==null?void 0:j.click()},style:{position:"fixed",top:"20px",right:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:"Upload File"}),d.jsx("input",{id:"upload-file-input",type:"file",accept:".png,.jpg,.jpeg,.pdf,.doc,.docx",hidden:!0,onChange:v})]}),o&&d.jsx("div",{className:"alert-success fade-out",children:"Upload completed successfully!"}),n.length>0&&d.jsx("div",{className:"file-list-wrapper",children:d.jsx("ul",{className:"file-list",children:n.map(j=>d.jsxs("li",{className:"file-item file-item-wide",children:[d.jsxs("div",{className:"file-left",children:[d.jsx("p",{className:"file-title",children:j.title}),d.jsx("p",{className:"file-description",children:j.description}),d.jsxs("p",{className:"file-meta",children:[j.fileName,"  ",j.readableSize]})]}),d.jsxs("div",{className:"file-actions",children:[d.jsx("a",{href:j.downloadURL,target:"_blank",rel:"noopener noreferrer",children:"Open"}),d.jsx("button",{className:"delete-btn",onClick:()=>w(j),children:"Delete"})]})]},j.id))})})]}),s&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal",children:[d.jsx("label",{children:"Title"}),d.jsx("input",{className:"modal-input",style:{borderColor:x?"#ff4d4f":void 0},value:h,onChange:j=>{f(j.target.value),x&&_(!1)}}),x&&d.jsx("p",{style:{color:"#ff4d4f",fontSize:"0.85rem",marginTop:"-10px"},children:"Title is required"}),d.jsx("label",{children:"Description"}),d.jsx("textarea",{className:"modal-textarea",value:g,onChange:j=>m(j.target.value)}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{className:"cancel-btn",onClick:()=>i(!1),children:"Cancel"}),d.jsx("button",{className:"confirm-btn",onClick:()=>{if(!h.trim()){_(!0);return}_(!1),E()},children:"Upload"})]})]})}),b&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal delete-modal",children:[d.jsx("h2",{className:"delete-title",children:"Delete Bid"}),d.jsxs("p",{className:"delete-message",children:["Are you sure you want to permanently delete",d.jsxs("strong",{children:[" ",b.title,""]}),"?"]}),d.jsx("p",{className:"delete-warning",children:"This action cannot be undone."}),d.jsxs("div",{className:"delete-actions",children:[d.jsx("button",{className:"delete-cancel-btn",onClick:()=>w(null),children:"Cancel"}),d.jsx("button",{className:"delete-confirm-btn",onClick:D,children:"Delete"})]})]})})]})}const RU=new ND,PU=()=>d.jsx(DD,{client:RU,children:d.jsxs(aD,{children:[d.jsx(WN,{}),d.jsx(Ek,{}),d.jsx(uC,{children:d.jsx(PO,{children:d.jsxs(TO,{children:[d.jsx(Tn,{path:"/",element:d.jsx(pU,{})}),d.jsx(Tn,{path:"/auth",element:d.jsx(wU,{})}),d.jsx(Tn,{path:"/privacy",element:d.jsx(IU,{})}),d.jsx(Tn,{path:"/terms",element:d.jsx(CU,{})}),d.jsx(Tn,{path:"/dashboard",element:d.jsx(tl,{children:d.jsx(bU,{})})}),d.jsx(Tn,{path:"/edit-profile",element:d.jsx(tl,{children:d.jsx(SU,{})})}),d.jsx(Tn,{path:"/form/bid_form",element:d.jsx(tl,{children:d.jsx(yU,{})})}),d.jsx(Tn,{path:"/form/test",element:d.jsx(tl,{children:d.jsx(_U,{})})}),d.jsx(Tn,{path:"/view-bids",element:d.jsx(tl,{children:d.jsx(AU,{})})}),d.jsx(Tn,{path:"*",element:d.jsx(mU,{})})]})})})]})});B1(document.getElementById("root")).render(d.jsx(uC,{children:d.jsx(PU,{})}));
