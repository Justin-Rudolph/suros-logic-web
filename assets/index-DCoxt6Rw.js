var kv=t=>{throw TypeError(t)};var Zh=(t,e,n)=>e.has(t)||kv("Cannot "+n);var z=(t,e,n)=>(Zh(t,e,"read from private field"),n?n.call(t):e.get(t)),Ee=(t,e,n)=>e.has(t)?kv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(Zh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(Zh(t,e,"access private method"),n);var zc=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return z(t,e,r)}});function RC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ax={exports:{}},Bd={},Rx={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),PC=Symbol.for("react.portal"),NC=Symbol.for("react.fragment"),kC=Symbol.for("react.strict_mode"),jC=Symbol.for("react.profiler"),DC=Symbol.for("react.provider"),OC=Symbol.for("react.context"),LC=Symbol.for("react.forward_ref"),MC=Symbol.for("react.suspense"),VC=Symbol.for("react.memo"),FC=Symbol.for("react.lazy"),jv=Symbol.iterator;function UC(t){return t===null||typeof t!="object"?null:(t=jv&&t[jv]||t["@@iterator"],typeof t=="function"?t:null)}var Px={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nx=Object.assign,kx={};function da(t,e,n){this.props=t,this.context=e,this.refs=kx,this.updater=n||Px}da.prototype.isReactComponent={};da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jx(){}jx.prototype=da.prototype;function Pm(t,e,n){this.props=t,this.context=e,this.refs=kx,this.updater=n||Px}var Nm=Pm.prototype=new jx;Nm.constructor=Pm;Nx(Nm,da.prototype);Nm.isPureReactComponent=!0;var Dv=Array.isArray,Dx=Object.prototype.hasOwnProperty,km={current:null},Ox={key:!0,ref:!0,__self:!0,__source:!0};function Lx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Dx.call(e,r)&&!Ox.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:dc,type:t,key:i,ref:o,props:s,_owner:km.current}}function $C(t,e){return{$$typeof:dc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jm(t){return typeof t=="object"&&t!==null&&t.$$typeof===dc}function BC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ov=/\/+/g;function ef(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BC(""+t.key):e.toString(36)}function wu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case dc:case PC:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ef(o,0):r,Dv(s)?(n="",t!=null&&(n=t.replace(Ov,"$&/")+"/"),wu(s,e,n,"",function(u){return u})):s!=null&&(jm(s)&&(s=$C(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ov,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Dv(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+ef(i,a);o+=wu(i,e,n,c,s)}else if(c=UC(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+ef(i,a++),o+=wu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wc(t,e,n){if(t==null)return t;var r=[],s=0;return wu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},xu={transition:null},WC={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:xu,ReactCurrentOwner:km};function Mx(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Wc,forEach:function(t,e,n){Wc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wc(t,function(){e++}),e},toArray:function(t){return Wc(t,function(e){return e})||[]},only:function(t){if(!jm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=da;ge.Fragment=NC;ge.Profiler=jC;ge.PureComponent=Pm;ge.StrictMode=kC;ge.Suspense=MC;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WC;ge.act=Mx;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=km.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Dx.call(e,c)&&!Ox.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:dc,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:OC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DC,_context:t},t.Consumer=t};ge.createElement=Lx;ge.createFactory=function(t){var e=Lx.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:LC,render:t}};ge.isValidElement=jm;ge.lazy=function(t){return{$$typeof:FC,_payload:{_status:-1,_result:t},_init:zC}};ge.memo=function(t,e){return{$$typeof:VC,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=xu.transition;xu.transition={};try{t()}finally{xu.transition=e}};ge.unstable_act=Mx;ge.useCallback=function(t,e){return Mt.current.useCallback(t,e)};ge.useContext=function(t){return Mt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Mt.current.useEffect(t,e)};ge.useId=function(){return Mt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Mt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};ge.useRef=function(t){return Mt.current.useRef(t)};ge.useState=function(t){return Mt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Mt.current.useTransition()};ge.version="18.3.1";Rx.exports=ge;var C=Rx.exports;const Y=Cx(C),Vx=RC({__proto__:null,default:Y},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=C,qC=Symbol.for("react.element"),GC=Symbol.for("react.fragment"),KC=Object.prototype.hasOwnProperty,QC=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YC={key:!0,ref:!0,__self:!0,__source:!0};function Fx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KC.call(e,r)&&!YC.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:qC,type:t,key:i,ref:o,props:s,_owner:QC.current}}Bd.Fragment=GC;Bd.jsx=Fx;Bd.jsxs=Fx;Ax.exports=Bd;var d=Ax.exports,Ux={exports:{}},on={},$x={exports:{}},Bx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,L){var V=B.length;B.push(L);e:for(;0<V;){var Q=V-1>>>1,G=B[Q];if(0<s(G,L))B[Q]=L,B[V]=G,V=Q;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var L=B[0],V=B.pop();if(V!==L){B[0]=V;e:for(var Q=0,G=B.length,$=G>>>1;Q<$;){var U=2*(Q+1)-1,ee=B[U],ne=U+1,re=B[ne];if(0>s(ee,V))ne<G&&0>s(re,ee)?(B[Q]=re,B[ne]=V,Q=ne):(B[Q]=ee,B[U]=V,Q=U);else if(ne<G&&0>s(re,V))B[Q]=re,B[ne]=V,Q=ne;else break e}}return L}function s(B,L){var V=B.sortIndex-L.sortIndex;return V!==0?V:B.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,m=3,g=!1,T=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(B){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=B)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function k(B){if(w=!1,E(B),!T)if(n(c)!==null)T=!0,se(D);else{var L=n(u);L!==null&&ue(k,L.startTime-B)}}function D(B,L){T=!1,w&&(w=!1,_(b),b=-1),g=!0;var V=m;try{for(E(L),f=n(c);f!==null&&(!(f.expirationTime>L)||B&&!N());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,m=f.priorityLevel;var G=Q(f.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),E(L)}else r(c);f=n(c)}if(f!==null)var $=!0;else{var U=n(u);U!==null&&ue(k,U.startTime-L),$=!1}return $}finally{f=null,m=V,g=!1}}var O=!1,S=null,b=-1,A=5,R=-1;function N(){return!(t.unstable_now()-R<A)}function j(){if(S!==null){var B=t.unstable_now();R=B;var L=!0;try{L=S(!0,B)}finally{L?P():(O=!1,S=null)}}else O=!1}var P;if(typeof v=="function")P=function(){v(j)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ce=q.port2;q.port1.onmessage=j,P=function(){ce.postMessage(null)}}else P=function(){x(j,0)};function se(B){S=B,O||(O=!0,P())}function ue(B,L){b=x(function(){B(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){T||g||(T=!0,se(D))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var V=m;m=L;try{return B()}finally{m=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,L){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=m;m=B;try{return L()}finally{m=V}},t.unstable_scheduleCallback=function(B,L,V){var Q=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,B={id:h++,callback:L,priorityLevel:B,startTime:V,expirationTime:G,sortIndex:-1},V>Q?(B.sortIndex=V,e(u,B),n(c)===null&&B===n(u)&&(w?(_(b),b=-1):w=!0,ue(k,V-Q))):(B.sortIndex=G,e(c,B),T||g||(T=!0,se(D))),B},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(B){var L=m;return function(){var V=m;m=L;try{return B.apply(this,arguments)}finally{m=V}}}})(Bx);$x.exports=Bx;var XC=$x.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=C,sn=XC;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zx=new Set,Pl={};function Gi(t,e){Go(t,e),Go(t+"Capture",e)}function Go(t,e){for(Pl[t]=e,t=0;t<e.length;t++)zx.add(e[t])}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=Object.prototype.hasOwnProperty,ZC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lv={},Mv={};function eA(t){return Yf.call(Mv,t)?!0:Yf.call(Lv,t)?!1:ZC.test(t)?Mv[t]=!0:(Lv[t]=!0,!1)}function tA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nA(t,e,n,r){if(e===null||typeof e>"u"||tA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dm=/[\-:]([a-z])/g;function Om(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dm,Om);yt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dm,Om);yt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dm,Om);yt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lm(t,e,n,r){var s=yt.hasOwnProperty(e)?yt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nA(e,n,s,r)&&(n=null),r||s===null?eA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qr=JC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),ho=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),Xf=Symbol.for("react.profiler"),Wx=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),Vm=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),Fm=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),qx=Symbol.for("react.offscreen"),Vv=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=Vv&&t[Vv]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,tf;function nl(t){if(tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tf=e&&e[1]||""}return`
`+tf+t}var nf=!1;function rf(t,e){if(!t||nf)return"";nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nl(t):""}function rA(t){switch(t.tag){case 5:return nl(t.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return t=rf(t.type,!1),t;case 11:return t=rf(t.type.render,!1),t;case 1:return t=rf(t.type,!0),t;default:return""}}function ep(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case ho:return"Portal";case Xf:return"Profiler";case Mm:return"StrictMode";case Jf:return"Suspense";case Zf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hx:return(t.displayName||"Context")+".Consumer";case Wx:return(t._context.displayName||"Context")+".Provider";case Vm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fm:return e=t.displayName||null,e!==null?e:ep(t.type)||"Memo";case cs:e=t._payload,t=t._init;try{return ep(t(e))}catch{}}return null}function sA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ep(e);case 8:return e===Mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iA(t){var e=Gx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qc(t){t._valueTracker||(t._valueTracker=iA(t))}function Kx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tp(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qx(t,e){e=e.checked,e!=null&&Lm(t,"checked",e,!1)}function np(t,e){Qx(t,e);var n=Bs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rp(t,e.type,n):e.hasOwnProperty("defaultValue")&&rp(t,e.type,Bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rp(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rl=Array.isArray;function So(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $v(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(rl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bs(n)}}function Yx(t,e){var n=Bs(e.value),r=Bs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Bv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ip(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,Jx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oA=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(t){oA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fl[e]=fl[t]})});function Zx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fl.hasOwnProperty(t)&&fl[t]?(""+e).trim():e+"px"}function eE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var aA=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function op(t,e){if(e){if(aA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function ap(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lp=null;function Um(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cp=null,Io=null,Co=null;function zv(t){if(t=pc(t)){if(typeof cp!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Gd(e),cp(t.stateNode,t.type,e))}}function tE(t){Io?Co?Co.push(t):Co=[t]:Io=t}function nE(){if(Io){var t=Io,e=Co;if(Co=Io=null,zv(t),e)for(t=0;t<e.length;t++)zv(e[t])}}function rE(t,e){return t(e)}function sE(){}var sf=!1;function iE(t,e,n){if(sf)return t(e,n);sf=!0;try{return rE(t,e,n)}finally{sf=!1,(Io!==null||Co!==null)&&(sE(),nE())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=Gd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var up=!1;if(Lr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){up=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{up=!1}function lA(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var pl=!1,qu=null,Gu=!1,dp=null,cA={onError:function(t){pl=!0,qu=t}};function uA(t,e,n,r,s,i,o,a,c){pl=!1,qu=null,lA.apply(cA,arguments)}function dA(t,e,n,r,s,i,o,a,c){if(uA.apply(this,arguments),pl){if(pl){var u=qu;pl=!1,qu=null}else throw Error(K(198));Gu||(Gu=!0,dp=u)}}function Ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wv(t){if(Ki(t)!==t)throw Error(K(188))}function hA(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Wv(s),t;if(i===r)return Wv(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function aE(t){return t=hA(t),t!==null?lE(t):null}function lE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lE(t);if(e!==null)return e;t=t.sibling}return null}var cE=sn.unstable_scheduleCallback,Hv=sn.unstable_cancelCallback,fA=sn.unstable_shouldYield,pA=sn.unstable_requestPaint,Ke=sn.unstable_now,mA=sn.unstable_getCurrentPriorityLevel,$m=sn.unstable_ImmediatePriority,uE=sn.unstable_UserBlockingPriority,Ku=sn.unstable_NormalPriority,gA=sn.unstable_LowPriority,dE=sn.unstable_IdlePriority,zd=null,ir=null;function yA(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(zd,t,void 0,(t.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:wA,vA=Math.log,_A=Math.LN2;function wA(t){return t>>>=0,t===0?32:31-(vA(t)/_A|0)|0}var Kc=64,Qc=4194304;function sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=sl(a):(i&=o,i!==0&&(r=sl(i)))}else o=n&~s,o!==0?r=sl(o):i!==0&&(r=sl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dn(e),s=1<<n,r|=t[n],e&=~s;return r}function xA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Dn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=xA(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function hp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hE(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dn(e),t[e]=n}function bA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Dn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Bm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Se=0;function fE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pE,zm,mE,gE,yE,fp=!1,Yc=[],Cs=null,As=null,Rs=null,jl=new Map,Dl=new Map,ds=[],TA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qv(t,e){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(e.pointerId)}}function Ha(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pc(e),e!==null&&zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SA(t,e,n,r,s){switch(e){case"focusin":return Cs=Ha(Cs,t,e,n,r,s),!0;case"dragenter":return As=Ha(As,t,e,n,r,s),!0;case"mouseover":return Rs=Ha(Rs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jl.set(i,Ha(jl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dl.set(i,Ha(Dl.get(i)||null,t,e,n,r,s)),!0}return!1}function vE(t){var e=_i(t.target);if(e!==null){var n=Ki(e);if(n!==null){if(e=n.tag,e===13){if(e=oE(n),e!==null){t.blockedOn=e,yE(t.priority,function(){mE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lp=r,n.target.dispatchEvent(r),lp=null}else return e=pc(n),e!==null&&zm(e),t.blockedOn=n,!1;e.shift()}return!0}function Gv(t,e,n){Eu(t)&&n.delete(e)}function IA(){fp=!1,Cs!==null&&Eu(Cs)&&(Cs=null),As!==null&&Eu(As)&&(As=null),Rs!==null&&Eu(Rs)&&(Rs=null),jl.forEach(Gv),Dl.forEach(Gv)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,fp||(fp=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,IA)))}function Ol(t){function e(s){return qa(s,t)}if(0<Yc.length){qa(Yc[0],t);for(var n=1;n<Yc.length;n++){var r=Yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cs!==null&&qa(Cs,t),As!==null&&qa(As,t),Rs!==null&&qa(Rs,t),jl.forEach(e),Dl.forEach(e),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)vE(n),n.blockedOn===null&&ds.shift()}var Ao=qr.ReactCurrentBatchConfig,Yu=!0;function CA(t,e,n,r){var s=Se,i=Ao.transition;Ao.transition=null;try{Se=1,Wm(t,e,n,r)}finally{Se=s,Ao.transition=i}}function AA(t,e,n,r){var s=Se,i=Ao.transition;Ao.transition=null;try{Se=4,Wm(t,e,n,r)}finally{Se=s,Ao.transition=i}}function Wm(t,e,n,r){if(Yu){var s=pp(t,e,n,r);if(s===null)gf(t,e,r,Xu,n),qv(t,r);else if(SA(s,t,e,n,r))r.stopPropagation();else if(qv(t,r),e&4&&-1<TA.indexOf(t)){for(;s!==null;){var i=pc(s);if(i!==null&&pE(i),i=pp(t,e,n,r),i===null&&gf(t,e,r,Xu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else gf(t,e,r,null,n)}}var Xu=null;function pp(t,e,n,r){if(Xu=null,t=Um(r),t=_i(t),t!==null)if(e=Ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xu=t,null}function _E(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mA()){case $m:return 1;case uE:return 4;case Ku:case gA:return 16;case dE:return 536870912;default:return 16}default:return 16}}var bs=null,Hm=null,bu=null;function wE(){if(bu)return bu;var t,e=Hm,n=e.length,r,s="value"in bs?bs.value:bs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return bu=s.slice(t,1<r?1-r:void 0)}function Tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xc(){return!0}function Kv(){return!1}function an(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xc:Kv,this.isPropagationStopped=Kv,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),e}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=an(ha),fc=Fe({},ha,{view:0,detail:0}),RA=an(fc),af,lf,Ga,Wd=Fe({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ga&&(Ga&&t.type==="mousemove"?(af=t.screenX-Ga.screenX,lf=t.screenY-Ga.screenY):lf=af=0,Ga=t),af)},movementY:function(t){return"movementY"in t?t.movementY:lf}}),Qv=an(Wd),PA=Fe({},Wd,{dataTransfer:0}),NA=an(PA),kA=Fe({},fc,{relatedTarget:0}),cf=an(kA),jA=Fe({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),DA=an(jA),OA=Fe({},ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LA=an(OA),MA=Fe({},ha,{data:0}),Yv=an(MA),VA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $A(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UA[t])?!!e[t]:!1}function Gm(){return $A}var BA=Fe({},fc,{key:function(t){if(t.key){var e=VA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gm,charCode:function(t){return t.type==="keypress"?Tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zA=an(BA),WA=Fe({},Wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xv=an(WA),HA=Fe({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gm}),qA=an(HA),GA=Fe({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),KA=an(GA),QA=Fe({},Wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YA=an(QA),XA=[9,13,27,32],Km=Lr&&"CompositionEvent"in window,ml=null;Lr&&"documentMode"in document&&(ml=document.documentMode);var JA=Lr&&"TextEvent"in window&&!ml,xE=Lr&&(!Km||ml&&8<ml&&11>=ml),Jv=" ",Zv=!1;function EE(t,e){switch(t){case"keyup":return XA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function ZA(t,e){switch(t){case"compositionend":return bE(e);case"keypress":return e.which!==32?null:(Zv=!0,Jv);case"textInput":return t=e.data,t===Jv&&Zv?null:t;default:return null}}function eR(t,e){if(po)return t==="compositionend"||!Km&&EE(t,e)?(t=wE(),bu=Hm=bs=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xE&&e.locale!=="ko"?null:e.data;default:return null}}var tR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tR[t.type]:e==="textarea"}function TE(t,e,n,r){tE(r),e=Ju(e,"onChange"),0<e.length&&(n=new qm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var gl=null,Ll=null;function nR(t){OE(t,0)}function Hd(t){var e=yo(t);if(Kx(e))return t}function rR(t,e){if(t==="change")return e}var SE=!1;if(Lr){var uf;if(Lr){var df="oninput"in document;if(!df){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),df=typeof t_.oninput=="function"}uf=df}else uf=!1;SE=uf&&(!document.documentMode||9<document.documentMode)}function n_(){gl&&(gl.detachEvent("onpropertychange",IE),Ll=gl=null)}function IE(t){if(t.propertyName==="value"&&Hd(Ll)){var e=[];TE(e,Ll,t,Um(t)),iE(nR,e)}}function sR(t,e,n){t==="focusin"?(n_(),gl=e,Ll=n,gl.attachEvent("onpropertychange",IE)):t==="focusout"&&n_()}function iR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hd(Ll)}function oR(t,e){if(t==="click")return Hd(e)}function aR(t,e){if(t==="input"||t==="change")return Hd(e)}function lR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:lR;function Ml(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yf.call(e,s)||!Mn(t[s],e[s]))return!1}return!0}function r_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s_(t,e){var n=r_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r_(n)}}function CE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function AE(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function Qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cR(t){var e=AE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CE(n.ownerDocument.documentElement,n)){if(r!==null&&Qm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=s_(n,i);var o=s_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uR=Lr&&"documentMode"in document&&11>=document.documentMode,mo=null,mp=null,yl=null,gp=!1;function i_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gp||mo==null||mo!==Hu(r)||(r=mo,"selectionStart"in r&&Qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&Ml(yl,r)||(yl=r,r=Ju(mp,"onSelect"),0<r.length&&(e=new qm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function Jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var go={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},hf={},RE={};Lr&&(RE=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function qd(t){if(hf[t])return hf[t];if(!go[t])return t;var e=go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RE)return hf[t]=e[n];return t}var PE=qd("animationend"),NE=qd("animationiteration"),kE=qd("animationstart"),jE=qd("transitionend"),DE=new Map,o_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(t,e){DE.set(t,e),Gi(e,[t])}for(var ff=0;ff<o_.length;ff++){var pf=o_[ff],dR=pf.toLowerCase(),hR=pf[0].toUpperCase()+pf.slice(1);ti(dR,"on"+hR)}ti(PE,"onAnimationEnd");ti(NE,"onAnimationIteration");ti(kE,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(jE,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fR=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function a_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dA(r,e,void 0,t),t.currentTarget=null}function OE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;a_(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;a_(s,a,u),i=c}}}if(Gu)throw t=dp,Gu=!1,dp=null,t}function je(t,e){var n=e[xp];n===void 0&&(n=e[xp]=new Set);var r=t+"__bubble";n.has(r)||(LE(e,t,2,!1),n.add(r))}function mf(t,e,n){var r=0;e&&(r|=4),LE(n,t,r,e)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Vl(t){if(!t[Zc]){t[Zc]=!0,zx.forEach(function(n){n!=="selectionchange"&&(fR.has(n)||mf(n,!1,t),mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zc]||(e[Zc]=!0,mf("selectionchange",!1,e))}}function LE(t,e,n,r){switch(_E(e)){case 1:var s=CA;break;case 4:s=AA;break;default:s=Wm}n=s.bind(null,e,n,t),s=void 0,!up||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function gf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_i(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}iE(function(){var u=i,h=Um(n),f=[];e:{var m=DE.get(t);if(m!==void 0){var g=qm,T=t;switch(t){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":g=zA;break;case"focusin":T="focus",g=cf;break;case"focusout":T="blur",g=cf;break;case"beforeblur":case"afterblur":g=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Qv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=NA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qA;break;case PE:case NE:case kE:g=DA;break;case jE:g=KA;break;case"scroll":g=RA;break;case"wheel":g=YA;break;case"copy":case"cut":case"paste":g=LA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Xv}var w=(e&4)!==0,x=!w&&t==="scroll",_=w?m!==null?m+"Capture":null:m;w=[];for(var v=u,E;v!==null;){E=v;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,_!==null&&(k=kl(v,_),k!=null&&w.push(Fl(v,k,E)))),x)break;v=v.return}0<w.length&&(m=new g(m,T,null,n,h),f.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==lp&&(T=n.relatedTarget||n.fromElement)&&(_i(T)||T[Mr]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=u,T=T?_i(T):null,T!==null&&(x=Ki(T),T!==x||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=u),g!==T)){if(w=Qv,k="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Xv,k="onPointerLeave",_="onPointerEnter",v="pointer"),x=g==null?m:yo(g),E=T==null?m:yo(T),m=new w(k,v+"leave",g,n,h),m.target=x,m.relatedTarget=E,k=null,_i(h)===u&&(w=new w(_,v+"enter",T,n,h),w.target=E,w.relatedTarget=x,k=w),x=k,g&&T)t:{for(w=g,_=T,v=0,E=w;E;E=oo(E))v++;for(E=0,k=_;k;k=oo(k))E++;for(;0<v-E;)w=oo(w),v--;for(;0<E-v;)_=oo(_),E--;for(;v--;){if(w===_||_!==null&&w===_.alternate)break t;w=oo(w),_=oo(_)}w=null}else w=null;g!==null&&l_(f,m,g,w,!1),T!==null&&x!==null&&l_(f,x,T,w,!0)}}e:{if(m=u?yo(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var D=rR;else if(e_(m))if(SE)D=aR;else{D=iR;var O=sR}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=oR);if(D&&(D=D(t,u))){TE(f,D,n,h);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&rp(m,"number",m.value)}switch(O=u?yo(u):window,t){case"focusin":(e_(O)||O.contentEditable==="true")&&(mo=O,mp=u,yl=null);break;case"focusout":yl=mp=mo=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,i_(f,n,h);break;case"selectionchange":if(uR)break;case"keydown":case"keyup":i_(f,n,h)}var S;if(Km)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else po?EE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(xE&&n.locale!=="ko"&&(po||b!=="onCompositionStart"?b==="onCompositionEnd"&&po&&(S=wE()):(bs=h,Hm="value"in bs?bs.value:bs.textContent,po=!0)),O=Ju(u,b),0<O.length&&(b=new Yv(b,t,null,n,h),f.push({event:b,listeners:O}),S?b.data=S:(S=bE(n),S!==null&&(b.data=S)))),(S=JA?ZA(t,n):eR(t,n))&&(u=Ju(u,"onBeforeInput"),0<u.length&&(h=new Yv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=S))}OE(f,e)})}function Fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kl(t,n),i!=null&&r.unshift(Fl(t,i,s)),i=kl(t,e),i!=null&&r.push(Fl(t,i,s))),t=t.return}return r}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=kl(n,i),c!=null&&o.unshift(Fl(n,c,a))):s||(c=kl(n,i),c!=null&&o.push(Fl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pR=/\r\n?/g,mR=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(pR,`
`).replace(mR,"")}function eu(t,e,n){if(e=c_(e),c_(t)!==e&&n)throw Error(K(425))}function Zu(){}var yp=null,vp=null;function _p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wp=typeof setTimeout=="function"?setTimeout:void 0,gR=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,yR=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(vR)}:wp;function vR(t){setTimeout(function(){throw t})}function yf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ol(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ol(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),nr="__reactFiber$"+fa,Ul="__reactProps$"+fa,Mr="__reactContainer$"+fa,xp="__reactEvents$"+fa,_R="__reactListeners$"+fa,wR="__reactHandles$"+fa;function _i(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mr]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d_(t);t!==null;){if(n=t[nr])return n;t=d_(t)}return e}t=n,n=t.parentNode}return null}function pc(t){return t=t[nr]||t[Mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Gd(t){return t[Ul]||null}var Ep=[],vo=-1;function ni(t){return{current:t}}function De(t){0>vo||(t.current=Ep[vo],Ep[vo]=null,vo--)}function Pe(t,e){vo++,Ep[vo]=t.current,t.current=e}var zs={},Ct=ni(zs),Ht=ni(!1),Di=zs;function Ko(t,e){var n=t.type.contextTypes;if(!n)return zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qt(t){return t=t.childContextTypes,t!=null}function ed(){De(Ht),De(Ct)}function h_(t,e,n){if(Ct.current!==zs)throw Error(K(168));Pe(Ct,e),Pe(Ht,n)}function ME(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,sA(t)||"Unknown",s));return Fe({},n,r)}function td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zs,Di=Ct.current,Pe(Ct,t),Pe(Ht,Ht.current),!0}function f_(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=ME(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,De(Ht),De(Ct),Pe(Ct,t)):De(Ht),Pe(Ht,n)}var Rr=null,Kd=!1,vf=!1;function VE(t){Rr===null?Rr=[t]:Rr.push(t)}function xR(t){Kd=!0,VE(t)}function ri(){if(!vf&&Rr!==null){vf=!0;var t=0,e=Se;try{var n=Rr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,Kd=!1}catch(s){throw Rr!==null&&(Rr=Rr.slice(t+1)),cE($m,ri),s}finally{Se=e,vf=!1}}return null}var _o=[],wo=0,nd=null,rd=0,fn=[],pn=0,Oi=null,Nr=1,kr="";function gi(t,e){_o[wo++]=rd,_o[wo++]=nd,nd=t,rd=e}function FE(t,e,n){fn[pn++]=Nr,fn[pn++]=kr,fn[pn++]=Oi,Oi=t;var r=Nr;t=kr;var s=32-Dn(r)-1;r&=~(1<<s),n+=1;var i=32-Dn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Nr=1<<32-Dn(e)+s|n<<s|r,kr=i+t}else Nr=1<<i|n<<s|r,kr=t}function Ym(t){t.return!==null&&(gi(t,1),FE(t,1,0))}function Xm(t){for(;t===nd;)nd=_o[--wo],_o[wo]=null,rd=_o[--wo],_o[wo]=null;for(;t===Oi;)Oi=fn[--pn],fn[pn]=null,kr=fn[--pn],fn[pn]=null,Nr=fn[--pn],fn[pn]=null}var nn=null,en=null,Oe=!1,Nn=null;function UE(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,en=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:Nr,overflow:kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,en=null,!0):!1;default:return!1}}function bp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tp(t){if(Oe){var e=en;if(e){var n=e;if(!p_(t,e)){if(bp(t))throw Error(K(418));e=Ps(n.nextSibling);var r=nn;e&&p_(t,e)?UE(r,n):(t.flags=t.flags&-4097|2,Oe=!1,nn=t)}}else{if(bp(t))throw Error(K(418));t.flags=t.flags&-4097|2,Oe=!1,nn=t}}}function m_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function tu(t){if(t!==nn)return!1;if(!Oe)return m_(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_p(t.type,t.memoizedProps)),e&&(e=en)){if(bp(t))throw $E(),Error(K(418));for(;e;)UE(t,e),e=Ps(e.nextSibling)}if(m_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=Ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=nn?Ps(t.stateNode.nextSibling):null;return!0}function $E(){for(var t=en;t;)t=Ps(t.nextSibling)}function Qo(){en=nn=null,Oe=!1}function Jm(t){Nn===null?Nn=[t]:Nn.push(t)}var ER=qr.ReactCurrentBatchConfig;function Ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function nu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g_(t){var e=t._init;return e(t._payload)}function BE(t){function e(_,v){if(t){var E=_.deletions;E===null?(_.deletions=[v],_.flags|=16):E.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=Ds(_,v),_.index=0,_.sibling=null,_}function i(_,v,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<v?(_.flags|=2,v):E):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,E,k){return v===null||v.tag!==6?(v=Sf(E,_.mode,k),v.return=_,v):(v=s(v,E),v.return=_,v)}function c(_,v,E,k){var D=E.type;return D===fo?h(_,v,E.props.children,k,E.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===cs&&g_(D)===v.type)?(k=s(v,E.props),k.ref=Ka(_,v,E),k.return=_,k):(k=Nu(E.type,E.key,E.props,null,_.mode,k),k.ref=Ka(_,v,E),k.return=_,k)}function u(_,v,E,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=If(E,_.mode,k),v.return=_,v):(v=s(v,E.children||[]),v.return=_,v)}function h(_,v,E,k,D){return v===null||v.tag!==7?(v=Pi(E,_.mode,k,D),v.return=_,v):(v=s(v,E),v.return=_,v)}function f(_,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Sf(""+v,_.mode,E),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hc:return E=Nu(v.type,v.key,v.props,null,_.mode,E),E.ref=Ka(_,null,v),E.return=_,E;case ho:return v=If(v,_.mode,E),v.return=_,v;case cs:var k=v._init;return f(_,k(v._payload),E)}if(rl(v)||za(v))return v=Pi(v,_.mode,E,null),v.return=_,v;nu(_,v)}return null}function m(_,v,E,k){var D=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:a(_,v,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hc:return E.key===D?c(_,v,E,k):null;case ho:return E.key===D?u(_,v,E,k):null;case cs:return D=E._init,m(_,v,D(E._payload),k)}if(rl(E)||za(E))return D!==null?null:h(_,v,E,k,null);nu(_,E)}return null}function g(_,v,E,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(E)||null,a(v,_,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Hc:return _=_.get(k.key===null?E:k.key)||null,c(v,_,k,D);case ho:return _=_.get(k.key===null?E:k.key)||null,u(v,_,k,D);case cs:var O=k._init;return g(_,v,E,O(k._payload),D)}if(rl(k)||za(k))return _=_.get(E)||null,h(v,_,k,D,null);nu(v,k)}return null}function T(_,v,E,k){for(var D=null,O=null,S=v,b=v=0,A=null;S!==null&&b<E.length;b++){S.index>b?(A=S,S=null):A=S.sibling;var R=m(_,S,E[b],k);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(_,S),v=i(R,v,b),O===null?D=R:O.sibling=R,O=R,S=A}if(b===E.length)return n(_,S),Oe&&gi(_,b),D;if(S===null){for(;b<E.length;b++)S=f(_,E[b],k),S!==null&&(v=i(S,v,b),O===null?D=S:O.sibling=S,O=S);return Oe&&gi(_,b),D}for(S=r(_,S);b<E.length;b++)A=g(S,_,b,E[b],k),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?b:A.key),v=i(A,v,b),O===null?D=A:O.sibling=A,O=A);return t&&S.forEach(function(N){return e(_,N)}),Oe&&gi(_,b),D}function w(_,v,E,k){var D=za(E);if(typeof D!="function")throw Error(K(150));if(E=D.call(E),E==null)throw Error(K(151));for(var O=D=null,S=v,b=v=0,A=null,R=E.next();S!==null&&!R.done;b++,R=E.next()){S.index>b?(A=S,S=null):A=S.sibling;var N=m(_,S,R.value,k);if(N===null){S===null&&(S=A);break}t&&S&&N.alternate===null&&e(_,S),v=i(N,v,b),O===null?D=N:O.sibling=N,O=N,S=A}if(R.done)return n(_,S),Oe&&gi(_,b),D;if(S===null){for(;!R.done;b++,R=E.next())R=f(_,R.value,k),R!==null&&(v=i(R,v,b),O===null?D=R:O.sibling=R,O=R);return Oe&&gi(_,b),D}for(S=r(_,S);!R.done;b++,R=E.next())R=g(S,_,b,R.value,k),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?b:R.key),v=i(R,v,b),O===null?D=R:O.sibling=R,O=R);return t&&S.forEach(function(j){return e(_,j)}),Oe&&gi(_,b),D}function x(_,v,E,k){if(typeof E=="object"&&E!==null&&E.type===fo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Hc:e:{for(var D=E.key,O=v;O!==null;){if(O.key===D){if(D=E.type,D===fo){if(O.tag===7){n(_,O.sibling),v=s(O,E.props.children),v.return=_,_=v;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===cs&&g_(D)===O.type){n(_,O.sibling),v=s(O,E.props),v.ref=Ka(_,O,E),v.return=_,_=v;break e}n(_,O);break}else e(_,O);O=O.sibling}E.type===fo?(v=Pi(E.props.children,_.mode,k,E.key),v.return=_,_=v):(k=Nu(E.type,E.key,E.props,null,_.mode,k),k.ref=Ka(_,v,E),k.return=_,_=k)}return o(_);case ho:e:{for(O=E.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(_,v.sibling),v=s(v,E.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=If(E,_.mode,k),v.return=_,_=v}return o(_);case cs:return O=E._init,x(_,v,O(E._payload),k)}if(rl(E))return T(_,v,E,k);if(za(E))return w(_,v,E,k);nu(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,E),v.return=_,_=v):(n(_,v),v=Sf(E,_.mode,k),v.return=_,_=v),o(_)):n(_,v)}return x}var Yo=BE(!0),zE=BE(!1),sd=ni(null),id=null,xo=null,Zm=null;function eg(){Zm=xo=id=null}function tg(t){var e=sd.current;De(sd),t._currentValue=e}function Sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){id=t,Zm=xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Zm!==t)if(t={context:t,memoizedValue:e,next:null},xo===null){if(id===null)throw Error(K(308));xo=t,id.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return e}var wi=null;function ng(t){wi===null?wi=[t]:wi.push(t)}function WE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ng(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var us=!1;function rg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vr(t,n)}return s=r.interleaved,s===null?(e.next=e,ng(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vr(t,n)}function Su(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}function y_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function od(t,e,n,r){var s=t.updateQueue;us=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=u=c=null,a=i;do{var m=a.lane,g=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,w=a;switch(m=e,g=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){f=T.call(g,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,m=typeof T=="function"?T.call(g,f,m):T,m==null)break e;f=Fe({},f,m);break e;case 2:us=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,c=f):h=h.next=g,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mi|=o,t.lanes=o,t.memoizedState=f}}function v_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var mc={},or=ni(mc),$l=ni(mc),Bl=ni(mc);function xi(t){if(t===mc)throw Error(K(174));return t}function sg(t,e){switch(Pe(Bl,e),Pe($l,t),Pe(or,mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ip(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ip(e,t)}De(or),Pe(or,e)}function Xo(){De(or),De($l),De(Bl)}function qE(t){xi(Bl.current);var e=xi(or.current),n=ip(e,t.type);e!==n&&(Pe($l,t),Pe(or,n))}function ig(t){$l.current===t&&(De(or),De($l))}var Me=ni(0);function ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _f=[];function og(){for(var t=0;t<_f.length;t++)_f[t]._workInProgressVersionPrimary=null;_f.length=0}var Iu=qr.ReactCurrentDispatcher,wf=qr.ReactCurrentBatchConfig,Li=0,Ve=null,rt=null,dt=null,ld=!1,vl=!1,zl=0,bR=0;function wt(){throw Error(K(321))}function ag(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function lg(t,e,n,r,s,i){if(Li=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Iu.current=t===null||t.memoizedState===null?CR:AR,t=n(r,s),vl){i=0;do{if(vl=!1,zl=0,25<=i)throw Error(K(301));i+=1,dt=rt=null,e.updateQueue=null,Iu.current=RR,t=n(r,s)}while(vl)}if(Iu.current=cd,e=rt!==null&&rt.next!==null,Li=0,dt=rt=Ve=null,ld=!1,e)throw Error(K(300));return t}function cg(){var t=zl!==0;return zl=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ve.memoizedState=dt=t:dt=dt.next=t,dt}function xn(){if(rt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=dt===null?Ve.memoizedState:dt.next;if(e!==null)dt=e,rt=t;else{if(t===null)throw Error(K(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},dt===null?Ve.memoizedState=dt=t:dt=dt.next=t}return dt}function Wl(t,e){return typeof e=="function"?e(t):e}function xf(t){var e=xn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var h=u.lane;if((Li&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ve.lanes|=h,Mi|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Mn(r,e.memoizedState)||(Wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,Mi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ef(t){var e=xn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Mn(i,e.memoizedState)||(Wt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function GE(){}function KE(t,e){var n=Ve,r=xn(),s=e(),i=!Mn(r.memoizedState,s);if(i&&(r.memoizedState=s,Wt=!0),r=r.queue,ug(XE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Hl(9,YE.bind(null,n,r,s,e),void 0,null),ht===null)throw Error(K(349));Li&30||QE(n,e,s)}return s}function QE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YE(t,e,n,r){e.value=n,e.getSnapshot=r,JE(e)&&ZE(t)}function XE(t,e,n){return n(function(){JE(e)&&ZE(t)})}function JE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch{return!0}}function ZE(t){var e=Vr(t,1);e!==null&&On(e,t,1,-1)}function __(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:t},e.queue=t,t=t.dispatch=IR.bind(null,Ve,t),[e.memoizedState,t]}function Hl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function e1(){return xn().memoizedState}function Cu(t,e,n,r){var s=Xn();Ve.flags|=t,s.memoizedState=Hl(1|e,n,void 0,r===void 0?null:r)}function Qd(t,e,n,r){var s=xn();r=r===void 0?null:r;var i=void 0;if(rt!==null){var o=rt.memoizedState;if(i=o.destroy,r!==null&&ag(r,o.deps)){s.memoizedState=Hl(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=Hl(1|e,n,i,r)}function w_(t,e){return Cu(8390656,8,t,e)}function ug(t,e){return Qd(2048,8,t,e)}function t1(t,e){return Qd(4,2,t,e)}function n1(t,e){return Qd(4,4,t,e)}function r1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s1(t,e,n){return n=n!=null?n.concat([t]):null,Qd(4,4,r1.bind(null,e,t),n)}function dg(){}function i1(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ag(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function o1(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ag(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function a1(t,e,n){return Li&21?(Mn(n,e)||(n=hE(),Ve.lanes|=n,Mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=n)}function TR(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=wf.transition;wf.transition={};try{t(!1),e()}finally{Se=n,wf.transition=r}}function l1(){return xn().memoizedState}function SR(t,e,n){var r=js(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},c1(t))u1(e,n);else if(n=WE(t,e,n,r),n!==null){var s=Lt();On(n,t,r,s),d1(n,e,r)}}function IR(t,e,n){var r=js(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(c1(t))u1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Mn(a,o)){var c=e.interleaved;c===null?(s.next=s,ng(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=WE(t,e,s,r),n!==null&&(s=Lt(),On(n,t,r,s),d1(n,e,r))}}function c1(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function u1(t,e){vl=ld=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function d1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}var cd={readContext:wn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},CR={readContext:wn,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:w_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cu(4194308,4,r1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cu(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SR.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:__,useDebugValue:dg,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=__(!1),e=t[0];return t=TR.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=Xn();if(Oe){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),ht===null)throw Error(K(349));Li&30||QE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,w_(XE.bind(null,r,i,t),[t]),r.flags|=2048,Hl(9,YE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xn(),e=ht.identifierPrefix;if(Oe){var n=kr,r=Nr;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AR={readContext:wn,useCallback:i1,useContext:wn,useEffect:ug,useImperativeHandle:s1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:o1,useReducer:xf,useRef:e1,useState:function(){return xf(Wl)},useDebugValue:dg,useDeferredValue:function(t){var e=xn();return a1(e,rt.memoizedState,t)},useTransition:function(){var t=xf(Wl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:GE,useSyncExternalStore:KE,useId:l1,unstable_isNewReconciler:!1},RR={readContext:wn,useCallback:i1,useContext:wn,useEffect:ug,useImperativeHandle:s1,useInsertionEffect:t1,useLayoutEffect:n1,useMemo:o1,useReducer:Ef,useRef:e1,useState:function(){return Ef(Wl)},useDebugValue:dg,useDeferredValue:function(t){var e=xn();return rt===null?e.memoizedState=t:a1(e,rt.memoizedState,t)},useTransition:function(){var t=Ef(Wl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:GE,useSyncExternalStore:KE,useId:l1,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yd={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=js(t),i=Or(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(On(e,t,s,r),Su(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),s=js(t),i=Or(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(On(e,t,s,r),Su(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=js(t),s=Or(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ns(t,s,r),e!==null&&(On(e,t,r,n),Su(e,t,r))}};function x_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ml(n,r)||!Ml(s,i):!0}function h1(t,e,n){var r=!1,s=zs,i=e.contextType;return typeof i=="object"&&i!==null?i=wn(i):(s=qt(e)?Di:Ct.current,r=e.contextTypes,i=(r=r!=null)?Ko(t,s):zs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function E_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yd.enqueueReplaceState(e,e.state,null)}function Cp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},rg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wn(i):(i=qt(e)?Di:Ct.current,s.context=Ko(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ip(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yd.enqueueReplaceState(s,s.state,null),od(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Jo(t,e){try{var n="",r=e;do n+=rA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PR=typeof WeakMap=="function"?WeakMap:Map;function f1(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dd||(dd=!0,Vp=r),Ap(t,e)},n}function p1(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ap(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ap(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function b_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=WR.bind(null,t,e,n),e.then(t,t))}function T_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var NR=qr.ReactCurrentOwner,Wt=!1;function Dt(t,e,n,r){e.child=t===null?zE(e,null,n,r):Yo(e,t.child,n,r)}function I_(t,e,n,r,s){n=n.render;var i=e.ref;return Ro(e,s),r=lg(t,e,n,r,i,s),n=cg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fr(t,e,s)):(Oe&&n&&Ym(e),e.flags|=1,Dt(t,e,r,s),e.child)}function C_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_g(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,m1(t,e,i,r,s)):(t=Nu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(o,r)&&t.ref===e.ref)return Fr(t,e,s)}return e.flags|=1,t=Ds(i,r),t.ref=e.ref,t.return=e,e.child=t}function m1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ml(i,r)&&t.ref===e.ref)if(Wt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Wt=!0);else return e.lanes=t.lanes,Fr(t,e,s)}return Rp(t,e,n,r,s)}function g1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(bo,Jt),Jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(bo,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pe(bo,Jt),Jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Pe(bo,Jt),Jt|=r;return Dt(t,e,s,n),e.child}function y1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rp(t,e,n,r,s){var i=qt(n)?Di:Ct.current;return i=Ko(e,i),Ro(e,s),n=lg(t,e,n,r,i,s),r=cg(),t!==null&&!Wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fr(t,e,s)):(Oe&&r&&Ym(e),e.flags|=1,Dt(t,e,n,s),e.child)}function A_(t,e,n,r,s){if(qt(n)){var i=!0;td(e)}else i=!1;if(Ro(e,s),e.stateNode===null)Au(t,e),h1(e,n,r),Cp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=qt(n)?Di:Ct.current,u=Ko(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&E_(e,o,r,u),us=!1;var m=e.memoizedState;o.state=m,od(e,r,o,s),c=e.memoizedState,a!==r||m!==c||Ht.current||us?(typeof h=="function"&&(Ip(e,n,h,r),c=e.memoizedState),(a=us||x_(e,n,a,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,HE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:In(e.type,a),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=wn(c):(c=qt(n)?Di:Ct.current,c=Ko(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&E_(e,o,r,c),us=!1,m=e.memoizedState,o.state=m,od(e,r,o,s);var T=e.memoizedState;a!==f||m!==T||Ht.current||us?(typeof g=="function"&&(Ip(e,n,g,r),T=e.memoizedState),(u=us||x_(e,n,u,r,m,T,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Pp(t,e,n,r,i,s)}function Pp(t,e,n,r,s,i){y1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&f_(e,n,!1),Fr(t,e,i);r=e.stateNode,NR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yo(e,t.child,null,i),e.child=Yo(e,null,a,i)):Dt(t,e,a,i),e.memoizedState=r.state,s&&f_(e,n,!0),e.child}function v1(t){var e=t.stateNode;e.pendingContext?h_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h_(t,e.context,!1),sg(t,e.containerInfo)}function R_(t,e,n,r,s){return Qo(),Jm(s),e.flags|=256,Dt(t,e,n,r),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function kp(t){return{baseLanes:t,cachePool:null,transitions:null}}function _1(t,e,n){var r=e.pendingProps,s=Me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pe(Me,s&1),t===null)return Tp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zd(o,r,0,null),t=Pi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=kp(n),e.memoizedState=Np,t):hg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return kR(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ds(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ds(a,i):(i=Pi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?kp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Np,r}return i=t.child,t=i.sibling,r=Ds(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hg(t,e){return e=Zd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ru(t,e,n,r){return r!==null&&Jm(r),Yo(e,t.child,null,n),t=hg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kR(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bf(Error(K(422))),ru(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zd({mode:"visible",children:r.children},s,0,null),i=Pi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Yo(e,t.child,null,o),e.child.memoizedState=kp(o),e.memoizedState=Np,i);if(!(e.mode&1))return ru(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=bf(i,r,void 0),ru(t,e,o,r)}if(a=(o&t.childLanes)!==0,Wt||a){if(r=ht,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vr(t,s),On(r,t,s,-1))}return vg(),r=bf(Error(K(421))),ru(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=HR.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,en=Ps(s.nextSibling),nn=e,Oe=!0,Nn=null,t!==null&&(fn[pn++]=Nr,fn[pn++]=kr,fn[pn++]=Oi,Nr=t.id,kr=t.overflow,Oi=e),e=hg(e,r.children),e.flags|=4096,e)}function P_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sp(t.return,e,n)}function Tf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function w1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Dt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P_(t,n,e);else if(t.tag===19)P_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ad(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Tf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ad(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Tf(e,!0,n,null,i);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jR(t,e,n){switch(e.tag){case 3:v1(e),Qo();break;case 5:qE(e);break;case 1:qt(e.type)&&td(e);break;case 4:sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pe(sd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?_1(t,e,n):(Pe(Me,Me.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);Pe(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return w1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,g1(t,e,n)}return Fr(t,e,n)}var x1,jp,E1,b1;x1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jp=function(){};E1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,xi(or.current);var i=null;switch(n){case"input":s=tp(t,s),r=tp(t,r),i=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":s=sp(t,s),r=sp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zu)}op(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};b1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qa(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DR(t,e,n){var r=e.pendingProps;switch(Xm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return qt(e.type)&&ed(),xt(e),null;case 3:return r=e.stateNode,Xo(),De(Ht),De(Ct),og(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&($p(Nn),Nn=null))),jp(t,e),xt(e),null;case 5:ig(e);var s=xi(Bl.current);if(n=e.type,t!==null&&e.stateNode!=null)E1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return xt(e),null}if(t=xi(or.current),tu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[nr]=e,r[Ul]=i,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<il.length;s++)je(il[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Fv(r,i),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},je("invalid",r);break;case"textarea":$v(r,i),je("invalid",r)}op(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&eu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&eu(r.textContent,a,t),s=["children",""+a]):Pl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":qc(r),Uv(r,i,!0);break;case"textarea":qc(r),Bv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[Ul]=r,x1(t,e,!1,!1),e.stateNode=t;e:{switch(o=ap(n,r),n){case"dialog":je("cancel",t),je("close",t),s=r;break;case"iframe":case"object":case"embed":je("load",t),s=r;break;case"video":case"audio":for(s=0;s<il.length;s++)je(il[s],t);s=r;break;case"source":je("error",t),s=r;break;case"img":case"image":case"link":je("error",t),je("load",t),s=r;break;case"details":je("toggle",t),s=r;break;case"input":Fv(t,r),s=tp(t,r),je("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),je("invalid",t);break;case"textarea":$v(t,r),s=sp(t,r),je("invalid",t);break;default:s=r}op(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?eE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jx(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nl(t,c):typeof c=="number"&&Nl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&je("scroll",t):c!=null&&Lm(t,i,c,o))}switch(n){case"input":qc(t),Uv(t,r,!1);break;case"textarea":qc(t),Bv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?So(t,!!r.multiple,i,!1):r.defaultValue!=null&&So(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)b1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=xi(Bl.current),xi(or.current),tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(i=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return xt(e),null;case 13:if(De(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&en!==null&&e.mode&1&&!(e.flags&128))$E(),Qo(),e.flags|=98560,i=!1;else if(i=tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[nr]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),i=!1}else Nn!==null&&($p(Nn),Nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?it===0&&(it=3):vg())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Xo(),jp(t,e),t===null&&Vl(e.stateNode.containerInfo),xt(e),null;case 10:return tg(e.type._context),xt(e),null;case 17:return qt(e.type)&&ed(),xt(e),null;case 19:if(De(Me),i=e.memoizedState,i===null)return xt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Qa(i,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ad(t),o!==null){for(e.flags|=128,Qa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Me,Me.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ke()>Zo&&(e.flags|=128,r=!0,Qa(i,!1),e.lanes=4194304)}else{if(!r)if(t=ad(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Oe)return xt(e),null}else 2*Ke()-i.renderingStartTime>Zo&&n!==1073741824&&(e.flags|=128,r=!0,Qa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ke(),e.sibling=null,n=Me.current,Pe(Me,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return yg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function OR(t,e){switch(Xm(e),e.tag){case 1:return qt(e.type)&&ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xo(),De(Ht),De(Ct),og(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ig(e),null;case 13:if(De(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Me),null;case 4:return Xo(),null;case 10:return tg(e.type._context),null;case 22:case 23:return yg(),null;case 24:return null;default:return null}}var su=!1,St=!1,LR=typeof WeakSet=="function"?WeakSet:Set,te=null;function Eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function Dp(t,e,n){try{n()}catch(r){ze(t,e,r)}}var N_=!1;function MR(t,e){if(yp=Yu,t=AE(),Qm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++h===r&&(c=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vp={focusedElem:t,selectionRange:n},Yu=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,x=T.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:In(e.type,w),x);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(k){ze(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return T=N_,N_=!1,T}function _l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dp(e,n,i)}s=s.next}while(s!==r)}}function Xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Op(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function T1(t){var e=t.alternate;e!==null&&(t.alternate=null,T1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[Ul],delete e[xp],delete e[_R],delete e[wR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function S1(t){return t.tag===5||t.tag===3||t.tag===4}function k_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zu));else if(r!==4&&(t=t.child,t!==null))for(Lp(t,e,n),t=t.sibling;t!==null;)Lp(t,e,n),t=t.sibling}function Mp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mp(t,e,n),t=t.sibling;t!==null;)Mp(t,e,n),t=t.sibling}var ft=null,Pn=!1;function ns(t,e,n){for(n=n.child;n!==null;)I1(t,e,n),n=n.sibling}function I1(t,e,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(zd,n)}catch{}switch(n.tag){case 5:St||Eo(n,e);case 6:var r=ft,s=Pn;ft=null,ns(t,e,n),ft=r,Pn=s,ft!==null&&(Pn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(Pn?(t=ft,n=n.stateNode,t.nodeType===8?yf(t.parentNode,n):t.nodeType===1&&yf(t,n),Ol(t)):yf(ft,n.stateNode));break;case 4:r=ft,s=Pn,ft=n.stateNode.containerInfo,Pn=!0,ns(t,e,n),ft=r,Pn=s;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dp(n,e,o),s=s.next}while(s!==r)}ns(t,e,n);break;case 1:if(!St&&(Eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}ns(t,e,n);break;case 21:ns(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,ns(t,e,n),St=r):ns(t,e,n);break;default:ns(t,e,n)}}function j_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LR),e.forEach(function(r){var s=qR.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,Pn=!1;break e;case 3:ft=a.stateNode.containerInfo,Pn=!0;break e;case 4:ft=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(ft===null)throw Error(K(160));I1(i,o,s),ft=null,Pn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ze(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)C1(e,t),e=e.sibling}function C1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Yn(t),r&4){try{_l(3,t,t.return),Xd(3,t)}catch(w){ze(t,t.return,w)}try{_l(5,t,t.return)}catch(w){ze(t,t.return,w)}}break;case 1:Tn(e,t),Yn(t),r&512&&n!==null&&Eo(n,n.return);break;case 5:if(Tn(e,t),Yn(t),r&512&&n!==null&&Eo(n,n.return),t.flags&32){var s=t.stateNode;try{Nl(s,"")}catch(w){ze(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Qx(s,i),ap(a,o);var u=ap(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?eE(s,f):h==="dangerouslySetInnerHTML"?Jx(s,f):h==="children"?Nl(s,f):Lm(s,h,f,u)}switch(a){case"input":np(s,i);break;case"textarea":Yx(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?So(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?So(s,!!i.multiple,i.defaultValue,!0):So(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ul]=i}catch(w){ze(t,t.return,w)}}break;case 6:if(Tn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ze(t,t.return,w)}}break;case 3:if(Tn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ol(e.containerInfo)}catch(w){ze(t,t.return,w)}break;case 4:Tn(e,t),Yn(t);break;case 13:Tn(e,t),Yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mg=Ke())),r&4&&j_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(St=(u=St)||h,Tn(e,t),St=u):Tn(e,t),Yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(f=te=h;te!==null;){switch(m=te,g=m.child,m.tag){case 0:case 11:case 14:case 15:_l(4,m,m.return);break;case 1:Eo(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){ze(r,n,w)}}break;case 5:Eo(m,m.return);break;case 22:if(m.memoizedState!==null){O_(f);continue}}g!==null?(g.return=m,te=g):O_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Zx("display",o))}catch(w){ze(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ze(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tn(e,t),Yn(t),r&4&&j_(t);break;case 21:break;default:Tn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(S1(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nl(s,""),r.flags&=-33);var i=k_(t);Mp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=k_(t);Lp(t,a,o);break;default:throw Error(K(161))}}catch(c){ze(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VR(t,e,n){te=t,A1(t)}function A1(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||su;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||St;a=su;var u=St;if(su=o,(St=c)&&!u)for(te=s;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?L_(s):c!==null?(c.return=o,te=c):L_(s);for(;i!==null;)te=i,A1(i),i=i.sibling;te=s,su=a,St=u}D_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):D_(t)}}function D_(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&v_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}v_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ol(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}St||e.flags&512&&Op(e)}catch(m){ze(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function O_(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function L_(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xd(4,e)}catch(c){ze(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ze(e,s,c)}}var i=e.return;try{Op(e)}catch(c){ze(e,i,c)}break;case 5:var o=e.return;try{Op(e)}catch(c){ze(e,o,c)}}}catch(c){ze(e,e.return,c)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var FR=Math.ceil,ud=qr.ReactCurrentDispatcher,fg=qr.ReactCurrentOwner,_n=qr.ReactCurrentBatchConfig,xe=0,ht=null,Je=null,gt=0,Jt=0,bo=ni(0),it=0,ql=null,Mi=0,Jd=0,pg=0,wl=null,zt=null,mg=0,Zo=1/0,Ar=null,dd=!1,Vp=null,ks=null,iu=!1,Ts=null,hd=0,xl=0,Fp=null,Ru=-1,Pu=0;function Lt(){return xe&6?Ke():Ru!==-1?Ru:Ru=Ke()}function js(t){return t.mode&1?xe&2&&gt!==0?gt&-gt:ER.transition!==null?(Pu===0&&(Pu=hE()),Pu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:_E(t.type)),t):1}function On(t,e,n,r){if(50<xl)throw xl=0,Fp=null,Error(K(185));hc(t,n,r),(!(xe&2)||t!==ht)&&(t===ht&&(!(xe&2)&&(Jd|=n),it===4&&hs(t,gt)),Gt(t,r),n===1&&xe===0&&!(e.mode&1)&&(Zo=Ke()+500,Kd&&ri()))}function Gt(t,e){var n=t.callbackNode;EA(t,e);var r=Qu(t,t===ht?gt:0);if(r===0)n!==null&&Hv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hv(n),e===1)t.tag===0?xR(M_.bind(null,t)):VE(M_.bind(null,t)),yR(function(){!(xe&6)&&ri()}),n=null;else{switch(fE(r)){case 1:n=$m;break;case 4:n=uE;break;case 16:n=Ku;break;case 536870912:n=dE;break;default:n=Ku}n=L1(n,R1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function R1(t,e){if(Ru=-1,Pu=0,xe&6)throw Error(K(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=Qu(t,t===ht?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fd(t,r);else{e=r;var s=xe;xe|=2;var i=N1();(ht!==t||gt!==e)&&(Ar=null,Zo=Ke()+500,Ri(t,e));do try{BR();break}catch(a){P1(t,a)}while(!0);eg(),ud.current=i,xe=s,Je!==null?e=0:(ht=null,gt=0,e=it)}if(e!==0){if(e===2&&(s=hp(t),s!==0&&(r=s,e=Up(t,s))),e===1)throw n=ql,Ri(t,0),hs(t,r),Gt(t,Ke()),n;if(e===6)hs(t,r);else{if(s=t.current.alternate,!(r&30)&&!UR(s)&&(e=fd(t,r),e===2&&(i=hp(t),i!==0&&(r=i,e=Up(t,i))),e===1))throw n=ql,Ri(t,0),hs(t,r),Gt(t,Ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:yi(t,zt,Ar);break;case 3:if(hs(t,r),(r&130023424)===r&&(e=mg+500-Ke(),10<e)){if(Qu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wp(yi.bind(null,t,zt,Ar),e);break}yi(t,zt,Ar);break;case 4:if(hs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Dn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FR(r/1960))-r,10<r){t.timeoutHandle=wp(yi.bind(null,t,zt,Ar),r);break}yi(t,zt,Ar);break;case 5:yi(t,zt,Ar);break;default:throw Error(K(329))}}}return Gt(t,Ke()),t.callbackNode===n?R1.bind(null,t):null}function Up(t,e){var n=wl;return t.current.memoizedState.isDehydrated&&(Ri(t,e).flags|=256),t=fd(t,e),t!==2&&(e=zt,zt=n,e!==null&&$p(e)),t}function $p(t){zt===null?zt=t:zt.push.apply(zt,t)}function UR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Mn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hs(t,e){for(e&=~pg,e&=~Jd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dn(e),r=1<<n;t[n]=-1,e&=~r}}function M_(t){if(xe&6)throw Error(K(327));Po();var e=Qu(t,0);if(!(e&1))return Gt(t,Ke()),null;var n=fd(t,e);if(t.tag!==0&&n===2){var r=hp(t);r!==0&&(e=r,n=Up(t,r))}if(n===1)throw n=ql,Ri(t,0),hs(t,e),Gt(t,Ke()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yi(t,zt,Ar),Gt(t,Ke()),null}function gg(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(Zo=Ke()+500,Kd&&ri())}}function Vi(t){Ts!==null&&Ts.tag===0&&!(xe&6)&&Po();var e=xe;xe|=1;var n=_n.transition,r=Se;try{if(_n.transition=null,Se=1,t)return t()}finally{Se=r,_n.transition=n,xe=e,!(xe&6)&&ri()}}function yg(){Jt=bo.current,De(bo)}function Ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gR(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Xm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ed();break;case 3:Xo(),De(Ht),De(Ct),og();break;case 5:ig(r);break;case 4:Xo();break;case 13:De(Me);break;case 19:De(Me);break;case 10:tg(r.type._context);break;case 22:case 23:yg()}n=n.return}if(ht=t,Je=t=Ds(t.current,null),gt=Jt=e,it=0,ql=null,pg=Jd=Mi=0,zt=wl=null,wi!==null){for(e=0;e<wi.length;e++)if(n=wi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wi=null}return t}function P1(t,e){do{var n=Je;try{if(eg(),Iu.current=cd,ld){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ld=!1}if(Li=0,dt=rt=Ve=null,vl=!1,zl=0,fg.current=null,n===null||n.return===null){it=1,ql=e,Je=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=gt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=T_(o);if(g!==null){g.flags&=-257,S_(g,o,a,i,e),g.mode&1&&b_(i,u,e),e=g,c=u;var T=e.updateQueue;if(T===null){var w=new Set;w.add(c),e.updateQueue=w}else T.add(c);break e}else{if(!(e&1)){b_(i,u,e),vg();break e}c=Error(K(426))}}else if(Oe&&a.mode&1){var x=T_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),S_(x,o,a,i,e),Jm(Jo(c,a));break e}}i=c=Jo(c,a),it!==4&&(it=2),wl===null?wl=[i]:wl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=f1(i,c,e);y_(i,_);break e;case 1:a=c;var v=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ks===null||!ks.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=p1(i,a,e);y_(i,k);break e}}i=i.return}while(i!==null)}j1(n)}catch(D){e=D,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function N1(){var t=ud.current;return ud.current=cd,t===null?cd:t}function vg(){(it===0||it===3||it===2)&&(it=4),ht===null||!(Mi&268435455)&&!(Jd&268435455)||hs(ht,gt)}function fd(t,e){var n=xe;xe|=2;var r=N1();(ht!==t||gt!==e)&&(Ar=null,Ri(t,e));do try{$R();break}catch(s){P1(t,s)}while(!0);if(eg(),xe=n,ud.current=r,Je!==null)throw Error(K(261));return ht=null,gt=0,it}function $R(){for(;Je!==null;)k1(Je)}function BR(){for(;Je!==null&&!fA();)k1(Je)}function k1(t){var e=O1(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?j1(t):Je=e,fg.current=null}function j1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OR(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Je=null;return}}else if(n=DR(n,e,Jt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);it===0&&(it=5)}function yi(t,e,n){var r=Se,s=_n.transition;try{_n.transition=null,Se=1,zR(t,e,n,r)}finally{_n.transition=s,Se=r}return null}function zR(t,e,n,r){do Po();while(Ts!==null);if(xe&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(bA(t,i),t===ht&&(Je=ht=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,L1(Ku,function(){return Po(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_n.transition,_n.transition=null;var o=Se;Se=1;var a=xe;xe|=4,fg.current=null,MR(t,n),C1(n,t),cR(vp),Yu=!!yp,vp=yp=null,t.current=n,VR(n),pA(),xe=a,Se=o,_n.transition=i}else t.current=n;if(iu&&(iu=!1,Ts=t,hd=s),i=t.pendingLanes,i===0&&(ks=null),yA(n.stateNode),Gt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(dd)throw dd=!1,t=Vp,Vp=null,t;return hd&1&&t.tag!==0&&Po(),i=t.pendingLanes,i&1?t===Fp?xl++:(xl=0,Fp=t):xl=0,ri(),null}function Po(){if(Ts!==null){var t=fE(hd),e=_n.transition,n=Se;try{if(_n.transition=null,Se=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,hd=0,xe&6)throw Error(K(331));var s=xe;for(xe|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(te=u;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:_l(8,h,i)}var f=h.child;if(f!==null)f.return=h,te=f;else for(;te!==null;){h=te;var m=h.sibling,g=h.return;if(T1(h),h===u){te=null;break}if(m!==null){m.return=g,te=m;break}te=g}}}var T=i.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_l(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,te=_;break e}te=i.return}}var v=t.current;for(te=v;te!==null;){o=te;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,te=E;else e:for(o=v;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xd(9,a)}}catch(D){ze(a,a.return,D)}if(a===o){te=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,te=k;break e}te=a.return}}if(xe=s,ri(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(zd,t)}catch{}r=!0}return r}finally{Se=n,_n.transition=e}}return!1}function V_(t,e,n){e=Jo(n,e),e=f1(t,e,1),t=Ns(t,e,1),e=Lt(),t!==null&&(hc(t,1,e),Gt(t,e))}function ze(t,e,n){if(t.tag===3)V_(t,t,n);else for(;e!==null;){if(e.tag===3){V_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=Jo(n,t),t=p1(e,t,1),e=Ns(e,t,1),t=Lt(),e!==null&&(hc(e,1,t),Gt(e,t));break}}e=e.return}}function WR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(gt&n)===n&&(it===4||it===3&&(gt&130023424)===gt&&500>Ke()-mg?Ri(t,0):pg|=n),Gt(t,e)}function D1(t,e){e===0&&(t.mode&1?(e=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):e=1);var n=Lt();t=Vr(t,e),t!==null&&(hc(t,e,n),Gt(t,n))}function HR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),D1(t,n)}function qR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),D1(t,n)}var O1;O1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Wt=!1,jR(t,e,n);Wt=!!(t.flags&131072)}else Wt=!1,Oe&&e.flags&1048576&&FE(e,rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Au(t,e),t=e.pendingProps;var s=Ko(e,Ct.current);Ro(e,n),s=lg(null,e,r,t,s,n);var i=cg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(i=!0,td(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rg(e),s.updater=Yd,e.stateNode=s,s._reactInternals=e,Cp(e,r,t,n),e=Pp(null,e,r,!0,i,n)):(e.tag=0,Oe&&i&&Ym(e),Dt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Au(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=KR(r),t=In(r,t),s){case 0:e=Rp(null,e,r,t,n);break e;case 1:e=A_(null,e,r,t,n);break e;case 11:e=I_(null,e,r,t,n);break e;case 14:e=C_(null,e,r,In(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),Rp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),A_(t,e,r,s,n);case 3:e:{if(v1(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,HE(t,e),od(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Jo(Error(K(423)),e),e=R_(t,e,r,n,s);break e}else if(r!==s){s=Jo(Error(K(424)),e),e=R_(t,e,r,n,s);break e}else for(en=Ps(e.stateNode.containerInfo.firstChild),nn=e,Oe=!0,Nn=null,n=zE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),r===s){e=Fr(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return qE(e),t===null&&Tp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_p(r,s)?o=null:i!==null&&_p(r,i)&&(e.flags|=32),y1(t,e),Dt(t,e,o,n),e.child;case 6:return t===null&&Tp(e),null;case 13:return _1(t,e,n);case 4:return sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yo(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),I_(t,e,r,s,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Pe(sd,r._currentValue),r._currentValue=o,i!==null)if(Mn(i.value,o)){if(i.children===s.children&&!Ht.current){e=Fr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Or(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Sp(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Dt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ro(e,n),s=wn(s),r=r(s),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,s=In(r,e.pendingProps),s=In(r.type,s),C_(t,e,r,s,n);case 15:return m1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:In(r,s),Au(t,e),e.tag=1,qt(r)?(t=!0,td(e)):t=!1,Ro(e,n),h1(e,r,s),Cp(e,r,s,n),Pp(null,e,r,!0,t,n);case 19:return w1(t,e,n);case 22:return g1(t,e,n)}throw Error(K(156,e.tag))};function L1(t,e){return cE(t,e)}function GR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new GR(t,e,n,r)}function _g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KR(t){if(typeof t=="function")return _g(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vm)return 11;if(t===Fm)return 14}return 2}function Ds(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_g(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fo:return Pi(n.children,s,i,e);case Mm:o=8,s|=8;break;case Xf:return t=vn(12,n,e,s|2),t.elementType=Xf,t.lanes=i,t;case Jf:return t=vn(13,n,e,s),t.elementType=Jf,t.lanes=i,t;case Zf:return t=vn(19,n,e,s),t.elementType=Zf,t.lanes=i,t;case qx:return Zd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wx:o=10;break e;case Hx:o=9;break e;case Vm:o=11;break e;case Fm:o=14;break e;case cs:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=vn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Pi(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function Zd(t,e,n,r){return t=vn(22,t,r,e),t.elementType=qx,t.lanes=n,t.stateNode={isHidden:!1},t}function Sf(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function If(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QR(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wg(t,e,n,r,s,i,o,a,c){return t=new QR(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rg(i),t}function YR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function M1(t){if(!t)return zs;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(qt(n))return ME(t,n,e)}return e}function V1(t,e,n,r,s,i,o,a,c){return t=wg(n,r,!0,t,s,i,o,a,c),t.context=M1(null),n=t.current,r=Lt(),s=js(n),i=Or(r,s),i.callback=e??null,Ns(n,i,s),t.current.lanes=s,hc(t,s,r),Gt(t,r),t}function eh(t,e,n,r){var s=e.current,i=Lt(),o=js(s);return n=M1(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(s,e,o),t!==null&&(On(t,s,o,i),Su(t,s,o)),o}function pd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xg(t,e){F_(t,e),(t=t.alternate)&&F_(t,e)}function XR(){return null}var F1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Eg(t){this._internalRoot=t}th.prototype.render=Eg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));eh(t,e,null,null)};th.prototype.unmount=Eg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){eh(null,t,null,null)}),e[Mr]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var e=gE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ds.length&&e!==0&&e<ds[n].priority;n++);ds.splice(n,0,t),n===0&&vE(t)}};function bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U_(){}function JR(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=pd(o);i.call(u)}}var o=V1(e,r,t,0,null,!1,!1,"",U_);return t._reactRootContainer=o,t[Mr]=o.current,Vl(t.nodeType===8?t.parentNode:t),Vi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=pd(c);a.call(u)}}var c=wg(t,0,!1,null,null,!1,!1,"",U_);return t._reactRootContainer=c,t[Mr]=c.current,Vl(t.nodeType===8?t.parentNode:t),Vi(function(){eh(e,c,n,r)}),c}function rh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=pd(o);a.call(c)}}eh(e,o,t,s)}else o=JR(n,e,t,s,r);return pd(o)}pE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sl(e.pendingLanes);n!==0&&(Bm(e,n|1),Gt(e,Ke()),!(xe&6)&&(Zo=Ke()+500,ri()))}break;case 13:Vi(function(){var r=Vr(t,1);if(r!==null){var s=Lt();On(r,t,1,s)}}),xg(t,1)}};zm=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Lt();On(e,t,134217728,n)}xg(t,134217728)}};mE=function(t){if(t.tag===13){var e=js(t),n=Vr(t,e);if(n!==null){var r=Lt();On(n,t,e,r)}xg(t,e)}};gE=function(){return Se};yE=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};cp=function(t,e,n){switch(e){case"input":if(np(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gd(r);if(!s)throw Error(K(90));Kx(r),np(r,s)}}}break;case"textarea":Yx(t,n);break;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}};rE=gg;sE=Vi;var ZR={usingClientEntryPoint:!1,Events:[pc,yo,Gd,tE,nE,gg]},Ya={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eP={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||XR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{zd=ou.inject(eP),ir=ou}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZR;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bg(e))throw Error(K(200));return YR(t,e,null,n)};on.createRoot=function(t,e){if(!bg(t))throw Error(K(299));var n=!1,r="",s=F1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wg(t,1,!1,null,null,n,!1,r,s),t[Mr]=e.current,Vl(t.nodeType===8?t.parentNode:t),new Eg(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=aE(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return Vi(t)};on.hydrate=function(t,e,n){if(!nh(e))throw Error(K(200));return rh(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!bg(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=F1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=V1(e,null,t,1,n??null,s,!1,i,o),t[Mr]=e.current,Vl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new th(e)};on.render=function(t,e,n){if(!nh(e))throw Error(K(200));return rh(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!nh(t))throw Error(K(40));return t._reactRootContainer?(Vi(function(){rh(null,null,t,!1,function(){t._reactRootContainer=null,t[Mr]=null})}),!0):!1};on.unstable_batchedUpdates=gg;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return rh(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function U1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U1)}catch(t){console.error(t)}}U1(),Ux.exports=on;var gc=Ux.exports;const $1=Cx(gc);var B1,$_=gc;B1=$_.createRoot,$_.hydrateRoot;const tP=1,nP=1e6;let Cf=0;function rP(){return Cf=(Cf+1)%Number.MAX_SAFE_INTEGER,Cf.toString()}const Af=new Map,B_=t=>{if(Af.has(t))return;const e=setTimeout(()=>{Af.delete(t),El({type:"REMOVE_TOAST",toastId:t})},nP);Af.set(t,e)},sP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,tP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?B_(n):t.toasts.forEach(r=>{B_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ku=[];let ju={toasts:[]};function El(t){ju=sP(ju,t),ku.forEach(e=>{e(ju)})}function iP({...t}){const e=rP(),n=s=>El({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>El({type:"DISMISS_TOAST",toastId:e});return El({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function oP(){const[t,e]=C.useState(ju);return C.useEffect(()=>(ku.push(e),()=>{const n=ku.indexOf(e);n>-1&&ku.splice(n,1)}),[t]),{...t,toast:iP,dismiss:n=>El({type:"DISMISS_TOAST",toastId:n})}}function st(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function z_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function z1(...t){return e=>{let n=!1;const r=t.map(s=>{const i=z_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():z_(t[s],null)}}}}function Vn(...t){return C.useCallback(z1(...t),t)}function sh(t,e=[]){let n=[];function r(i,o){const a=C.createContext(o),c=n.length;n=[...n,o];const u=f=>{var _;const{scope:m,children:g,...T}=f,w=((_=m==null?void 0:m[t])==null?void 0:_[c])||a,x=C.useMemo(()=>T,Object.values(T));return d.jsx(w.Provider,{value:x,children:g})};u.displayName=i+"Provider";function h(f,m){var w;const g=((w=m==null?void 0:m[t])==null?void 0:w[c])||a,T=C.useContext(g);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,aP(s,...e)]}function aP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function md(t){const e=cP(t),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,a=C.Children.toArray(i),c=a.find(dP);if(c){const u=c.props.children,h=a.map(f=>f===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:f);return d.jsx(e,{...o,ref:s,children:C.isValidElement(u)?C.cloneElement(u,void 0,h):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var lP=md("Slot");function cP(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=fP(s),a=hP(i,s.props);return s.type!==C.Fragment&&(a.ref=r?z1(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var W1=Symbol("radix.slottable");function uP(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=W1,e}function dP(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===W1}function hP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function fP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pP(t){const e=t+"CollectionProvider",[n,r]=sh(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:x,children:_}=w,v=Y.useRef(null),E=Y.useRef(new Map).current;return d.jsx(s,{scope:x,itemMap:E,collectionRef:v,children:_})};o.displayName=e;const a=t+"CollectionSlot",c=md(a),u=Y.forwardRef((w,x)=>{const{scope:_,children:v}=w,E=i(a,_),k=Vn(x,E.collectionRef);return d.jsx(c,{ref:k,children:v})});u.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=md(h),g=Y.forwardRef((w,x)=>{const{scope:_,children:v,...E}=w,k=Y.useRef(null),D=Vn(x,k),O=i(h,_);return Y.useEffect(()=>(O.itemMap.set(k,{ref:k,...E}),()=>void O.itemMap.delete(k))),d.jsx(m,{[f]:"",ref:D,children:v})});g.displayName=h;function T(w){const x=i(t+"CollectionConsumer",w);return Y.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const E=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((O,S)=>E.indexOf(O.ref.current)-E.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},T,r]}var mP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kt=mP.reduce((t,e)=>{const n=md(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function H1(t,e){t&&gc.flushSync(()=>t.dispatchEvent(e))}function Ws(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function gP(t,e=globalThis==null?void 0:globalThis.document){const n=Ws(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var yP="DismissableLayer",Bp="dismissableLayer.update",vP="dismissableLayer.pointerDownOutside",_P="dismissableLayer.focusOutside",W_,q1=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tg=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=C.useContext(q1),[h,f]=C.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=C.useState({}),T=Vn(e,S=>f(S)),w=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(x),v=h?w.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,k=v>=_,D=xP(S=>{const b=S.target,A=[...u.branches].some(R=>R.contains(b));!k||A||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},m),O=EP(S=>{const b=S.target;[...u.branches].some(R=>R.contains(b))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},m);return gP(S=>{v===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},m),C.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(W_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),H_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=W_)}},[h,m,n,u]),C.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),H_())},[h,u]),C.useEffect(()=>{const S=()=>g({});return document.addEventListener(Bp,S),()=>document.removeEventListener(Bp,S)},[]),d.jsx(Kt.div,{...c,ref:T,style:{pointerEvents:E?k?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,O.onFocusCapture),onBlurCapture:st(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,D.onPointerDownCapture)})});Tg.displayName=yP;var wP="DismissableLayerBranch",G1=C.forwardRef((t,e)=>{const n=C.useContext(q1),r=C.useRef(null),s=Vn(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(Kt.div,{...t,ref:s})});G1.displayName=wP;function xP(t,e=globalThis==null?void 0:globalThis.document){const n=Ws(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){K1(vP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function EP(t,e=globalThis==null?void 0:globalThis.document){const n=Ws(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&K1(_P,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function H_(){const t=new CustomEvent(Bp);document.dispatchEvent(t)}function K1(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?H1(s,i):s.dispatchEvent(i)}var bP=Tg,TP=G1,Hs=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},SP="Portal",Q1=C.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=C.useState(!1);Hs(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?$1.createPortal(d.jsx(Kt.div,{...r,ref:e}),o):null});Q1.displayName=SP;function IP(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Sg=t=>{const{present:e,children:n}=t,r=CP(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=Vn(r.ref,AP(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};Sg.displayName="Presence";function CP(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),i=C.useRef("none"),o=t?"mounted":"unmounted",[a,c]=IP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=au(r.current);i.current=a==="mounted"?u:"none"},[a]),Hs(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,g=au(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Hs(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=g=>{const w=au(r.current).includes(g.animationName);if(g.target===e&&w&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=g=>{g.target===e&&(i.current=au(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function au(t){return(t==null?void 0:t.animationName)||"none"}function AP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var RP=Vx[" useInsertionEffect ".trim().toString()]||Hs;function PP({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=NP({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=C.useRef(t!==void 0);C.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=C.useCallback(h=>{var f;if(a){const m=kP(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[c,u]}function NP({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),i=C.useRef(e);return RP(()=>{i.current=e},[e]),C.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function kP(t){return typeof t=="function"}var jP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),DP="VisuallyHidden",ih=C.forwardRef((t,e)=>d.jsx(Kt.span,{...t,ref:e,style:{...jP,...t.style}}));ih.displayName=DP;var OP=ih,Ig="ToastProvider",[Cg,LP,MP]=pP("Toast"),[Y1,DU]=sh("Toast",[MP]),[VP,oh]=Y1(Ig),X1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=C.useState(null),[u,h]=C.useState(0),f=C.useRef(!1),m=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ig}\`. Expected non-empty \`string\`.`),d.jsx(Cg.Provider,{scope:e,children:d.jsx(VP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:C.useCallback(()=>h(g=>g+1),[]),onToastRemove:C.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};X1.displayName=Ig;var J1="ToastViewport",FP=["F8"],zp="toast.viewportPause",Wp="toast.viewportResume",Z1=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=FP,label:s="Notifications ({hotkey})",...i}=t,o=oh(J1,n),a=LP(n),c=C.useRef(null),u=C.useRef(null),h=C.useRef(null),f=C.useRef(null),m=Vn(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;C.useEffect(()=>{const x=_=>{var E;r.length!==0&&r.every(k=>_[k]||_.code===k)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),C.useEffect(()=>{const x=c.current,_=f.current;if(T&&x&&_){const v=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(zp);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Wp);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},k=O=>{!x.contains(O.relatedTarget)&&E()},D=()=>{x.contains(document.activeElement)||E()};return x.addEventListener("focusin",v),x.addEventListener("focusout",k),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",D),window.addEventListener("blur",v),window.addEventListener("focus",E),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",D),window.removeEventListener("blur",v),window.removeEventListener("focus",E)}}},[T,o.isClosePausedRef]);const w=C.useCallback(({tabbingDirection:x})=>{const v=a().map(E=>{const k=E.ref.current,D=[k,...JP(k)];return x==="forwards"?D:D.reverse()});return(x==="forwards"?v.reverse():v).flat()},[a]);return C.useEffect(()=>{const x=f.current;if(x){const _=v=>{var D,O,S;const E=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!E){const b=document.activeElement,A=v.shiftKey;if(v.target===x&&A){(D=u.current)==null||D.focus();return}const j=w({tabbingDirection:A?"backwards":"forwards"}),P=j.findIndex(q=>q===b);Rf(j.slice(P+1))?v.preventDefault():A?(O=u.current)==null||O.focus():(S=h.current)==null||S.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[a,w]),d.jsxs(TP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&d.jsx(Hp,{ref:u,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"forwards"});Rf(x)}}),d.jsx(Cg.Slot,{scope:n,children:d.jsx(Kt.ol,{tabIndex:-1,...i,ref:m})}),T&&d.jsx(Hp,{ref:h,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"backwards"});Rf(x)}})]})});Z1.displayName=J1;var eb="ToastFocusProxy",Hp=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=oh(eb,n);return d.jsx(ih,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Hp.displayName=eb;var yc="Toast",UP="toast.swipeStart",$P="toast.swipeMove",BP="toast.swipeCancel",zP="toast.swipeEnd",tb=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=PP({prop:r,defaultProp:s??!0,onChange:i,caller:yc});return d.jsx(Sg,{present:n||a,children:d.jsx(qP,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Ws(t.onPause),onResume:Ws(t.onResume),onSwipeStart:st(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:st(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});tb.displayName=yc;var[WP,HP]=Y1(yc,{onClose(){}}),qP=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...T}=t,w=oh(yc,n),[x,_]=C.useState(null),v=Vn(e,q=>_(q)),E=C.useRef(null),k=C.useRef(null),D=s||w.duration,O=C.useRef(0),S=C.useRef(D),b=C.useRef(0),{onToastAdd:A,onToastRemove:R}=w,N=Ws(()=>{var ce;(x==null?void 0:x.contains(document.activeElement))&&((ce=w.viewport)==null||ce.focus()),o()}),j=C.useCallback(q=>{!q||q===1/0||(window.clearTimeout(b.current),O.current=new Date().getTime(),b.current=window.setTimeout(N,q))},[N]);C.useEffect(()=>{const q=w.viewport;if(q){const ce=()=>{j(S.current),u==null||u()},se=()=>{const ue=new Date().getTime()-O.current;S.current=S.current-ue,window.clearTimeout(b.current),c==null||c()};return q.addEventListener(zp,se),q.addEventListener(Wp,ce),()=>{q.removeEventListener(zp,se),q.removeEventListener(Wp,ce)}}},[w.viewport,D,c,u,j]),C.useEffect(()=>{i&&!w.isClosePausedRef.current&&j(D)},[i,D,w.isClosePausedRef,j]),C.useEffect(()=>(A(),()=>R()),[A,R]);const P=C.useMemo(()=>x?lb(x):null,[x]);return w.viewport?d.jsxs(d.Fragment,{children:[P&&d.jsx(GP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),d.jsx(WP,{scope:n,onClose:N,children:gc.createPortal(d.jsx(Cg.ItemSlot,{scope:n,children:d.jsx(bP,{asChild:!0,onEscapeKeyDown:st(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||N(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Kt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...T,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:st(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:st(t.onPointerDown,q=>{q.button===0&&(E.current={x:q.clientX,y:q.clientY})}),onPointerMove:st(t.onPointerMove,q=>{if(!E.current)return;const ce=q.clientX-E.current.x,se=q.clientY-E.current.y,ue=!!k.current,B=["left","right"].includes(w.swipeDirection),L=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,V=B?L(0,ce):0,Q=B?0:L(0,se),G=q.pointerType==="touch"?10:2,$={x:V,y:Q},U={originalEvent:q,delta:$};ue?(k.current=$,lu($P,f,U,{discrete:!1})):q_($,w.swipeDirection,G)?(k.current=$,lu(UP,h,U,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ce)>G||Math.abs(se)>G)&&(E.current=null)}),onPointerUp:st(t.onPointerUp,q=>{const ce=k.current,se=q.target;if(se.hasPointerCapture(q.pointerId)&&se.releasePointerCapture(q.pointerId),k.current=null,E.current=null,ce){const ue=q.currentTarget,B={originalEvent:q,delta:ce};q_(ce,w.swipeDirection,w.swipeThreshold)?lu(zP,g,B,{discrete:!0}):lu(BP,m,B,{discrete:!0}),ue.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),GP=t=>{const{__scopeToast:e,children:n,...r}=t,s=oh(yc,e),[i,o]=C.useState(!1),[a,c]=C.useState(!1);return YP(()=>o(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(Q1,{asChild:!0,children:d.jsx(ih,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},KP="ToastTitle",nb=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Kt.div,{...r,ref:e})});nb.displayName=KP;var QP="ToastDescription",rb=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(Kt.div,{...r,ref:e})});rb.displayName=QP;var sb="ToastAction",ib=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(ab,{altText:n,asChild:!0,children:d.jsx(Ag,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${sb}\`. Expected non-empty \`string\`.`),null)});ib.displayName=sb;var ob="ToastClose",Ag=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=HP(ob,n);return d.jsx(ab,{asChild:!0,children:d.jsx(Kt.button,{type:"button",...r,ref:e,onClick:st(t.onClick,s.onClose)})})});Ag.displayName=ob;var ab=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(Kt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function lb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),XP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...lb(r))}}),e}function lu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?H1(s,i):s.dispatchEvent(i)}var q_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function YP(t=()=>{}){const e=Ws(t);Hs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function XP(t){return t.nodeType===t.ELEMENT_NODE}function JP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Rf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ZP=X1,cb=Z1,ub=tb,db=nb,hb=rb,fb=ib,pb=Ag;function mb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=mb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=mb(t))&&(r&&(r+=" "),r+=e);return r}const G_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,K_=gb,yb=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return K_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=G_(h)||G_(f);return s[u][m]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(T=>{let[w,x]=T;return Array.isArray(x)?x.includes({...i,...a}[w]):{...i,...a}[w]===x})?[...u,f,m]:u},[]);return K_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>C.createElement("svg",{ref:c,...tN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vb("lucide",s),...a},[...o.map(([u,h])=>C.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(nN,{ref:i,iconNode:e,className:vb(`lucide-${eN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=vr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=vr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=vr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=vr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=vr("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=vr("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=vr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=vr("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=vr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=vr("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Rg="-",cN=t=>{const e=dN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Rg);return a[0]===""&&a.length!==1&&a.shift(),_b(a,e)||uN(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},_b=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?_b(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Rg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},J_=/^\[(.+)\]$/,uN=t=>{if(J_.test(t)){const e=J_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return fN(Object.entries(t.classGroups),n).forEach(([i,o])=>{qp(o,r,i,e)}),r},qp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Z_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(hN(s)){qp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{qp(o,Z_(e,i),n,r)})})},Z_=(t,e)=>{let n=t;return e.split(Rg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hN=t=>t.isThemeGetter,fN=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,pN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},wb="!",mN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,h=0,f;for(let x=0;x<a.length;x++){let _=a[x];if(u===0){if(_===s&&(r||a.slice(x,x+i)===e)){c.push(a.slice(h,x)),h=x+i;continue}if(_==="/"){f=x;continue}}_==="["?u++:_==="]"&&u--}const m=c.length===0?a:a.substring(h),g=m.startsWith(wb),T=g?m.substring(1):m,w=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:T,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},gN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yN=t=>({cache:pN(t.cacheSize),parseClassName:mN(t),...cN(t)}),vN=/\s+/,_N=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(vN);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let T=!!g,w=r(T?m.substring(0,g):m);if(!w){if(!T){a=u+(a.length>0?" "+a:a);continue}if(w=r(m),!w){a=u+(a.length>0?" "+a:a);continue}T=!1}const x=gN(h).join(":"),_=f?x+wb:x,v=_+w;if(i.includes(v))continue;i.push(v);const E=s(w,T);for(let k=0;k<E.length;++k){const D=E[k];i.push(_+D)}a=u+(a.length>0?" "+a:a)}return a};function wN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=xb(e))&&(r&&(r+=" "),r+=n);return r}const xb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xb(t[r]))&&(n&&(n+=" "),n+=e);return n};function xN(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((h,f)=>f(h),t());return n=yN(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const h=_N(c,n);return s(c,h),h}return function(){return i(wN.apply(null,arguments))}}const ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Eb=/^\[(?:([a-z-]+):)?(.+)\]$/i,EN=/^\d+\/\d+$/,bN=new Set(["px","full","screen"]),TN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=t=>No(t)||bN.has(t)||EN.test(t),rs=t=>pa(t,"length",LN),No=t=>!!t&&!Number.isNaN(Number(t)),Pf=t=>pa(t,"number",No),Ja=t=>!!t&&Number.isInteger(Number(t)),RN=t=>t.endsWith("%")&&No(t.slice(0,-1)),pe=t=>Eb.test(t),ss=t=>TN.test(t),PN=new Set(["length","size","percentage"]),NN=t=>pa(t,PN,bb),kN=t=>pa(t,"position",bb),jN=new Set(["image","url"]),DN=t=>pa(t,jN,VN),ON=t=>pa(t,"",MN),Za=()=>!0,pa=(t,e,n)=>{const r=Eb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},LN=t=>SN.test(t)&&!IN.test(t),bb=()=>!1,MN=t=>CN.test(t),VN=t=>AN.test(t),FN=()=>{const t=ke("colors"),e=ke("spacing"),n=ke("blur"),r=ke("brightness"),s=ke("borderColor"),i=ke("borderRadius"),o=ke("borderSpacing"),a=ke("borderWidth"),c=ke("contrast"),u=ke("grayscale"),h=ke("hueRotate"),f=ke("invert"),m=ke("gap"),g=ke("gradientColorStops"),T=ke("gradientColorStopPositions"),w=ke("inset"),x=ke("margin"),_=ke("opacity"),v=ke("padding"),E=ke("saturate"),k=ke("scale"),D=ke("sepia"),O=ke("skew"),S=ke("space"),b=ke("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",pe,e],j=()=>[pe,e],P=()=>["",Sr,rs],q=()=>["auto",No,pe],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",pe],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[No,pe];return{cacheSize:500,separator:":",theme:{colors:[Za],spacing:[Sr,rs],blur:["none","",ss,pe],brightness:Q(),borderColor:[t],borderRadius:["none","","full",ss,pe],borderSpacing:j(),borderWidth:P(),contrast:Q(),grayscale:L(),hueRotate:Q(),invert:L(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[RN,rs],inset:N(),margin:N(),opacity:Q(),padding:j(),saturate:Q(),scale:Q(),sepia:L(),skew:Q(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[ss]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),pe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ja,pe]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Ja,pe]}],"grid-cols":[{"grid-cols":[Za]}],"col-start-end":[{col:["auto",{span:["full",Ja,pe]},pe]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Za]}],"row-start-end":[{row:["auto",{span:[Ja,pe]},pe]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[ss]},ss]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ss,rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pf]}],"font-family":[{font:[Za]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",No,Pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,rs]}],"underline-offset":[{"underline-offset":["auto",Sr,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),kN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DN]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:se()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[Sr,pe]}],"outline-w":[{outline:[Sr,rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Sr,rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ss,ON]}],"shadow-color":[{shadow:[Za]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ss,pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ja,pe]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Sr,rs,Pf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},UN=xN(FN);function Qt(...t){return UN(gb(t))}const $N=ZP,Tb=C.forwardRef(({className:t,...e},n)=>d.jsx(cb,{ref:n,className:Qt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Tb.displayName=cb.displayName;const BN=yb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Sb=C.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(ub,{ref:r,className:Qt(BN({variant:e}),t),...n}));Sb.displayName=ub.displayName;const zN=C.forwardRef(({className:t,...e},n)=>d.jsx(fb,{ref:n,className:Qt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));zN.displayName=fb.displayName;const Ib=C.forwardRef(({className:t,...e},n)=>d.jsx(pb,{ref:n,className:Qt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(aN,{className:"h-4 w-4"})}));Ib.displayName=pb.displayName;const Cb=C.forwardRef(({className:t,...e},n)=>d.jsx(db,{ref:n,className:Qt("text-sm font-semibold",t),...e}));Cb.displayName=db.displayName;const Ab=C.forwardRef(({className:t,...e},n)=>d.jsx(hb,{ref:n,className:Qt("text-sm opacity-90",t),...e}));Ab.displayName=hb.displayName;function WN(){const{toasts:t}=oP();return d.jsxs($N,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(Sb,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(Cb,{children:n}),r&&d.jsx(Ab,{children:r})]}),s,d.jsx(Ib,{})]},e)}),d.jsx(Tb,{})]})}var e0=["light","dark"],HN="(prefers-color-scheme: dark)",qN=C.createContext(void 0),GN={setTheme:t=>{},themes:[]},KN=()=>{var t;return(t=C.useContext(qN))!=null?t:GN};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?e0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(T,w=!1,x=!0)=>{let _=o?o[T]:T,v=w?T+"|| ''":`'${_}'`,E="";return s&&x&&!w&&e0.includes(T)&&(E+=`d.style.colorScheme = '${T}';`),n==="class"?w||_?E+=`c.add(${v})`:E+="null":_&&(E+=`d[s](n,${v})`),E},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${HN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return C.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var QN=t=>{switch(t){case"success":return JN;case"info":return ek;case"warning":return ZN;case"error":return tk;default:return null}},YN=Array(12).fill(0),XN=({visible:t,className:e})=>Y.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Y.createElement("div",{className:"sonner-spinner"},YN.map((n,r)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),JN=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ZN=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ek=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tk=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nk=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rk=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Gp=1,sk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Gp++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],Y.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(ok(u)&&!u.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,h)=>a.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Gp++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$t=new sk,ik=(t,e)=>{let n=(e==null?void 0:e.id)||Gp++;return $t.addToast({title:t,...e,id:n}),n},ok=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ak=ik,lk=()=>$t.toasts,ck=()=>$t.getActiveToasts();Object.assign(ak,{success:$t.success,info:$t.info,warning:$t.warning,error:$t.error,custom:$t.custom,message:$t.message,promise:$t.promise,dismiss:$t.dismiss,loading:$t.loading},{getHistory:lk,getToasts:ck});function uk(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}uk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cu(t){return t.label!==void 0}var dk=3,hk="32px",fk="16px",t0=4e3,pk=356,mk=14,gk=20,yk=200;function Sn(...t){return t.filter(Boolean).join(" ")}function vk(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var _k=t=>{var e,n,r,s,i,o,a,c,u,h,f;let{invert:m,toast:g,unstyled:T,interacting:w,setHeights:x,visibleToasts:_,heights:v,index:E,toasts:k,expanded:D,removeToast:O,defaultRichColors:S,closeButton:b,style:A,cancelButtonStyle:R,actionButtonStyle:N,className:j="",descriptionClassName:P="",duration:q,position:ce,gap:se,loadingIcon:ue,expandByDefault:B,classNames:L,icons:V,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:G}=t,[$,U]=Y.useState(null),[ee,ne]=Y.useState(null),[re,Rt]=Y.useState(!1),[Pt,ln]=Y.useState(!1),[zn,Er]=Y.useState(!1),[cn,li]=Y.useState(!1),[Aa,Gr]=Y.useState(!1),[ci,Kr]=Y.useState(0),[Le,at]=Y.useState(0),Wn=Y.useRef(g.duration||q||t0),Pc=Y.useRef(null),Hn=Y.useRef(null),Mh=E===0,ui=E+1<=_,Nt=g.type,br=g.dismissible!==!1,Ra=g.className||"",Vh=g.descriptionClassName||"",to=Y.useMemo(()=>v.findIndex(oe=>oe.toastId===g.id)||0,[v,g.id]),Nc=Y.useMemo(()=>{var oe;return(oe=g.closeButton)!=null?oe:b},[g.closeButton,b]),Pa=Y.useMemo(()=>g.duration||q||t0,[g.duration,q]),Tr=Y.useRef(0),qn=Y.useRef(0),no=Y.useRef(0),Ft=Y.useRef(null),[kc,ro]=ce.split("-"),Na=Y.useMemo(()=>v.reduce((oe,be,Ae)=>Ae>=to?oe:oe+be.height,0),[v,to]),Qr=rk(),jc=g.invert||m,tt=Nt==="loading";qn.current=Y.useMemo(()=>to*se+Na,[to,Na]),Y.useEffect(()=>{Wn.current=Pa},[Pa]),Y.useEffect(()=>{Rt(!0)},[]),Y.useEffect(()=>{let oe=Hn.current;if(oe){let be=oe.getBoundingClientRect().height;return at(be),x(Ae=>[{toastId:g.id,height:be,position:g.position},...Ae]),()=>x(Ae=>Ae.filter(lt=>lt.toastId!==g.id))}},[x,g.id]),Y.useLayoutEffect(()=>{if(!re)return;let oe=Hn.current,be=oe.style.height;oe.style.height="auto";let Ae=oe.getBoundingClientRect().height;oe.style.height=be,at(Ae),x(lt=>lt.find(Yt=>Yt.toastId===g.id)?lt.map(Yt=>Yt.toastId===g.id?{...Yt,height:Ae}:Yt):[{toastId:g.id,height:Ae,position:g.position},...lt])},[re,g.title,g.description,x,g.id]);let En=Y.useCallback(()=>{ln(!0),Kr(qn.current),x(oe=>oe.filter(be=>be.toastId!==g.id)),setTimeout(()=>{O(g)},yk)},[g,O,x,qn]);Y.useEffect(()=>{if(g.promise&&Nt==="loading"||g.duration===1/0||g.type==="loading")return;let oe;return D||w||G&&Qr?(()=>{if(no.current<Tr.current){let be=new Date().getTime()-Tr.current;Wn.current=Wn.current-be}no.current=new Date().getTime()})():Wn.current!==1/0&&(Tr.current=new Date().getTime(),oe=setTimeout(()=>{var be;(be=g.onAutoClose)==null||be.call(g,g),En()},Wn.current)),()=>clearTimeout(oe)},[D,w,g,Nt,G,Qr,En]),Y.useEffect(()=>{g.delete&&En()},[En,g.delete]);function di(){var oe,be,Ae;return V!=null&&V.loading?Y.createElement("div",{className:Sn(L==null?void 0:L.loader,(oe=g==null?void 0:g.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":Nt==="loading"},V.loading):ue?Y.createElement("div",{className:Sn(L==null?void 0:L.loader,(be=g==null?void 0:g.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Nt==="loading"},ue):Y.createElement(XN,{className:Sn(L==null?void 0:L.loader,(Ae=g==null?void 0:g.classNames)==null?void 0:Ae.loader),visible:Nt==="loading"})}return Y.createElement("li",{tabIndex:0,ref:Hn,className:Sn(j,Ra,L==null?void 0:L.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Nt],(n=g==null?void 0:g.classNames)==null?void 0:n[Nt]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:S,"data-styled":!(g.jsx||g.unstyled||T),"data-mounted":re,"data-promise":!!g.promise,"data-swiped":Aa,"data-removed":Pt,"data-visible":ui,"data-y-position":kc,"data-x-position":ro,"data-index":E,"data-front":Mh,"data-swiping":zn,"data-dismissible":br,"data-type":Nt,"data-invert":jc,"data-swipe-out":cn,"data-swipe-direction":ee,"data-expanded":!!(D||B&&re),style:{"--index":E,"--toasts-before":E,"--z-index":k.length-E,"--offset":`${Pt?ci:qn.current}px`,"--initial-height":B?"auto":`${Le}px`,...A,...g.style},onDragEnd:()=>{Er(!1),U(null),Ft.current=null},onPointerDown:oe=>{tt||!br||(Pc.current=new Date,Kr(qn.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(Er(!0),Ft.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,be,Ae,lt;if(cn||!br)return;Ft.current=null;let Yt=Number(((oe=Hn.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gn=Number(((be=Hn.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),un=new Date().getTime()-((Ae=Pc.current)==null?void 0:Ae.getTime()),Ut=$==="x"?Yt:Gn,bn=Math.abs(Ut)/un;if(Math.abs(Ut)>=gk||bn>.11){Kr(qn.current),(lt=g.onDismiss)==null||lt.call(g,g),ne($==="x"?Yt>0?"right":"left":Gn>0?"down":"up"),En(),li(!0),Gr(!1);return}Er(!1),U(null)},onPointerMove:oe=>{var be,Ae,lt,Yt;if(!Ft.current||!br||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;let Gn=oe.clientY-Ft.current.y,un=oe.clientX-Ft.current.x,Ut=(Ae=t.swipeDirections)!=null?Ae:vk(ce);!$&&(Math.abs(un)>1||Math.abs(Gn)>1)&&U(Math.abs(un)>Math.abs(Gn)?"x":"y");let bn={x:0,y:0};$==="y"?(Ut.includes("top")||Ut.includes("bottom"))&&(Ut.includes("top")&&Gn<0||Ut.includes("bottom")&&Gn>0)&&(bn.y=Gn):$==="x"&&(Ut.includes("left")||Ut.includes("right"))&&(Ut.includes("left")&&un<0||Ut.includes("right")&&un>0)&&(bn.x=un),(Math.abs(bn.x)>0||Math.abs(bn.y)>0)&&Gr(!0),(lt=Hn.current)==null||lt.style.setProperty("--swipe-amount-x",`${bn.x}px`),(Yt=Hn.current)==null||Yt.style.setProperty("--swipe-amount-y",`${bn.y}px`)}},Nc&&!g.jsx?Y.createElement("button",{"aria-label":Q,"data-disabled":tt,"data-close-button":!0,onClick:tt||!br?()=>{}:()=>{var oe;En(),(oe=g.onDismiss)==null||oe.call(g,g)},className:Sn(L==null?void 0:L.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=V==null?void 0:V.close)!=null?i:nk):null,g.jsx||C.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:Y.createElement(Y.Fragment,null,Nt||g.icon||g.promise?Y.createElement("div",{"data-icon":"",className:Sn(L==null?void 0:L.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||di():null,g.type!=="loading"?g.icon||(V==null?void 0:V[Nt])||QN(Nt):null):null,Y.createElement("div",{"data-content":"",className:Sn(L==null?void 0:L.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:Sn(L==null?void 0:L.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?Y.createElement("div",{"data-description":"",className:Sn(P,Vh,L==null?void 0:L.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),C.isValidElement(g.cancel)?g.cancel:g.cancel&&cu(g.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:oe=>{var be,Ae;cu(g.cancel)&&br&&((Ae=(be=g.cancel).onClick)==null||Ae.call(be,oe),En())},className:Sn(L==null?void 0:L.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,C.isValidElement(g.action)?g.action:g.action&&cu(g.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||N,onClick:oe=>{var be,Ae;cu(g.action)&&((Ae=(be=g.action).onClick)==null||Ae.call(be,oe),!oe.defaultPrevented&&En())},className:Sn(L==null?void 0:L.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function n0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wk(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?fk:hk;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var xk=C.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:g,visibleToasts:T=dk,toastOptions:w,dir:x=n0(),gap:_=mk,loadingIcon:v,icons:E,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:D}=t,[O,S]=Y.useState([]),b=Y.useMemo(()=>Array.from(new Set([r].concat(O.filter(G=>G.position).map(G=>G.position)))),[O,r]),[A,R]=Y.useState([]),[N,j]=Y.useState(!1),[P,q]=Y.useState(!1),[ce,se]=Y.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ue=Y.useRef(null),B=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=Y.useRef(null),V=Y.useRef(!1),Q=Y.useCallback(G=>{S($=>{var U;return(U=$.find(ee=>ee.id===G.id))!=null&&U.delete||$t.dismiss(G.id),$.filter(({id:ee})=>ee!==G.id)})},[]);return Y.useEffect(()=>$t.subscribe(G=>{if(G.dismiss){S($=>$.map(U=>U.id===G.id?{...U,delete:!0}:U));return}setTimeout(()=>{$1.flushSync(()=>{S($=>{let U=$.findIndex(ee=>ee.id===G.id);return U!==-1?[...$.slice(0,U),{...$[U],...G},...$.slice(U+1)]:[G,...$]})})})}),[]),Y.useEffect(()=>{if(h!=="system"){se(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:$})=>{se($?"dark":"light")})}catch{G.addListener(({matches:U})=>{try{se(U?"dark":"light")}catch(ee){console.error(ee)}})}},[h]),Y.useEffect(()=>{O.length<=1&&j(!1)},[O]),Y.useEffect(()=>{let G=$=>{var U,ee;s.every(ne=>$[ne]||$.code===ne)&&(j(!0),(U=ue.current)==null||U.focus()),$.code==="Escape"&&(document.activeElement===ue.current||(ee=ue.current)!=null&&ee.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),Y.useEffect(()=>{if(ue.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,V.current=!1)}},[ue.current]),Y.createElement("section",{ref:e,"aria-label":`${k} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((G,$)=>{var U;let[ee,ne]=G.split("-");return O.length?Y.createElement("ol",{key:G,dir:x==="auto"?n0():x,tabIndex:-1,ref:ue,className:a,"data-sonner-toaster":!0,"data-theme":ce,"data-y-position":ee,"data-lifted":N&&O.length>1&&!i,"data-x-position":ne,style:{"--front-toast-height":`${((U=A[0])==null?void 0:U.height)||0}px`,"--width":`${pk}px`,"--gap":`${_}px`,...g,...wk(c,u)},onBlur:re=>{V.current&&!re.currentTarget.contains(re.relatedTarget)&&(V.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||V.current||(V.current=!0,L.current=re.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{P||j(!1)},onDragEnd:()=>j(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},O.filter(re=>!re.position&&$===0||re.position===G).map((re,Rt)=>{var Pt,ln;return Y.createElement(_k,{key:re.id,icons:E,index:Rt,toast:re,defaultRichColors:f,duration:(Pt=w==null?void 0:w.duration)!=null?Pt:m,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:T,closeButton:(ln=w==null?void 0:w.closeButton)!=null?ln:o,interacting:P,position:G,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:Q,toasts:O.filter(zn=>zn.position==re.position),heights:A.filter(zn=>zn.position==re.position),setHeights:R,expandByDefault:i,gap:_,loadingIcon:v,expanded:N,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const Ek=({...t})=>{const{theme:e="system"}=KN();return d.jsx(xk,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},bk=["top","right","bottom","left"],qs=Math.min,Zt=Math.max,gd=Math.round,uu=Math.floor,ar=t=>({x:t,y:t}),Tk={left:"right",right:"left",bottom:"top",top:"bottom"},Sk={start:"end",end:"start"};function Kp(t,e,n){return Zt(t,qs(e,n))}function Ur(t,e){return typeof t=="function"?t(e):t}function $r(t){return t.split("-")[0]}function ma(t){return t.split("-")[1]}function Pg(t){return t==="x"?"y":"x"}function Ng(t){return t==="y"?"height":"width"}const Ik=new Set(["top","bottom"]);function rr(t){return Ik.has($r(t))?"y":"x"}function kg(t){return Pg(rr(t))}function Ck(t,e,n){n===void 0&&(n=!1);const r=ma(t),s=kg(t),i=Ng(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=yd(o)),[o,yd(o)]}function Ak(t){const e=yd(t);return[Qp(t),e,Qp(e)]}function Qp(t){return t.replace(/start|end/g,e=>Sk[e])}const r0=["left","right"],s0=["right","left"],Rk=["top","bottom"],Pk=["bottom","top"];function Nk(t,e,n){switch(t){case"top":case"bottom":return n?e?s0:r0:e?r0:s0;case"left":case"right":return e?Rk:Pk;default:return[]}}function kk(t,e,n,r){const s=ma(t);let i=Nk($r(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Qp)))),i}function yd(t){return t.replace(/left|right|bottom|top/g,e=>Tk[e])}function jk(t){return{top:0,right:0,bottom:0,left:0,...t}}function Rb(t){return typeof t!="number"?jk(t):{top:t,right:t,bottom:t,left:t}}function vd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function i0(t,e,n){let{reference:r,floating:s}=t;const i=rr(e),o=kg(e),a=Ng(o),c=$r(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(ma(e)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const Dk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=i0(u,r,c),m=r,g={},T=0;for(let w=0;w<a.length;w++){const{name:x,fn:_}=a[w],{x:v,y:E,data:k,reset:D}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});h=v??h,f=E??f,g={...g,[x]:{...g[x],...k}},D&&T<=50&&(T++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=i0(u,m,c)),w=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:g}};async function Gl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Ur(e,t),T=Rb(g),x=a[m?f==="floating"?"reference":"floating":f],_=vd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},D=vd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:E,strategy:c}):v);return{top:(_.top-D.top+T.top)/k.y,bottom:(D.bottom-_.bottom+T.bottom)/k.y,left:(_.left-D.left+T.left)/k.x,right:(D.right-_.right+T.right)/k.x}}const Ok=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:h=0}=Ur(t,e)||{};if(u==null)return{};const f=Rb(h),m={x:n,y:r},g=kg(s),T=Ng(g),w=await o.getDimensions(u),x=g==="y",_=x?"top":"left",v=x?"bottom":"right",E=x?"clientHeight":"clientWidth",k=i.reference[T]+i.reference[g]-m[g]-i.floating[T],D=m[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=O?O[E]:0;(!S||!await(o.isElement==null?void 0:o.isElement(O)))&&(S=a.floating[E]||i.floating[T]);const b=k/2-D/2,A=S/2-w[T]/2-1,R=qs(f[_],A),N=qs(f[v],A),j=R,P=S-w[T]-N,q=S/2-w[T]/2+b,ce=Kp(j,q,P),se=!c.arrow&&ma(s)!=null&&q!==ce&&i.reference[T]/2-(q<j?R:N)-w[T]/2<0,ue=se?q<j?q-j:q-P:0;return{[g]:m[g]+ue,data:{[g]:ce,centerOffset:q-ce-ue,...se&&{alignmentOffset:ue}},reset:se}}}),Lk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:w=!0,...x}=Ur(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=$r(s),v=rr(a),E=$r(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=m||(E||!w?[yd(a)]:Ak(a)),O=T!=="none";!m&&O&&D.push(...kk(a,w,T,k));const S=[a,...D],b=await Gl(e,x),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(b[_]),f){const q=Ck(s,o,k);A.push(b[q[0]],b[q[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(q=>q<=0)){var N,j;const q=(((N=i.flip)==null?void 0:N.index)||0)+1,ce=S[q];if(ce&&(!(f==="alignment"?v!==rr(ce):!1)||R.every(B=>B.overflows[0]>0&&rr(B.placement)===v)))return{data:{index:q,overflows:R},reset:{placement:ce}};let se=(j=R.filter(ue=>ue.overflows[0]<=0).sort((ue,B)=>ue.overflows[1]-B.overflows[1])[0])==null?void 0:j.placement;if(!se)switch(g){case"bestFit":{var P;const ue=(P=R.filter(B=>{if(O){const L=rr(B.placement);return L===v||L==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(L=>L>0).reduce((L,V)=>L+V,0)]).sort((B,L)=>B[1]-L[1])[0])==null?void 0:P[0];ue&&(se=ue);break}case"initialPlacement":se=a;break}if(s!==se)return{reset:{placement:se}}}return{}}}};function o0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function a0(t){return bk.some(e=>t[e]>=0)}const Mk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ur(t,e);switch(r){case"referenceHidden":{const i=await Gl(e,{...s,elementContext:"reference"}),o=o0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:a0(o)}}}case"escaped":{const i=await Gl(e,{...s,altBoundary:!0}),o=o0(i,n.floating);return{data:{escapedOffsets:o,escaped:a0(o)}}}default:return{}}}}},Pb=new Set(["left","top"]);async function Vk(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=$r(n),a=ma(n),c=rr(n)==="y",u=Pb.has(o)?-1:1,h=i&&c?-1:1,f=Ur(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(g=a==="end"?T*-1:T),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const Fk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await Vk(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Uk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:_,y:v}=x;return{x:_,y:v}}},...c}=Ur(t,e),u={x:n,y:r},h=await Gl(e,c),f=rr($r(s)),m=Pg(f);let g=u[m],T=u[f];if(i){const x=m==="y"?"top":"left",_=m==="y"?"bottom":"right",v=g+h[x],E=g-h[_];g=Kp(v,g,E)}if(o){const x=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=T+h[x],E=T-h[_];T=Kp(v,T,E)}const w=a.fn({...e,[m]:g,[f]:T});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[m]:i,[f]:o}}}}}},$k=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Ur(t,e),h={x:n,y:r},f=rr(s),m=Pg(f);let g=h[m],T=h[f];const w=Ur(a,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const E=m==="y"?"height":"width",k=i.reference[m]-i.floating[E]+x.mainAxis,D=i.reference[m]+i.reference[E]-x.mainAxis;g<k?g=k:g>D&&(g=D)}if(u){var _,v;const E=m==="y"?"width":"height",k=Pb.has($r(s)),D=i.reference[f]-i.floating[E]+(k&&((_=o.offset)==null?void 0:_[f])||0)+(k?0:x.crossAxis),O=i.reference[f]+i.reference[E]+(k?0:((v=o.offset)==null?void 0:v[f])||0)-(k?x.crossAxis:0);T<D?T=D:T>O&&(T=O)}return{[m]:g,[f]:T}}}},Bk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Ur(t,e),h=await Gl(e,u),f=$r(s),m=ma(s),g=rr(s)==="y",{width:T,height:w}=i.floating;let x,_;f==="top"||f==="bottom"?(x=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,x=m==="end"?"top":"bottom");const v=w-h.top-h.bottom,E=T-h.left-h.right,k=qs(w-h[x],v),D=qs(T-h[_],E),O=!e.middlewareData.shift;let S=k,b=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=v),O&&!m){const R=Zt(h.left,0),N=Zt(h.right,0),j=Zt(h.top,0),P=Zt(h.bottom,0);g?b=T-2*(R!==0||N!==0?R+N:Zt(h.left,h.right)):S=w-2*(j!==0||P!==0?j+P:Zt(h.top,h.bottom))}await c({...e,availableWidth:b,availableHeight:S});const A=await o.getDimensions(a.floating);return T!==A.width||w!==A.height?{reset:{rects:!0}}:{}}}};function ah(){return typeof window<"u"}function ga(t){return Nb(t)?(t.nodeName||"").toLowerCase():"#document"}function rn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _r(t){var e;return(e=(Nb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Nb(t){return ah()?t instanceof Node||t instanceof rn(t).Node:!1}function Fn(t){return ah()?t instanceof Element||t instanceof rn(t).Element:!1}function gr(t){return ah()?t instanceof HTMLElement||t instanceof rn(t).HTMLElement:!1}function l0(t){return!ah()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rn(t).ShadowRoot}const zk=new Set(["inline","contents"]);function vc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Un(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!zk.has(s)}const Wk=new Set(["table","td","th"]);function Hk(t){return Wk.has(ga(t))}const qk=[":popover-open",":modal"];function lh(t){return qk.some(e=>{try{return t.matches(e)}catch{return!1}})}const Gk=["transform","translate","scale","rotate","perspective"],Kk=["transform","translate","scale","rotate","perspective","filter"],Qk=["paint","layout","strict","content"];function jg(t){const e=Dg(),n=Fn(t)?Un(t):t;return Gk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Kk.some(r=>(n.willChange||"").includes(r))||Qk.some(r=>(n.contain||"").includes(r))}function Yk(t){let e=Gs(t);for(;gr(e)&&!ea(e);){if(jg(e))return e;if(lh(e))return null;e=Gs(e)}return null}function Dg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xk=new Set(["html","body","#document"]);function ea(t){return Xk.has(ga(t))}function Un(t){return rn(t).getComputedStyle(t)}function ch(t){return Fn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gs(t){if(ga(t)==="html")return t;const e=t.assignedSlot||t.parentNode||l0(t)&&t.host||_r(t);return l0(e)?e.host:e}function kb(t){const e=Gs(t);return ea(e)?t.ownerDocument?t.ownerDocument.body:t.body:gr(e)&&vc(e)?e:kb(e)}function Kl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=kb(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=rn(s);if(i){const a=Yp(o);return e.concat(o,o.visualViewport||[],vc(s)?s:[],a&&n?Kl(a):[])}return e.concat(s,Kl(s,[],n))}function Yp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function jb(t){const e=Un(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=gr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=gd(n)!==i||gd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Og(t){return Fn(t)?t:t.contextElement}function ko(t){const e=Og(t);if(!gr(e))return ar(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=jb(e);let o=(i?gd(n.width):n.width)/r,a=(i?gd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Jk=ar(0);function Db(t){const e=rn(t);return!Dg()||!e.visualViewport?Jk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Zk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==rn(t)?!1:e}function Fi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Og(t);let o=ar(1);e&&(r?Fn(r)&&(o=ko(r)):o=ko(t));const a=Zk(i,n,r)?Db(i):ar(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=rn(i),g=r&&Fn(r)?rn(r):r;let T=m,w=Yp(T);for(;w&&r&&g!==T;){const x=ko(w),_=w.getBoundingClientRect(),v=Un(w),E=_.left+(w.clientLeft+parseFloat(v.paddingLeft))*x.x,k=_.top+(w.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,h*=x.x,f*=x.y,c+=E,u+=k,T=rn(w),w=Yp(T)}}return vd({width:h,height:f,x:c,y:u})}function Lg(t,e){const n=ch(t).scrollLeft;return e?e.left+n:Fi(_r(t)).left+n}function Ob(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Lg(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function e2(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=_r(r),a=e?lh(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=ar(1);const h=ar(0),f=gr(r);if((f||!f&&!i)&&((ga(r)!=="body"||vc(o))&&(c=ch(r)),gr(r))){const g=Fi(r);u=ko(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=o&&!f&&!i?Ob(o,c,!0):ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function t2(t){return Array.from(t.getClientRects())}function n2(t){const e=_r(t),n=ch(t),r=t.ownerDocument.body,s=Zt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Zt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Lg(t);const a=-n.scrollTop;return Un(r).direction==="rtl"&&(o+=Zt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function r2(t,e){const n=rn(t),r=_r(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Dg();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const s2=new Set(["absolute","fixed"]);function i2(t,e){const n=Fi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=gr(t)?ko(t):ar(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function c0(t,e,n){let r;if(e==="viewport")r=r2(t,n);else if(e==="document")r=n2(_r(t));else if(Fn(e))r=i2(e,n);else{const s=Db(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return vd(r)}function Lb(t,e){const n=Gs(t);return n===e||!Fn(n)||ea(n)?!1:Un(n).position==="fixed"||Lb(n,e)}function o2(t,e){const n=e.get(t);if(n)return n;let r=Kl(t,[],!1).filter(a=>Fn(a)&&ga(a)!=="body"),s=null;const i=Un(t).position==="fixed";let o=i?Gs(t):t;for(;Fn(o)&&!ea(o);){const a=Un(o),c=jg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&s2.has(s.position)||vc(o)&&!c&&Lb(t,o))?r=r.filter(h=>h!==o):s=a,o=Gs(o)}return e.set(t,r),r}function a2(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?lh(e)?[]:o2(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,h)=>{const f=c0(e,h,s);return u.top=Zt(f.top,u.top),u.right=qs(f.right,u.right),u.bottom=qs(f.bottom,u.bottom),u.left=Zt(f.left,u.left),u},c0(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function l2(t){const{width:e,height:n}=jb(t);return{width:e,height:n}}function c2(t,e,n){const r=gr(e),s=_r(e),i=n==="fixed",o=Fi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=ar(0);function u(){c.x=Lg(s)}if(r||!r&&!i)if((ga(e)!=="body"||vc(s))&&(a=ch(e)),r){const g=Fi(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?Ob(s,a):ar(0),f=o.left+a.scrollLeft-c.x-h.x,m=o.top+a.scrollTop-c.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function Nf(t){return Un(t).position==="static"}function u0(t,e){if(!gr(t)||Un(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return _r(t)===n&&(n=n.ownerDocument.body),n}function Mb(t,e){const n=rn(t);if(lh(t))return n;if(!gr(t)){let s=Gs(t);for(;s&&!ea(s);){if(Fn(s)&&!Nf(s))return s;s=Gs(s)}return n}let r=u0(t,e);for(;r&&Hk(r)&&Nf(r);)r=u0(r,e);return r&&ea(r)&&Nf(r)&&!jg(r)?n:r||Yk(t)||n}const u2=async function(t){const e=this.getOffsetParent||Mb,n=this.getDimensions,r=await n(t.floating);return{reference:c2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function d2(t){return Un(t).direction==="rtl"}const h2={convertOffsetParentRelativeRectToViewportRelativeRect:e2,getDocumentElement:_r,getClippingRect:a2,getOffsetParent:Mb,getElementRects:u2,getClientRects:t2,getDimensions:l2,getScale:ko,isElement:Fn,isRTL:d2};function Vb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function f2(t,e){let n=null,r;const s=_r(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=u;if(a||e(),!m||!g)return;const T=uu(f),w=uu(s.clientWidth-(h+m)),x=uu(s.clientHeight-(f+g)),_=uu(h),E={rootMargin:-T+"px "+-w+"px "+-x+"px "+-_+"px",threshold:Zt(0,qs(1,c))||1};let k=!0;function D(O){const S=O[0].intersectionRatio;if(S!==c){if(!k)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Vb(u,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(D,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,E)}n.observe(t)}return o(!0),i}function p2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Og(t),h=s||i?[...u?Kl(u):[],...Kl(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=u&&a?f2(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let T,w=c?Fi(t):null;c&&x();function x(){const _=Fi(t);w&&!Vb(w,_)&&n(),w=_,T=requestAnimationFrame(x)}return n(),()=>{var _;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(_=g)==null||_.disconnect(),g=null,c&&cancelAnimationFrame(T)}}const m2=Fk,g2=Uk,y2=Lk,v2=Bk,_2=Mk,d0=Ok,w2=$k,x2=(t,e,n)=>{const r=new Map,s={platform:h2,...n},i={...s.platform,_c:r};return Dk(t,e,{...s,platform:i})};var E2=typeof document<"u",b2=function(){},Du=E2?C.useLayoutEffect:b2;function _d(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_d(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_d(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Fb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function h0(t,e){const n=Fb(t);return Math.round(e*n)/n}function kf(t){const e=C.useRef(t);return Du(()=>{e.current=t}),e}function T2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[h,f]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=C.useState(r);_d(m,r)||g(r);const[T,w]=C.useState(null),[x,_]=C.useState(null),v=C.useCallback(B=>{B!==O.current&&(O.current=B,w(B))},[]),E=C.useCallback(B=>{B!==S.current&&(S.current=B,_(B))},[]),k=i||T,D=o||x,O=C.useRef(null),S=C.useRef(null),b=C.useRef(h),A=c!=null,R=kf(c),N=kf(s),j=kf(u),P=C.useCallback(()=>{if(!O.current||!S.current)return;const B={placement:e,strategy:n,middleware:m};N.current&&(B.platform=N.current),x2(O.current,S.current,B).then(L=>{const V={...L,isPositioned:j.current!==!1};q.current&&!_d(b.current,V)&&(b.current=V,gc.flushSync(()=>{f(V)}))})},[m,e,n,N,j]);Du(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(B=>({...B,isPositioned:!1})))},[u]);const q=C.useRef(!1);Du(()=>(q.current=!0,()=>{q.current=!1}),[]),Du(()=>{if(k&&(O.current=k),D&&(S.current=D),k&&D){if(R.current)return R.current(k,D,P);P()}},[k,D,P,R,A]);const ce=C.useMemo(()=>({reference:O,floating:S,setReference:v,setFloating:E}),[v,E]),se=C.useMemo(()=>({reference:k,floating:D}),[k,D]),ue=C.useMemo(()=>{const B={position:n,left:0,top:0};if(!se.floating)return B;const L=h0(se.floating,h.x),V=h0(se.floating,h.y);return a?{...B,transform:"translate("+L+"px, "+V+"px)",...Fb(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:V}},[n,a,se.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:P,refs:ce,elements:se,floatingStyles:ue}),[h,P,ce,se,ue])}const S2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?d0({element:r.current,padding:s}).fn(n):{}:r?d0({element:r,padding:s}).fn(n):{}}}},I2=(t,e)=>({...m2(t),options:[t,e]}),C2=(t,e)=>({...g2(t),options:[t,e]}),A2=(t,e)=>({...w2(t),options:[t,e]}),R2=(t,e)=>({...y2(t),options:[t,e]}),P2=(t,e)=>({...v2(t),options:[t,e]}),N2=(t,e)=>({..._2(t),options:[t,e]}),k2=(t,e)=>({...S2(t),options:[t,e]});var j2="Arrow",Ub=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(Kt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ub.displayName=j2;var D2=Ub;function O2(t){const[e,n]=C.useState(void 0);return Hs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var $b="Popper",[Bb,zb]=sh($b),[LU,Wb]=Bb($b),Hb="PopperAnchor",qb=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Wb(Hb,n),o=C.useRef(null),a=Vn(e,o);return C.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(Kt.div,{...s,ref:a})});qb.displayName=Hb;var Mg="PopperContent",[L2,M2]=Bb(Mg),Gb=C.forwardRef((t,e)=>{var re,Rt,Pt,ln,zn,Er;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:T,...w}=t,x=Wb(Mg,n),[_,v]=C.useState(null),E=Vn(e,cn=>v(cn)),[k,D]=C.useState(null),O=O2(k),S=(O==null?void 0:O.width)??0,b=(O==null?void 0:O.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(u)?u:[u],j=N.length>0,P={padding:R,boundary:N.filter(F2),altBoundary:j},{refs:q,floatingStyles:ce,placement:se,isPositioned:ue,middlewareData:B}=T2({strategy:"fixed",placement:A,whileElementsMounted:(...cn)=>p2(...cn,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[I2({mainAxis:s+b,alignmentAxis:o}),c&&C2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?A2():void 0,...P}),c&&R2({...P}),P2({...P,apply:({elements:cn,rects:li,availableWidth:Aa,availableHeight:Gr})=>{const{width:ci,height:Kr}=li.reference,Le=cn.floating.style;Le.setProperty("--radix-popper-available-width",`${Aa}px`),Le.setProperty("--radix-popper-available-height",`${Gr}px`),Le.setProperty("--radix-popper-anchor-width",`${ci}px`),Le.setProperty("--radix-popper-anchor-height",`${Kr}px`)}}),k&&k2({element:k,padding:a}),U2({arrowWidth:S,arrowHeight:b}),m&&N2({strategy:"referenceHidden",...P})]}),[L,V]=Yb(se),Q=Ws(T);Hs(()=>{ue&&(Q==null||Q())},[ue,Q]);const G=(re=B.arrow)==null?void 0:re.x,$=(Rt=B.arrow)==null?void 0:Rt.y,U=((Pt=B.arrow)==null?void 0:Pt.centerOffset)!==0,[ee,ne]=C.useState();return Hs(()=>{_&&ne(window.getComputedStyle(_).zIndex)},[_]),d.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:ue?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(ln=B.transformOrigin)==null?void 0:ln.x,(zn=B.transformOrigin)==null?void 0:zn.y].join(" "),...((Er=B.hide)==null?void 0:Er.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(L2,{scope:n,placedSide:L,onArrowChange:D,arrowX:G,arrowY:$,shouldHideArrow:U,children:d.jsx(Kt.div,{"data-side":L,"data-align":V,...w,ref:E,style:{...w.style,animation:ue?void 0:"none"}})})})});Gb.displayName=Mg;var Kb="PopperArrow",V2={top:"bottom",right:"left",bottom:"top",left:"right"},Qb=C.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=M2(Kb,r),o=V2[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(D2,{...s,ref:n,style:{...s.style,display:"block"}})})});Qb.displayName=Kb;function F2(t){return t!==null}var U2=t=>({name:"transformOrigin",options:t,fn(e){var x,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=Yb(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let T="",w="";return u==="bottom"?(T=o?f:`${m}px`,w=`${-c}px`):u==="top"?(T=o?f:`${m}px`,w=`${r.floating.height+c}px`):u==="right"?(T=`${-c}px`,w=o?f:`${g}px`):u==="left"&&(T=`${r.floating.width+c}px`,w=o?f:`${g}px`),{data:{x:T,y:w}}}});function Yb(t){const[e,n="center"]=t.split("-");return[e,n]}var $2=qb,B2=Gb,z2=Qb,[uh,MU]=sh("Tooltip",[zb]),Vg=zb(),Xb="TooltipProvider",W2=700,f0="tooltip.open",[H2,Jb]=uh(Xb),Zb=t=>{const{__scopeTooltip:e,delayDuration:n=W2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=C.useRef(!0),a=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(H2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};Zb.displayName=Xb;var eT="Tooltip",[VU,dh]=uh(eT),Xp="TooltipTrigger",q2=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=dh(Xp,n),i=Jb(Xp,n),o=Vg(n),a=C.useRef(null),c=Vn(e,a,s.onTriggerChange),u=C.useRef(!1),h=C.useRef(!1),f=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx($2,{asChild:!0,...o,children:d.jsx(Kt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:st(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:st(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:st(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:st(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:st(t.onBlur,s.onClose),onClick:st(t.onClick,s.onClose)})})});q2.displayName=Xp;var G2="TooltipPortal",[FU,K2]=uh(G2,{forceMount:void 0}),ta="TooltipContent",tT=C.forwardRef((t,e)=>{const n=K2(ta,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=dh(ta,t.__scopeTooltip);return d.jsx(Sg,{present:r||o.open,children:o.disableHoverableContent?d.jsx(nT,{side:s,...i,ref:e}):d.jsx(Q2,{side:s,...i,ref:e})})}),Q2=C.forwardRef((t,e)=>{const n=dh(ta,t.__scopeTooltip),r=Jb(ta,t.__scopeTooltip),s=C.useRef(null),i=Vn(e,s),[o,a]=C.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=C.useCallback(()=>{a(null),f(!1)},[f]),g=C.useCallback((T,w)=>{const x=T.currentTarget,_={x:T.clientX,y:T.clientY},v=ej(_,x.getBoundingClientRect()),E=tj(_,v),k=nj(w.getBoundingClientRect()),D=sj([...E,...k]);a(D),f(!0)},[f]);return C.useEffect(()=>()=>m(),[m]),C.useEffect(()=>{if(c&&h){const T=x=>g(x,h),w=x=>g(x,c);return c.addEventListener("pointerleave",T),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",w)}}},[c,h,g,m]),C.useEffect(()=>{if(o){const T=w=>{const x=w.target,_={x:w.clientX,y:w.clientY},v=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),E=!rj(_,o);v?m():E&&(m(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[c,h,o,u,m]),d.jsx(nT,{...t,ref:i})}),[Y2,X2]=uh(eT,{isInside:!1}),J2=uP("TooltipContent"),nT=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=dh(ta,n),u=Vg(n),{onClose:h}=c;return C.useEffect(()=>(document.addEventListener(f0,h),()=>document.removeEventListener(f0,h)),[h]),C.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),d.jsx(Tg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:d.jsxs(B2,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(J2,{children:r}),d.jsx(Y2,{scope:n,isInside:!0,children:d.jsx(OP,{id:c.contentId,role:"tooltip",children:s||r})})]})})});tT.displayName=ta;var rT="TooltipArrow",Z2=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Vg(n);return X2(rT,n).isInside?null:d.jsx(z2,{...s,...r,ref:e})});Z2.displayName=rT;function ej(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tj(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function nj(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function rj(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,h=a.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function sj(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ij(e)}function ij(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var oj=Zb,sT=tT;const aj=oj,lj=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(sT,{ref:r,sideOffset:e,className:Qt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));lj.displayName=sT.displayName;var hh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fh=typeof window>"u"||"Deno"in globalThis;function Cn(){}function cj(t,e){return typeof t=="function"?t(e):t}function uj(t){return typeof t=="number"&&t>=0&&t!==1/0}function dj(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Jp(t,e){return typeof t=="function"?t(e):t}function hj(t,e){return typeof t=="function"?t(e):t}function p0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Fg(o,e.options))return!1}else if(!Yl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function m0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ql(e.options.mutationKey)!==Ql(i))return!1}else if(!Yl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Fg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ql)(t)}function Ql(t){return JSON.stringify(t,(e,n)=>Zp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Yl(t[n],e[n])):!1}function iT(t,e){if(t===e)return t;const n=g0(t)&&g0(e);if(n||Zp(t)&&Zp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=iT(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function g0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Zp(t){if(!y0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!y0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function y0(t){return Object.prototype.toString.call(t)==="[object Object]"}function fj(t){return new Promise(e=>{setTimeout(e,t)})}function pj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?iT(t,e):e}function mj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function gj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ug=Symbol();function oT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ug?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var bi,vs,Fo,_x,yj=(_x=class extends hh{constructor(){super();Ee(this,bi);Ee(this,vs);Ee(this,Fo);fe(this,Fo,e=>{if(!fh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,vs)||this.setEventListener(z(this,Fo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,vs))==null||e.call(this),fe(this,vs,void 0))}setEventListener(e){var n;fe(this,Fo,e),(n=z(this,vs))==null||n.call(this),fe(this,vs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,bi)!==e&&(fe(this,bi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,bi)=="boolean"?z(this,bi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},bi=new WeakMap,vs=new WeakMap,Fo=new WeakMap,_x),aT=new yj,Uo,_s,$o,wx,vj=(wx=class extends hh{constructor(){super();Ee(this,Uo,!0);Ee(this,_s);Ee(this,$o);fe(this,$o,e=>{if(!fh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,_s)||this.setEventListener(z(this,$o))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,_s))==null||e.call(this),fe(this,_s,void 0))}setEventListener(e){var n;fe(this,$o,e),(n=z(this,_s))==null||n.call(this),fe(this,_s,e(this.setOnline.bind(this)))}setOnline(e){z(this,Uo)!==e&&(fe(this,Uo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Uo)}},Uo=new WeakMap,_s=new WeakMap,$o=new WeakMap,wx),wd=new vj;function _j(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function wj(t){return Math.min(1e3*2**t,3e4)}function lT(t){return(t??"online")==="online"?wd.isOnline():!0}var cT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function jf(t){return t instanceof cT}function uT(t){let e=!1,n=0,r=!1,s;const i=_j(),o=w=>{var x;r||(m(new cT(w)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>aT.isFocused()&&(t.networkMode==="always"||wd.isOnline())&&t.canRun(),h=()=>lT(t.networkMode)&&t.canRun(),f=w=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,w),s==null||s(),i.resolve(w))},m=w=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,w),s==null||s(),i.reject(w))},g=()=>new Promise(w=>{var x;s=_=>{(r||u())&&w(_)},(x=t.onPause)==null||x.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),T=()=>{if(r)return;let w;const x=n===0?t.initialPromise:void 0;try{w=x??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(f).catch(_=>{var O;if(r)return;const v=t.retry??(fh?0:3),E=t.retryDelay??wj,k=typeof E=="function"?E(n,_):E,D=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!D){m(_);return}n++,(O=t.onFail)==null||O.call(t,n,_),fj(k).then(()=>u()?void 0:g()).then(()=>{e?m(_):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?T():g().then(T),i)}}var xj=t=>setTimeout(t,0);function Ej(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=xj;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ot=Ej(),Ti,xx,dT=(xx=class{constructor(){Ee(this,Ti)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uj(this.gcTime)&&fe(this,Ti,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fh?1/0:5*60*1e3))}clearGcTimeout(){z(this,Ti)&&(clearTimeout(z(this,Ti)),fe(this,Ti,void 0))}},Ti=new WeakMap,xx),Bo,Si,hn,Ii,bt,cc,Ci,An,Ir,Ex,bj=(Ex=class extends dT{constructor(n){super();Ee(this,An);Ee(this,Bo);Ee(this,Si);Ee(this,hn);Ee(this,Ii);Ee(this,bt);Ee(this,cc);Ee(this,Ci);fe(this,Ci,!1),fe(this,cc,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,Ii,n.client),fe(this,hn,z(this,Ii).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,Bo,Sj(this.options)),this.state=n.state??z(this,Bo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,bt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,cc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,hn).remove(this)}setData(n,r){const s=pj(this.state.data,n,this.options);return _t(this,An,Ir).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){_t(this,An,Ir).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,bt))==null?void 0:s.promise;return(i=z(this,bt))==null||i.cancel(n),r?r.then(Cn).catch(Cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Bo))}isActive(){return this.observers.some(n=>hj(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ug||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Jp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!dj(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,bt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,bt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,hn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,bt)&&(z(this,Ci)?z(this,bt).cancel({revert:!0}):z(this,bt).cancelRetry()),this.scheduleGc()),z(this,hn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,An,Ir).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,bt))return z(this,bt).continueRetry(),z(this,bt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(T=>T.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(fe(this,Ci,!0),s.signal)})},o=()=>{const g=oT(this.options,r),w=(()=>{const x={client:z(this,Ii),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return fe(this,Ci,!1),this.options.persister?this.options.persister(g,w,this):g(w)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Ii),state:this.state,fetchFn:o};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(c,this),fe(this,Si,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&_t(this,An,Ir).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var T,w,x,_;jf(g)&&g.silent||_t(this,An,Ir).call(this,{type:"error",error:g}),jf(g)||((w=(T=z(this,hn).config).onError)==null||w.call(T,g,this),(_=(x=z(this,hn).config).onSettled)==null||_.call(x,this.state.data,g,this)),this.scheduleGc()};return fe(this,bt,uT({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var T,w,x,_;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(v){u(v);return}(w=(T=z(this,hn).config).onSuccess)==null||w.call(T,g,this),(_=(x=z(this,hn).config).onSettled)==null||_.call(x,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,T)=>{_t(this,An,Ir).call(this,{type:"failed",failureCount:g,error:T})},onPause:()=>{_t(this,An,Ir).call(this,{type:"pause"})},onContinue:()=>{_t(this,An,Ir).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),z(this,bt).start()}},Bo=new WeakMap,Si=new WeakMap,hn=new WeakMap,Ii=new WeakMap,bt=new WeakMap,cc=new WeakMap,Ci=new WeakMap,An=new WeakSet,Ir=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Tj(s.data,this.options),fetchMeta:n.meta??null};case"success":return fe(this,Si,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return jf(i)&&i.revert&&z(this,Si)?{...z(this,Si),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ot.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,hn).notify({query:this,type:"updated",action:n})})},Ex);function Tj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Sj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zn,bx,Ij=(bx=class extends hh{constructor(e={}){super();Ee(this,Zn);this.config=e,fe(this,Zn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Fg(s,n);let o=this.get(i);return o||(o=new bj({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,Zn).has(e.queryHash)||(z(this,Zn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Zn).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Zn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ot.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Zn).get(e)}getAll(){return[...z(this,Zn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>p0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>p0(e,r)):n}notify(e){Ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ot.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ot.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zn=new WeakMap,bx),er,jt,Ai,tr,os,Tx,Cj=(Tx=class extends dT{constructor(n){super();Ee(this,tr);Ee(this,er);Ee(this,jt);Ee(this,Ai);this.mutationId=n.mutationId,fe(this,jt,n.mutationCache),fe(this,er,[]),this.state=n.state||Aj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,er).includes(n)||(z(this,er).push(n),this.clearGcTimeout(),z(this,jt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){fe(this,er,z(this,er).filter(r=>r!==n)),this.scheduleGc(),z(this,jt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,er).length||(this.state.status==="pending"?this.scheduleGc():z(this,jt).remove(this))}continue(){var n;return((n=z(this,Ai))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,u,h,f,m,g,T,w,x,_,v,E,k,D,O,S,b,A;const r=()=>{_t(this,tr,os).call(this,{type:"continue"})};fe(this,Ai,uT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,N)=>{_t(this,tr,os).call(this,{type:"failed",failureCount:R,error:N})},onPause:()=>{_t(this,tr,os).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,jt).canRun(this)}));const s=this.state.status==="pending",i=!z(this,Ai).canStart();try{if(s)r();else{_t(this,tr,os).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=z(this,jt).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));N!==this.state.context&&_t(this,tr,os).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const R=await z(this,Ai).start();return await((f=(h=z(this,jt).config).onSuccess)==null?void 0:f.call(h,R,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,R,n,this.state.context)),await((w=(T=z(this,jt).config).onSettled)==null?void 0:w.call(T,R,null,this.state.variables,this.state.context,this)),await((_=(x=this.options).onSettled)==null?void 0:_.call(x,R,null,n,this.state.context)),_t(this,tr,os).call(this,{type:"success",data:R}),R}catch(R){try{throw await((E=(v=z(this,jt).config).onError)==null?void 0:E.call(v,R,n,this.state.context,this)),await((D=(k=this.options).onError)==null?void 0:D.call(k,R,n,this.state.context)),await((S=(O=z(this,jt).config).onSettled)==null?void 0:S.call(O,void 0,R,this.state.variables,this.state.context,this)),await((A=(b=this.options).onSettled)==null?void 0:A.call(b,void 0,R,n,this.state.context)),R}finally{_t(this,tr,os).call(this,{type:"error",error:R})}}finally{z(this,jt).runNext(this)}}},er=new WeakMap,jt=new WeakMap,Ai=new WeakMap,tr=new WeakSet,os=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ot.batch(()=>{z(this,er).forEach(s=>{s.onMutationUpdate(n)}),z(this,jt).notify({mutation:this,type:"updated",action:n})})},Tx);function Aj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pr,Rn,uc,Sx,Rj=(Sx=class extends hh{constructor(e={}){super();Ee(this,Pr);Ee(this,Rn);Ee(this,uc);this.config=e,fe(this,Pr,new Set),fe(this,Rn,new Map),fe(this,uc,0)}build(e,n,r){const s=new Cj({mutationCache:this,mutationId:++zc(this,uc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){z(this,Pr).add(e);const n=du(e);if(typeof n=="string"){const r=z(this,Rn).get(n);r?r.push(e):z(this,Rn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,Pr).delete(e)){const n=du(e);if(typeof n=="string"){const r=z(this,Rn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&z(this,Rn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=du(e);if(typeof n=="string"){const r=z(this,Rn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=du(e);if(typeof n=="string"){const s=(r=z(this,Rn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ot.batch(()=>{z(this,Pr).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,Pr).clear(),z(this,Rn).clear()})}getAll(){return Array.from(z(this,Pr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>m0(n,r))}findAll(e={}){return this.getAll().filter(n=>m0(e,n))}notify(e){Ot.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ot.batch(()=>Promise.all(e.map(n=>n.continue().catch(Cn))))}},Pr=new WeakMap,Rn=new WeakMap,uc=new WeakMap,Sx);function du(t){var e;return(e=t.options.scope)==null?void 0:e.id}function v0(t){return{onFetch:(e,n)=>{var h,f,m,g,T;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let w=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=oT(e.options,e.fetchOptions),v=async(E,k,D)=>{if(w)return Promise.reject();if(k==null&&E.pages.length)return Promise.resolve(E);const S=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:k,direction:D?"backward":"forward",meta:e.options.meta};return x(N),N})(),b=await _(S),{maxPages:A}=e.options,R=D?gj:mj;return{pages:R(E.pages,b,A),pageParams:R(E.pageParams,k,A)}};if(s&&i.length){const E=s==="backward",k=E?Pj:_0,D={pages:i,pageParams:o},O=k(r,D);a=await v(D,O,E)}else{const E=t??i.length;do{const k=c===0?o[0]??r.initialPageParam:_0(r,a);if(c>0&&k==null)break;a=await v(a,k),c++}while(c<E)}return a};e.options.persister?e.fetchFn=()=>{var w,x;return(x=(w=e.options).persister)==null?void 0:x.call(w,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function _0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Pj(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Be,ws,xs,zo,Wo,Es,Ho,qo,Ix,Nj=(Ix=class{constructor(t={}){Ee(this,Be);Ee(this,ws);Ee(this,xs);Ee(this,zo);Ee(this,Wo);Ee(this,Es);Ee(this,Ho);Ee(this,qo);fe(this,Be,t.queryCache||new Ij),fe(this,ws,t.mutationCache||new Rj),fe(this,xs,t.defaultOptions||{}),fe(this,zo,new Map),fe(this,Wo,new Map),fe(this,Es,0)}mount(){zc(this,Es)._++,z(this,Es)===1&&(fe(this,Ho,aT.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Be).onFocus())})),fe(this,qo,wd.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Be).onOnline())})))}unmount(){var t,e;zc(this,Es)._--,z(this,Es)===0&&((t=z(this,Ho))==null||t.call(this),fe(this,Ho,void 0),(e=z(this,qo))==null||e.call(this),fe(this,qo,void 0))}isFetching(t){return z(this,Be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,ws).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Be).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,Be).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Jp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,Be).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,Be).get(r.queryHash),i=s==null?void 0:s.state.data,o=cj(e,i);if(o!==void 0)return z(this,Be).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ot.batch(()=>z(this,Be).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Be).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Be);Ot.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Be);return Ot.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ot.batch(()=>z(this,Be).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Cn).catch(Cn)}invalidateQueries(t,e={}){return Ot.batch(()=>(z(this,Be).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ot.batch(()=>z(this,Be).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Cn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Cn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Be).build(this,e);return n.isStaleByTime(Jp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cn).catch(Cn)}fetchInfiniteQuery(t){return t.behavior=v0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cn).catch(Cn)}ensureInfiniteQueryData(t){return t.behavior=v0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wd.isOnline()?z(this,ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Be)}getMutationCache(){return z(this,ws)}getDefaultOptions(){return z(this,xs)}setDefaultOptions(t){fe(this,xs,t)}setQueryDefaults(t,e){z(this,zo).set(Ql(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,zo).values()],n={};return e.forEach(r=>{Yl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,Wo).set(Ql(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Wo).values()],n={};return e.forEach(r=>{Yl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,xs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Fg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ug&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,xs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Be).clear(),z(this,ws).clear()}},Be=new WeakMap,ws=new WeakMap,xs=new WeakMap,zo=new WeakMap,Wo=new WeakMap,Es=new WeakMap,Ho=new WeakMap,qo=new WeakMap,Ix),kj=C.createContext(void 0),jj=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(kj.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}var Ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ss||(Ss={}));const w0="popstate";function Dj(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return em("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xd(s)}return Lj(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $g(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Oj(){return Math.random().toString(36).substr(2,8)}function x0(t,e){return{usr:t.state,key:t.key,idx:e}}function em(t,e,n,r){return n===void 0&&(n=null),Xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ya(e):e,{state:n,key:e&&e.key||r||Oj()})}function xd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Lj(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ss.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Xl({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Ss.Pop;let x=h(),_=x==null?null:x-u;u=x,c&&c({action:a,location:w.location,delta:_})}function m(x,_){a=Ss.Push;let v=em(w.location,x,_);u=h()+1;let E=x0(v,u),k=w.createHref(v);try{o.pushState(E,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(k)}i&&c&&c({action:a,location:w.location,delta:1})}function g(x,_){a=Ss.Replace;let v=em(w.location,x,_);u=h();let E=x0(v,u),k=w.createHref(v);o.replaceState(E,"",k),i&&c&&c({action:a,location:w.location,delta:0})}function T(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:xd(x);return v=v.replace(/ $/,"%20"),Ye(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let w={get action(){return a},get location(){return t(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(w0,f),c=x,()=>{s.removeEventListener(w0,f),c=null}},createHref(x){return e(s,x)},createURL:T,encodeLocation(x){let _=T(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:g,go(x){return o.go(x)}};return w}var E0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(E0||(E0={}));function Mj(t,e,n){return n===void 0&&(n="/"),Vj(t,e,n,!1)}function Vj(t,e,n,r){let s=typeof e=="string"?ya(e):e,i=Bg(s.pathname||"/",n);if(i==null)return null;let o=hT(t);Fj(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=Yj(i);a=Kj(o[c],u,r)}return a}function hT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ye(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Os([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(Ye(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hT(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:qj(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of fT(i.path))s(i,o,c)}),e}function fT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=fT(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function Fj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Gj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Uj=/^:[\w-]+$/,$j=3,Bj=2,zj=1,Wj=10,Hj=-2,b0=t=>t==="*";function qj(t,e){let n=t.split("/"),r=n.length;return n.some(b0)&&(r+=Hj),e&&(r+=Bj),n.filter(s=>!b0(s)).reduce((s,i)=>s+(Uj.test(i)?$j:i===""?zj:Wj),r)}function Gj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Kj(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=T0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=T0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Os([i,f.pathname]),pathnameBase:tD(Os([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Os([i,f.pathnameBase]))}return o}function T0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Qj(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let w=a[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const T=a[f];return g&&!T?u[m]=void 0:u[m]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Qj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$g(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Yj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $g(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Xj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jj=t=>Xj.test(t);function Zj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ya(t):t,i;if(n)if(Jj(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),$g(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=S0(n.substring(1),"/"):i=S0(n,e)}else i=e;return{pathname:i,search:nD(r),hash:rD(s)}}function S0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Df(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zg(t,e){let n=eD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ya(t):(s=Xl({},t),Ye(!s.pathname||!s.pathname.includes("?"),Df("?","pathname","search",s)),Ye(!s.pathname||!s.pathname.includes("#"),Df("#","pathname","hash",s)),Ye(!s.search||!s.search.includes("#"),Df("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let c=Zj(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Os=t=>t.join("/").replace(/\/\/+/g,"/"),tD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pT=["post","put","patch","delete"];new Set(pT);const iD=["get",...pT];new Set(iD);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}const Hg=C.createContext(null),oD=C.createContext(null),si=C.createContext(null),ph=C.createContext(null),ii=C.createContext({outlet:null,matches:[],isDataRoute:!1}),mT=C.createContext(null);function aD(t,e){let{relative:n}=e===void 0?{}:e;va()||Ye(!1);let{basename:r,navigator:s}=C.useContext(si),{hash:i,pathname:o,search:a}=yT(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Os([r,o])),s.createHref({pathname:c,search:a,hash:i})}function va(){return C.useContext(ph)!=null}function _a(){return va()||Ye(!1),C.useContext(ph).location}function gT(t){C.useContext(si).static||C.useLayoutEffect(t)}function wr(){let{isDataRoute:t}=C.useContext(ii);return t?wD():lD()}function lD(){va()||Ye(!1);let t=C.useContext(Hg),{basename:e,future:n,navigator:r}=C.useContext(si),{matches:s}=C.useContext(ii),{pathname:i}=_a(),o=JSON.stringify(zg(s,n.v7_relativeSplatPath)),a=C.useRef(!1);return gT(()=>{a.current=!0}),C.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Wg(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Os([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function yT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(si),{matches:s}=C.useContext(ii),{pathname:i}=_a(),o=JSON.stringify(zg(s,r.v7_relativeSplatPath));return C.useMemo(()=>Wg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function cD(t,e){return uD(t,e)}function uD(t,e,n,r){va()||Ye(!1);let{navigator:s}=C.useContext(si),{matches:i}=C.useContext(ii),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=_a(),h;if(e){var f;let x=typeof e=="string"?ya(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ye(!1),h=x}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let T=Mj(t,{pathname:g}),w=mD(T&&T.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Os([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Os([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&w?C.createElement(ph.Provider,{value:{location:Jl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ss.Pop}},w):w}function dD(){let t=_D(),e=sD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,null)}const hD=C.createElement(dD,null);class fD extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(ii.Provider,{value:this.props.routeContext},C.createElement(mT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pD(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(Hg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(ii.Provider,{value:e},r)}function mD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Ye(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,T=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||T){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let g,T=!1,w=null,x=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||hD,c&&(u<0&&m===0?(T=!0,x=null):u===m&&(T=!0,x=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),v=()=>{let E;return g?E=w:T?E=x:f.route.Component?E=C.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,C.createElement(pD,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?C.createElement(fD,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var vT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vT||{}),Ed=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ed||{});function gD(t){let e=C.useContext(Hg);return e||Ye(!1),e}function yD(t){let e=C.useContext(oD);return e||Ye(!1),e}function vD(t){let e=C.useContext(ii);return e||Ye(!1),e}function _T(t){let e=vD(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function _D(){var t;let e=C.useContext(mT),n=yD(Ed.UseRouteError),r=_T(Ed.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wD(){let{router:t}=gD(vT.UseNavigateStable),e=_T(Ed.UseNavigateStable),n=C.useRef(!1);return gT(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Jl({fromRouteId:e},i)))},[t,e])}function xD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function I0(t){let{to:e,replace:n,state:r,relative:s}=t;va()||Ye(!1);let{future:i,static:o}=C.useContext(si),{matches:a}=C.useContext(ii),{pathname:c}=_a(),u=wr(),h=Wg(e,zg(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return C.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function dn(t){Ye(!1)}function ED(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ss.Pop,navigator:i,static:o=!1,future:a}=t;va()&&Ye(!1);let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:i,static:o,future:Jl({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=ya(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:T="default"}=r,w=C.useMemo(()=>{let x=Bg(h,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:g,key:T},navigationType:s}},[c,h,f,m,g,T,s]);return w==null?null:C.createElement(si.Provider,{value:u},C.createElement(ph.Provider,{children:n,value:w}))}function bD(t){let{children:e,location:n}=t;return cD(tm(e),n)}new Promise(()=>{});function tm(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,tm(r.props.children,i));return}r.type!==dn&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(this,arguments)}function TD(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function SD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ID(t,e){return t.button===0&&(!e||e==="_self")&&!SD(t)}const CD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AD="6";try{window.__reactRouterVersion=AD}catch{}const RD="startTransition",C0=Vx[RD];function PD(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=Dj({window:s,v5Compat:!0}));let o=i.current,[a,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=C.useCallback(f=>{u&&C0?C0(()=>c(f)):c(f)},[c,u]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.useEffect(()=>xD(r),[r]),C.createElement(ED,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const ND=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jo=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,m=TD(e,CD),{basename:g}=C.useContext(si),T,w=!1;if(typeof u=="string"&&kD.test(u)&&(T=u,ND))try{let E=new URL(window.location.href),k=u.startsWith("//")?new URL(E.protocol+u):new URL(u),D=Bg(k.pathname,g);k.origin===E.origin&&D!=null?u=D+k.search+k.hash:w=!0}catch{}let x=aD(u,{relative:s}),_=jD(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function v(E){r&&r(E),E.defaultPrevented||_(E)}return C.createElement("a",nm({},m,{href:T||x,onClick:w||i?r:v,ref:n,target:c}))});var A0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(A0||(A0={}));var R0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(R0||(R0={}));function jD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=wr(),u=_a(),h=yT(t,{relative:o});return C.useCallback(f=>{if(ID(f,n)){f.preventDefault();let m=r!==void 0?r:xd(u)===xd(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,h,r,s,n,t,i,o,a])}const DD=yb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Cr=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?lP:"button";return d.jsx(o,{className:Qt(DD({variant:e,size:n,className:t})),ref:i,...s})});Cr.displayName="Button";const as=C.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Qt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));as.displayName="Card";const OD=C.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Qt("flex flex-col space-y-1.5 p-6",t),...e}));OD.displayName="CardHeader";const LD=C.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:Qt("text-2xl font-semibold leading-none tracking-tight",t),...e}));LD.displayName="CardTitle";const MD=C.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:Qt("text-sm text-muted-foreground",t),...e}));MD.displayName="CardDescription";const ls=C.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Qt("p-6 pt-0",t),...e}));ls.displayName="CardContent";const VD=C.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:Qt("flex items-center p-6 pt-0",t),...e}));VD.displayName="CardFooter";const na="/assets/suros-logo-new-uXOabC5U.png",FD=()=>{};var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},UD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,g=u&63;c||(g=64,o||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new $D;const m=i<<2|a>>4;if(r.push(m),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const T=u<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $D extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BD=function(t){const e=wT(t);return xT.encodeByteArray(e,!0)},bd=function(t){return BD(t).replace(/\./g,"")},ET=function(t){try{return xT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=()=>zD().__FIREBASE_DEFAULTS__,HD=()=>{if(typeof process>"u"||typeof P0>"u")return;const t=P0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ET(t[1]);return e&&JSON.parse(e)},mh=()=>{try{return FD()||WD()||HD()||qD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bT=t=>{var e,n;return(n=(e=mh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},TT=t=>{const e=bT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ST=()=>{var t;return(t=mh())==null?void 0:t.config},IT=t=>{var e;return(e=mh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bd(JSON.stringify(n)),bd(JSON.stringify(o)),""].join(".")}const bl={};function KD(){const t={prod:[],emulator:[]};for(const e of Object.keys(bl))bl[e]?t.emulator.push(e):t.prod.push(e);return t}function QD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let N0=!1;function Gg(t,e){if(typeof window>"u"||typeof document>"u"||!oi(window.location.host)||bl[t]===e||bl[t]||N0)return;bl[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=KD().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{N0=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=QD(r),g=n("text"),T=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;a(E),h(x,w);const k=u();c(v,_),E.append(v,T,x,k),document.body.appendChild(E)}i?(T.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function XD(){var e;const t=(e=mh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tO(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nO(){return!XD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rO(){try{return typeof indexedDB=="object"}catch{return!1}}function sO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iO,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?oO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xr(s,a,r)}}function oO(t,e){return t.replace(aO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const aO=/\{\$([^}]+)}/g;function lO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ui(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(k0(i)&&k0(o)){if(!Ui(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function k0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ol(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function al(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cO(t,e){const n=new uO(t,e);return n.subscribe.bind(n)}class uO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Of),s.error===void 0&&(s.error=Of),s.complete===void 0&&(s.complete=Of);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pO(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fO(t){return t===vi?void 0:t}function pO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const gO={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},yO=ye.INFO,vO={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},_O=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=vO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kg{constructor(e){this.name=e,this._logLevel=yO,this._logHandler=_O,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const wO=(t,e)=>e.some(n=>t instanceof n);let j0,D0;function xO(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EO(){return D0||(D0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,rm=new WeakMap,RT=new WeakMap,Lf=new WeakMap,Qg=new WeakMap;function bO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ls(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&AT.set(n,t)}).catch(()=>{}),Qg.set(e,t),e}function TO(t){if(rm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});rm.set(t,e)}let sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SO(t){sm=t(sm)}function IO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mf(this),e,...n);return RT.set(r,e.sort?e.sort():[e]),Ls(r)}:EO().includes(t)?function(...e){return t.apply(Mf(this),e),Ls(AT.get(this))}:function(...e){return Ls(t.apply(Mf(this),e))}}function CO(t){return typeof t=="function"?IO(t):(t instanceof IDBTransaction&&TO(t),wO(t,xO())?new Proxy(t,sm):t)}function Ls(t){if(t instanceof IDBRequest)return bO(t);if(Lf.has(t))return Lf.get(t);const e=CO(t);return e!==t&&(Lf.set(t,e),Qg.set(e,t)),e}const Mf=t=>Qg.get(t);function AO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ls(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ls(o.result),c.oldVersion,c.newVersion,Ls(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const RO=["get","getKey","getAll","getAllKeys","count"],PO=["put","add","delete","clear"],Vf=new Map;function O0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=PO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RO.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Vf.set(e,i),i}SO(t=>({...t,get:(e,n,r)=>O0(e,n)||t.get(e,n,r),has:(e,n)=>!!O0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const im="@firebase/app",L0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Kg("@firebase/app"),jO="@firebase/app-compat",DO="@firebase/analytics-compat",OO="@firebase/analytics",LO="@firebase/app-check-compat",MO="@firebase/app-check",VO="@firebase/auth",FO="@firebase/auth-compat",UO="@firebase/database",$O="@firebase/data-connect",BO="@firebase/database-compat",zO="@firebase/functions",WO="@firebase/functions-compat",HO="@firebase/installations",qO="@firebase/installations-compat",GO="@firebase/messaging",KO="@firebase/messaging-compat",QO="@firebase/performance",YO="@firebase/performance-compat",XO="@firebase/remote-config",JO="@firebase/remote-config-compat",ZO="@firebase/storage",eL="@firebase/storage-compat",tL="@firebase/firestore",nL="@firebase/ai",rL="@firebase/firestore-compat",sL="firebase",iL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="[DEFAULT]",oL={[im]:"fire-core",[jO]:"fire-core-compat",[OO]:"fire-analytics",[DO]:"fire-analytics-compat",[MO]:"fire-app-check",[LO]:"fire-app-check-compat",[VO]:"fire-auth",[FO]:"fire-auth-compat",[UO]:"fire-rtdb",[$O]:"fire-data-connect",[BO]:"fire-rtdb-compat",[zO]:"fire-fn",[WO]:"fire-fn-compat",[HO]:"fire-iid",[qO]:"fire-iid-compat",[GO]:"fire-fcm",[KO]:"fire-fcm-compat",[QO]:"fire-perf",[YO]:"fire-perf-compat",[XO]:"fire-rc",[JO]:"fire-rc-compat",[ZO]:"fire-gcs",[eL]:"fire-gcs-compat",[tL]:"fire-fst",[rL]:"fire-fst-compat",[nL]:"fire-vertex","fire-js":"fire-js",[sL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=new Map,aL=new Map,am=new Map;function M0(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $i(t){const e=t.name;if(am.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,t);for(const n of Td.values())M0(n,t);for(const n of aL.values())M0(n,t);return!0}function gh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new _c("app","Firebase",lL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=iL;function PT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:om,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ms.create("bad-app-name",{appName:String(s)});if(n||(n=ST()),!n)throw Ms.create("no-options");const i=Td.get(s);if(i){if(Ui(n,i.options)&&Ui(r,i.config))return i;throw Ms.create("duplicate-app",{appName:s})}const o=new mO(s);for(const c of am.values())o.addComponent(c);const a=new cL(n,r,o);return Td.set(s,a),a}function Yg(t=om){const e=Td.get(t);if(!e&&t===om&&ST())return PT();if(!e)throw Ms.create("no-app",{appName:t});return e}function lr(t,e,n){let r=oL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(o.join(" "));return}$i(new Ks(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="firebase-heartbeat-database",dL=1,Zl="firebase-heartbeat-store";let Ff=null;function NT(){return Ff||(Ff=AO(uL,dL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ms.create("idb-open",{originalErrorMessage:t.message})})),Ff}async function hL(t){try{const n=(await NT()).transaction(Zl),r=await n.objectStore(Zl).get(kT(t));return await n.done,r}catch(e){if(e instanceof xr)Br.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function V0(t,e){try{const r=(await NT()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,kT(t)),await r.done}catch(n){if(n instanceof xr)Br.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(r.message)}}}function kT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=1024,pL=30;class mL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=F0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>pL){const o=vL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F0(),{heartbeatsToSend:r,unsentEntries:s}=gL(this._heartbeatsCache.heartbeats),i=bd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Br.warn(n),""}}}function F0(){return new Date().toISOString().substring(0,10)}function gL(t,e=fL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),U0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),U0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rO()?sO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return V0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return V0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function U0(t){return bd(JSON.stringify({version:2,heartbeats:t})).length}function vL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){$i(new Ks("platform-logger",e=>new NO(e),"PRIVATE")),$i(new Ks("heartbeat",e=>new mL(e),"PRIVATE")),lr(im,L0,t),lr(im,L0,"esm2020"),lr("fire-js","")}_L("");function jT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wL=jT,DT=new _c("auth","Firebase",jT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Kg("@firebase/auth");function xL(t,...e){Sd.logLevel<=ye.WARN&&Sd.warn(`Auth (${Qi}): ${t}`,...e)}function Ou(t,...e){Sd.logLevel<=ye.ERROR&&Sd.error(`Auth (${Qi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t,...e){throw Xg(t,...e)}function cr(t,...e){return Xg(t,...e)}function OT(t,e,n){const r={...wL(),[e]:n};return new _c("auth","Firebase",r).create(e,{appName:t.name})}function Vs(t){return OT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DT.create(t,...e)}function ae(t,e,...n){if(!t)throw Xg(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ou(e),new Error(e)}function zr(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function EL(){return $0()==="http:"||$0()==="https:"}function $0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EL()||ZD()||"connection"in navigator)?navigator.onLine:!0}function TL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=YD()||eO()}get(){return bL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CL=new xc(3e4,6e4);function Yi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ai(t,e,n,r,s={}){return MT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=wc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return JD()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&oi(t.emulatorConfig.host)&&(u.credentials="include"),LT.fetch()(await VT(t,t.config.apiHost,n,a),u)})}async function MT(t,e,n){t._canInitEmulator=!1;const r={...SL,...e};try{const s=new RL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw hu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw hu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw hu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw hu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw OT(t,h,u);$n(t,h)}}catch(s){if(s instanceof xr)throw s;$n(t,"network-request-failed",{message:String(s)})}}async function yh(t,e,n,r,s={}){const i=await ai(t,e,n,r,s);return"mfaPendingCredential"in i&&$n(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function VT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Jg(t.config,s):`${t.config.apiScheme}://${s}`;return IL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function AL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),CL.get())})}}function hu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=cr(t,e,r);return s.customData._tokenResponse=n,s}function B0(t){return t!==void 0&&t.enterprise!==void 0}class PL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NL(t,e){return ai(t,"GET","/v2/recaptchaConfig",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){return ai(t,"POST","/v1/accounts:delete",e)}async function Id(t,e){return ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jL(t,e=!1){const n=We(t),r=await n.getIdToken(e),s=Zg(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Tl(Uf(s.auth_time)),issuedAtTime:Tl(Uf(s.iat)),expirationTime:Tl(Uf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Uf(t){return Number(t)*1e3}function Zg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const s=ET(n);return s?JSON.parse(s):(Ou("Failed to decode base64 JWT payload"),null)}catch(s){return Ou("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function z0(t){const e=Zg(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&DL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function DL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t){var f;const e=t.auth,n=await t.getIdToken(),r=await ec(t,Id(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?FT(s.providerUserInfo):[],o=ML(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new cm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function LL(t){const e=We(t);await Cd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ML(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function FT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(t,e){const n=await MT(t,{},async()=>{const r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await VT(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&oi(t.emulatorConfig.host)&&(c.credentials="include"),LT.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FL(t,e){return ai(t,"POST","/v2/accounts:revokeToken",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await VL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Do;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new OL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ec(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jL(this,e)}reload(){return LL(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await ec(this,kL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:g,providerData:T,stsTokenManager:w}=n;ae(f&&w,e,"internal-error");const x=Do.fromJSON(this.name,w);ae(typeof f=="string",e,"internal-error"),is(r,e.name),is(s,e.name),ae(typeof m=="boolean",e,"internal-error"),ae(typeof g=="boolean",e,"internal-error"),is(i,e.name),is(o,e.name),is(a,e.name),is(c,e.name),is(u,e.name),is(h,e.name);const _=new kn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:u,lastLoginAt:h});return T&&Array.isArray(T)&&(_.providerData=T.map(v=>({...v}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Do;s.updateFromServerResponse(n);const i=new kn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?FT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Do;a.updateFromIdToken(r);const c=new kn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new cm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new Map;function Dr(t){zr(t instanceof Function,"Expected a class definition");let e=W0.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UT.type="NONE";const H0=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t,e,n){return`firebase:${t}:${e}:${n}`}class Oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Lu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Lu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Id(this.auth,{idToken:e}).catch(()=>{});return n?kn._fromGetAccountInfoResponse(this.auth,n,e):null}return kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oo(Dr(H0),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Dr(H0);const o=Lu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await Id(e,{idToken:h}).catch(()=>{});if(!m)break;f=await kn._fromGetAccountInfoResponse(e,m,h)}else f=kn._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Oo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Oo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(GT(e))return"Webos";if(BT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $T(t=At()){return/firefox\//i.test(t)}function BT(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(t=At()){return/crios\//i.test(t)}function WT(t=At()){return/iemobile/i.test(t)}function HT(t=At()){return/android/i.test(t)}function qT(t=At()){return/blackberry/i.test(t)}function GT(t=At()){return/webos/i.test(t)}function ey(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UL(t=At()){var e;return ey(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $L(){return tO()&&document.documentMode===10}function KT(t=At()){return ey(t)||HT(t)||GT(t)||qT(t)||/windows phone/i.test(t)||WT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t,e=[]){let n;switch(t){case"Browser":n=q0(At());break;case"Worker":n=`${q0(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t,e={}){return ai(t,"GET","/v2/passwordPolicy",Yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=6;class HL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G0(this),this.idTokenSubscription=new G0(this),this.beforeStateQueue=new BL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Id(this,{idToken:e}),r=await kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(Vs(this));const n=e?We(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zL(this),n=new HL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function wa(t){return We(t)}class G0{constructor(e){this.auth=e,this.observer=null,this.addObserver=cO(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GL(t){vh=t}function YT(t){return vh.loadJS(t)}function KL(){return vh.recaptchaEnterpriseScript}function QL(){return vh.gapiScript}function YL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class XL{constructor(){this.enterprise=new JL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZL="recaptcha-enterprise",XT="NO_RECAPTCHA";class eM{constructor(e){this.type=ZL,this.auth=wa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{NL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new PL(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;B0(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(XT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XL().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&B0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=KL();c.length!==0&&(c+=a),YT(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function K0(t,e,n,r=!1,s=!1){const i=new eM(t);let o;if(s)o=XT;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Q0(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await K0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await K0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e){const n=gh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ui(i,e??{}))return s;$n(s,"already-initialized")}return n.initialize({options:e})}function nM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rM(t,e,n){const r=wa(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=JT(e),{host:o,port:a}=sM(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(Ui(u,r.config.emulator)&&Ui(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,oi(o)?(qg(`${i}//${o}${c}`),Gg("Auth",!0)):iM()}function JT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sM(t){const e=JT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Y0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Y0(o)}}}function Y0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function oM(t,e){return ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(t,e){return yh(t,"POST","/v1/accounts:signInWithPassword",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){return yh(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}async function cM(t,e){return yh(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends ty{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q0(e,n,"signInWithPassword",aM);case"emailLink":return lM(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Q0(e,r,"signUpPassword",oM);case"emailLink":return cM(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return yh(t,"POST","/v1/accounts:signInWithIdp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="http://localhost";class Bi extends ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Bi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:uM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hM(t){const e=ol(al(t)).link,n=e?ol(al(e)).deep_link_id:null,r=ol(al(t)).deep_link_id;return(r?ol(al(r)).link:null)||r||n||e||t}class ny{constructor(e){const n=ol(al(e)),r=n.apiKey??null,s=n.oobCode??null,i=dM(n.mode??null);ae(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hM(e);try{return new ny(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,n){return tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ny.parseLink(n);return ae(r,"argument-error"),tc._fromEmailAndCode(e,r.code,r.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends ZT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Ec{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ps.credential(n,r)}catch{return null}}}ps.GOOGLE_SIGN_IN_METHOD="google.com";ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Ec{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Ec{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await kn._fromIdTokenResponse(e,r,s),o=X0(r);return new ra({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=X0(r);return new ra({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function X0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends xr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ad.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ad(e,n,r,s)}}function eS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ad._fromErrorAndOperation(t,i,e,r):i})}async function fM(t,e,n=!1){const r=await ec(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e,n=!1){const{auth:r}=t;if(mn(r.app))return Promise.reject(Vs(r));const s="reauthenticate";try{const i=await ec(t,eS(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=Zg(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),ra._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&$n(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(t,e,n=!1){if(mn(t.app))return Promise.reject(Vs(t));const r="signIn",s=await eS(t,r,e),i=await ra._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function mM(t,e){return tS(wa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(t){const e=wa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function yM(t,e,n){return mn(t.app)?Promise.reject(Vs(t)):mM(We(t),xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gM(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t,e){return We(t).setPersistence(e)}function _M(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function wM(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function xM(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function EM(t){return We(t).signOut()}const Rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rd,"1"),this.storage.removeItem(Rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=1e3,TM=10;class rS extends nS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);$L()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,TM):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";const sS=rS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends nS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iS.type="SESSION";const oS=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new _h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await SM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=ry("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function CM(t){ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function AM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function PM(){return aS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebaseLocalStorageDb",NM=1,Pd="firebaseLocalStorage",cS="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function kM(){const t=indexedDB.deleteDatabase(lS);return new bc(t).toPromise()}function um(){const t=indexedDB.open(lS,NM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pd,{keyPath:cS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await kM(),e(await um()))})})}async function J0(t,e,n){const r=wh(t,!0).put({[cS]:e,value:n});return new bc(r).toPromise()}async function jM(t,e){const n=wh(t,!1).get(e),r=await new bc(n).toPromise();return r===void 0?null:r.value}function Z0(t,e){const n=wh(t,!0).delete(e);return new bc(n).toPromise()}const DM=800,OM=3;class uS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(PM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await AM(),!this.activeServiceWorker)return;this.sender=new IM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await J0(e,Rd,"1"),await Z0(e,Rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wh(s,!1).getAll();return new bc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uS.type="LOCAL";const LM=uS;new xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t,e){return e?Dr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VM(t){return tS(t.auth,new sy(t),t.bypassAuthState)}function FM(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),pM(n,new sy(t),t.bypassAuthState)}async function UM(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),fM(n,new sy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VM;case"linkViaPopup":case"linkViaRedirect":return UM;case"reauthViaPopup":case"reauthViaRedirect":return FM;default:$n(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new xc(2e3,1e4);class To extends dS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$M.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="pendingRedirect",Mu=new Map;class zM extends dS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mu.get(this.auth._key());if(!e){try{const r=await WM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mu.set(this.auth._key(),e)}return this.bypassAuthState||Mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WM(t,e){const n=GM(e),r=qM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function HM(t,e){Mu.set(t._key(),e)}function qM(t){return Dr(t._redirectPersistence)}function GM(t){return Lu(BM,t.config.apiKey,t.name)}async function KM(t,e,n=!1){if(mn(t.app))return Promise.reject(Vs(t));const r=wa(t),s=MM(r,e),o=await new zM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=10*60*1e3;class YM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QM&&this.cachedEventUids.clear(),this.cachedEventUids.has(ew(e))}saveEventToCache(e){this.cachedEventUids.add(ew(e)),this.lastProcessedEventTime=Date.now()}}function ew(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e={}){return ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e4=/^https?/;async function t4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JM(t);for(const n of e)try{if(n4(n))return}catch{}$n(t,"unauthorized-domain")}function n4(t){const e=lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!e4.test(n))return!1;if(ZM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new xc(3e4,6e4);function tw(){const t=ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function s4(t){return new Promise((e,n)=>{var s,i,o;function r(){tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tw(),n(cr(t,"network-request-failed"))},timeout:r4.get()})}if((i=(s=ur().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=ur().gapi)!=null&&o.load)r();else{const a=YL("iframefcb");return ur()[a]=()=>{gapi.load?r():n(cr(t,"network-request-failed"))},YT(`${QL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Vu=null,e})}let Vu=null;function i4(t){return Vu=Vu||s4(t),Vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new xc(5e3,15e3),a4="__/auth/iframe",l4="emulator/auth/iframe",c4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d4(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jg(e,l4):`https://${t.config.authDomain}/${a4}`,r={apiKey:e.apiKey,appName:t.name,v:Qi},s=u4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${wc(r).slice(1)}`}async function h4(t){const e=await i4(t),n=ur().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:d4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),a=ur().setTimeout(()=>{i(o)},o4.get());function c(){ur().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p4=500,m4=600,g4="_blank",y4="http://localhost";class nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v4(t,e,n,r=p4,s=m4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...f4,width:r.toString(),height:s.toString(),top:i,left:o},u=At().toLowerCase();n&&(a=zT(u)?g4:n),$T(u)&&(e=e||y4,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,T])=>`${m}${g}=${T},`,"");if(UL(u)&&a!=="_self")return _4(e||"",a),new nw(null);const f=window.open(e||"",a,h);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new nw(f)}function _4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="__/auth/handler",x4="emulator/auth/handler",E4=encodeURIComponent("fac");async function rw(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qi,eventId:s};if(e instanceof ZT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Ec){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${E4}=${encodeURIComponent(c)}`:"";return`${b4(t)}?${wc(a).slice(1)}${u}`}function b4({config:t}){return t.emulator?Jg(t,x4):`https://${t.authDomain}/${w4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="webStorageSupport";class T4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oS,this._completeRedirectFn=KM,this._overrideRedirectResult=HM}async _openPopup(e,n,r,s){var o;zr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await rw(e,n,r,lm(),s);return v4(e,i,ry())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await rw(e,n,r,lm(),s);return CM(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(zr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await h4(e),r=new YM(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($f,{type:$f},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[$f];i!==void 0&&n(!!i),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KT()||BT()||ey()}}const S4=T4;var sw="@firebase/auth",iw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A4(t){$i(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(t)},u=new qL(r,s,i,c);return nM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$i(new Ks("auth-internal",e=>{const n=wa(e.getProvider("auth").getImmediate());return(r=>new I4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(sw,iw,C4(t)),lr(sw,iw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=5*60,P4=IT("authIdTokenMaxAge")||R4;let ow=null;const N4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>P4)return;const s=n==null?void 0:n.token;ow!==s&&(ow=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function k4(t=Yg()){const e=gh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tM(t,{popupRedirectResolver:S4,persistence:[LM,sS,oS]}),r=IT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=N4(i.toString());wM(n,o,()=>o(n.currentUser)),_M(n,a=>o(a))}}const s=bT("auth");return s&&rM(n,`http://${s}`),n}function j4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}GL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=cr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",j4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A4("Browser");var aw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,fS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,b){function A(){}A.prototype=b.prototype,S.F=b.prototype,S.prototype=new A,S.prototype.constructor=S,S.D=function(R,N,j){for(var P=Array(arguments.length-2),q=2;q<arguments.length;q++)P[q-2]=arguments[q];return b.prototype[N].apply(R,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,b,A){A||(A=0);const R=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)R[N]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(N=0;N<16;++N)R[N]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=S.g[0],A=S.g[1],N=S.g[2];let j=S.g[3],P;P=b+(j^A&(N^j))+R[0]+3614090360&4294967295,b=A+(P<<7&4294967295|P>>>25),P=j+(N^b&(A^N))+R[1]+3905402710&4294967295,j=b+(P<<12&4294967295|P>>>20),P=N+(A^j&(b^A))+R[2]+606105819&4294967295,N=j+(P<<17&4294967295|P>>>15),P=A+(b^N&(j^b))+R[3]+3250441966&4294967295,A=N+(P<<22&4294967295|P>>>10),P=b+(j^A&(N^j))+R[4]+4118548399&4294967295,b=A+(P<<7&4294967295|P>>>25),P=j+(N^b&(A^N))+R[5]+1200080426&4294967295,j=b+(P<<12&4294967295|P>>>20),P=N+(A^j&(b^A))+R[6]+2821735955&4294967295,N=j+(P<<17&4294967295|P>>>15),P=A+(b^N&(j^b))+R[7]+4249261313&4294967295,A=N+(P<<22&4294967295|P>>>10),P=b+(j^A&(N^j))+R[8]+1770035416&4294967295,b=A+(P<<7&4294967295|P>>>25),P=j+(N^b&(A^N))+R[9]+2336552879&4294967295,j=b+(P<<12&4294967295|P>>>20),P=N+(A^j&(b^A))+R[10]+4294925233&4294967295,N=j+(P<<17&4294967295|P>>>15),P=A+(b^N&(j^b))+R[11]+2304563134&4294967295,A=N+(P<<22&4294967295|P>>>10),P=b+(j^A&(N^j))+R[12]+1804603682&4294967295,b=A+(P<<7&4294967295|P>>>25),P=j+(N^b&(A^N))+R[13]+4254626195&4294967295,j=b+(P<<12&4294967295|P>>>20),P=N+(A^j&(b^A))+R[14]+2792965006&4294967295,N=j+(P<<17&4294967295|P>>>15),P=A+(b^N&(j^b))+R[15]+1236535329&4294967295,A=N+(P<<22&4294967295|P>>>10),P=b+(N^j&(A^N))+R[1]+4129170786&4294967295,b=A+(P<<5&4294967295|P>>>27),P=j+(A^N&(b^A))+R[6]+3225465664&4294967295,j=b+(P<<9&4294967295|P>>>23),P=N+(b^A&(j^b))+R[11]+643717713&4294967295,N=j+(P<<14&4294967295|P>>>18),P=A+(j^b&(N^j))+R[0]+3921069994&4294967295,A=N+(P<<20&4294967295|P>>>12),P=b+(N^j&(A^N))+R[5]+3593408605&4294967295,b=A+(P<<5&4294967295|P>>>27),P=j+(A^N&(b^A))+R[10]+38016083&4294967295,j=b+(P<<9&4294967295|P>>>23),P=N+(b^A&(j^b))+R[15]+3634488961&4294967295,N=j+(P<<14&4294967295|P>>>18),P=A+(j^b&(N^j))+R[4]+3889429448&4294967295,A=N+(P<<20&4294967295|P>>>12),P=b+(N^j&(A^N))+R[9]+568446438&4294967295,b=A+(P<<5&4294967295|P>>>27),P=j+(A^N&(b^A))+R[14]+3275163606&4294967295,j=b+(P<<9&4294967295|P>>>23),P=N+(b^A&(j^b))+R[3]+4107603335&4294967295,N=j+(P<<14&4294967295|P>>>18),P=A+(j^b&(N^j))+R[8]+1163531501&4294967295,A=N+(P<<20&4294967295|P>>>12),P=b+(N^j&(A^N))+R[13]+2850285829&4294967295,b=A+(P<<5&4294967295|P>>>27),P=j+(A^N&(b^A))+R[2]+4243563512&4294967295,j=b+(P<<9&4294967295|P>>>23),P=N+(b^A&(j^b))+R[7]+1735328473&4294967295,N=j+(P<<14&4294967295|P>>>18),P=A+(j^b&(N^j))+R[12]+2368359562&4294967295,A=N+(P<<20&4294967295|P>>>12),P=b+(A^N^j)+R[5]+4294588738&4294967295,b=A+(P<<4&4294967295|P>>>28),P=j+(b^A^N)+R[8]+2272392833&4294967295,j=b+(P<<11&4294967295|P>>>21),P=N+(j^b^A)+R[11]+1839030562&4294967295,N=j+(P<<16&4294967295|P>>>16),P=A+(N^j^b)+R[14]+4259657740&4294967295,A=N+(P<<23&4294967295|P>>>9),P=b+(A^N^j)+R[1]+2763975236&4294967295,b=A+(P<<4&4294967295|P>>>28),P=j+(b^A^N)+R[4]+1272893353&4294967295,j=b+(P<<11&4294967295|P>>>21),P=N+(j^b^A)+R[7]+4139469664&4294967295,N=j+(P<<16&4294967295|P>>>16),P=A+(N^j^b)+R[10]+3200236656&4294967295,A=N+(P<<23&4294967295|P>>>9),P=b+(A^N^j)+R[13]+681279174&4294967295,b=A+(P<<4&4294967295|P>>>28),P=j+(b^A^N)+R[0]+3936430074&4294967295,j=b+(P<<11&4294967295|P>>>21),P=N+(j^b^A)+R[3]+3572445317&4294967295,N=j+(P<<16&4294967295|P>>>16),P=A+(N^j^b)+R[6]+76029189&4294967295,A=N+(P<<23&4294967295|P>>>9),P=b+(A^N^j)+R[9]+3654602809&4294967295,b=A+(P<<4&4294967295|P>>>28),P=j+(b^A^N)+R[12]+3873151461&4294967295,j=b+(P<<11&4294967295|P>>>21),P=N+(j^b^A)+R[15]+530742520&4294967295,N=j+(P<<16&4294967295|P>>>16),P=A+(N^j^b)+R[2]+3299628645&4294967295,A=N+(P<<23&4294967295|P>>>9),P=b+(N^(A|~j))+R[0]+4096336452&4294967295,b=A+(P<<6&4294967295|P>>>26),P=j+(A^(b|~N))+R[7]+1126891415&4294967295,j=b+(P<<10&4294967295|P>>>22),P=N+(b^(j|~A))+R[14]+2878612391&4294967295,N=j+(P<<15&4294967295|P>>>17),P=A+(j^(N|~b))+R[5]+4237533241&4294967295,A=N+(P<<21&4294967295|P>>>11),P=b+(N^(A|~j))+R[12]+1700485571&4294967295,b=A+(P<<6&4294967295|P>>>26),P=j+(A^(b|~N))+R[3]+2399980690&4294967295,j=b+(P<<10&4294967295|P>>>22),P=N+(b^(j|~A))+R[10]+4293915773&4294967295,N=j+(P<<15&4294967295|P>>>17),P=A+(j^(N|~b))+R[1]+2240044497&4294967295,A=N+(P<<21&4294967295|P>>>11),P=b+(N^(A|~j))+R[8]+1873313359&4294967295,b=A+(P<<6&4294967295|P>>>26),P=j+(A^(b|~N))+R[15]+4264355552&4294967295,j=b+(P<<10&4294967295|P>>>22),P=N+(b^(j|~A))+R[6]+2734768916&4294967295,N=j+(P<<15&4294967295|P>>>17),P=A+(j^(N|~b))+R[13]+1309151649&4294967295,A=N+(P<<21&4294967295|P>>>11),P=b+(N^(A|~j))+R[4]+4149444226&4294967295,b=A+(P<<6&4294967295|P>>>26),P=j+(A^(b|~N))+R[11]+3174756917&4294967295,j=b+(P<<10&4294967295|P>>>22),P=N+(b^(j|~A))+R[2]+718787259&4294967295,N=j+(P<<15&4294967295|P>>>17),P=A+(j^(N|~b))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.v=function(S,b){b===void 0&&(b=S.length);const A=b-this.blockSize,R=this.C;let N=this.h,j=0;for(;j<b;){if(N==0)for(;j<=A;)s(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<b;)if(R[N++]=S.charCodeAt(j++),N==this.blockSize){s(this,R),N=0;break}}else for(;j<b;)if(R[N++]=S[j++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=b},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;b=this.o*8;for(var A=S.length-8;A<S.length;++A)S[A]=b&255,b/=256;for(this.v(S),S=Array(16),b=0,A=0;A<4;++A)for(let R=0;R<32;R+=8)S[b++]=this.g[A]>>>R&255;return S};function i(S,b){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=b(S)}function o(S,b){this.h=b;const A=[];let R=!0;for(let N=S.length-1;N>=0;N--){const j=S[N]|0;R&&j==b||(A[N]=j,R=!1)}this.g=A}var a={};function c(S){return-128<=S&&S<128?i(S,function(b){return new o([b|0],b<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return x(u(-S));const b=[];let A=1;for(let R=0;S>=A;R++)b[R]=S/A|0,A*=4294967296;return new o(b,0)}function h(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return x(h(S.substring(1),b));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(b,8));let R=f;for(let j=0;j<S.length;j+=8){var N=Math.min(8,S.length-j);const P=parseInt(S.substring(j,j+N),b);N<8?(N=u(Math.pow(b,N)),R=R.j(N).add(u(P))):(R=R.j(A),R=R.add(u(P)))}return R}var f=c(0),m=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();let S=0,b=1;for(let A=0;A<this.g.length;A++){const R=this.i(A);S+=(R>=0?R:4294967296+R)*b,b*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(w(this))return"-"+x(this).toString(S);const b=u(Math.pow(S,6));var A=this;let R="";for(;;){const N=k(A,b).g;A=_(A,N.j(b));let j=((A.g.length>0?A.g[0]:A.h)>>>0).toString(S);if(A=N,T(A))return j+R;for(;j.length<6;)j="0"+j;R=j+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(let b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=_(this,S),w(S)?-1:T(S)?0:1};function x(S){const b=S.g.length,A=[];for(let R=0;R<b;R++)A[R]=~S.g[R];return new o(A,~S.h).add(m)}t.abs=function(){return w(this)?x(this):this},t.add=function(S){const b=Math.max(this.g.length,S.g.length),A=[];let R=0;for(let N=0;N<=b;N++){let j=R+(this.i(N)&65535)+(S.i(N)&65535),P=(j>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);R=P>>>16,j&=65535,P&=65535,A[N]=P<<16|j}return new o(A,A[A.length-1]&-2147483648?-1:0)};function _(S,b){return S.add(x(b))}t.j=function(S){if(T(this)||T(S))return f;if(w(this))return w(S)?x(this).j(x(S)):x(x(this).j(S));if(w(S))return x(this.j(x(S)));if(this.l(g)<0&&S.l(g)<0)return u(this.m()*S.m());const b=this.g.length+S.g.length,A=[];for(var R=0;R<2*b;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<S.g.length;N++){const j=this.i(R)>>>16,P=this.i(R)&65535,q=S.i(N)>>>16,ce=S.i(N)&65535;A[2*R+2*N]+=P*ce,v(A,2*R+2*N),A[2*R+2*N+1]+=j*ce,v(A,2*R+2*N+1),A[2*R+2*N+1]+=P*q,v(A,2*R+2*N+1),A[2*R+2*N+2]+=j*q,v(A,2*R+2*N+2)}for(S=0;S<b;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=b;S<2*b;S++)A[S]=0;return new o(A,0)};function v(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function E(S,b){this.g=S,this.h=b}function k(S,b){if(T(b))throw Error("division by zero");if(T(S))return new E(f,f);if(w(S))return b=k(x(S),b),new E(x(b.g),x(b.h));if(w(b))return b=k(S,x(b)),new E(x(b.g),b.h);if(S.g.length>30){if(w(S)||w(b))throw Error("slowDivide_ only works with positive integers.");for(var A=m,R=b;R.l(S)<=0;)A=D(A),R=D(R);var N=O(A,1),j=O(R,1);for(R=O(R,2),A=O(A,2);!T(R);){var P=j.add(R);P.l(S)<=0&&(N=N.add(A),j=P),R=O(R,1),A=O(A,1)}return b=_(S,N.j(b)),new E(N,b)}for(N=f;S.l(b)>=0;){for(A=Math.max(1,Math.floor(S.m()/b.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),j=u(A),P=j.j(b);w(P)||P.l(S)>0;)A-=R,j=u(A),P=j.j(b);T(j)&&(j=m),N=N.add(j),S=_(S,P)}return new E(N,S)}t.B=function(S){return k(this,S).h},t.and=function(S){const b=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<b;R++)A[R]=this.i(R)&S.i(R);return new o(A,this.h&S.h)},t.or=function(S){const b=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<b;R++)A[R]=this.i(R)|S.i(R);return new o(A,this.h|S.h)},t.xor=function(S){const b=Math.max(this.g.length,S.g.length),A=[];for(let R=0;R<b;R++)A[R]=this.i(R)^S.i(R);return new o(A,this.h^S.h)};function D(S){const b=S.g.length+1,A=[];for(let R=0;R<b;R++)A[R]=S.i(R)<<1|S.i(R-1)>>>31;return new o(A,S.h)}function O(S,b){const A=b>>5;b%=32;const R=S.g.length-A,N=[];for(let j=0;j<R;j++)N[j]=b>0?S.i(j+A)>>>b|S.i(j+A+1)<<32-b:S.i(j+A);return new o(N,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Fs=o}).apply(typeof aw<"u"?aw:typeof self<"u"?self:typeof window<"u"?window:{});var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pS,ll,mS,Fu,dm,gS,yS,vS;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof fu=="object"&&fu];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(l,p){if(p)e:{var y=r;l=l.split(".");for(var I=0;I<l.length-1;I++){var M=l[I];if(!(M in y))break e;y=y[M]}l=l[l.length-1],I=y[l],p=p(I),p!=I&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(p){var y=[],I;for(I in p)Object.prototype.hasOwnProperty.call(p,I)&&y.push([I,p[I]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function c(l,p,y){return l.call.apply(l.bind,arguments)}function u(l,p,y){return u=c,u.apply(null,arguments)}function h(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),l.apply(this,I)}}function f(l,p){function y(){}y.prototype=p.prototype,l.Z=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Ob=function(I,M,F){for(var X=Array(arguments.length-2),me=2;me<arguments.length;me++)X[me-2]=arguments[me];return p.prototype[M].apply(I,X)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const p=l.length;if(p>0){const y=Array(p);for(let I=0;I<p;I++)y[I]=l[I];return y}return[]}function T(l,p){for(let I=1;I<arguments.length;I++){const M=arguments[I];var y=typeof M;if(y=y!="object"?y:M?Array.isArray(M)?"array":y:"null",y=="array"||y=="object"&&typeof M.length=="number"){y=l.length||0;const F=M.length||0;l.length=y+F;for(let X=0;X<F;X++)l[y+X]=M[X]}else l.push(M)}}class w{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(l){o.setTimeout(()=>{throw l},0)}function _(){var l=S;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class v{constructor(){this.h=this.g=null}add(p,y){const I=E.get();I.set(p,y),this.h?this.h.next=I:this.g=I,this.h=I}}var E=new w(()=>new k,l=>l.reset());class k{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let D,O=!1,S=new v,b=()=>{const l=Promise.resolve(void 0);D=()=>{l.then(A)}};function A(){for(var l;l=_();){try{l.h.call(l.g)}catch(y){x(y)}var p=E;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}O=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};o.addEventListener("test",y,p),o.removeEventListener("test",y,p)}catch{}return l}();function P(l){return/^[\s\xa0]*$/.test(l)}function q(l,p){N.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}f(q,N),q.prototype.init=function(l,p){const y=this.type=l.type,I=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&q.Z.h.call(this)},q.prototype.h=function(){q.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),se=0;function ue(l,p,y,I,M){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!I,this.ha=M,this.key=++se,this.da=this.fa=!1}function B(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function L(l,p,y){for(const I in l)p.call(y,l[I],I,l)}function V(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function Q(l){const p={};for(const y in l)p[y]=l[y];return p}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(l,p){let y,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(y in I)l[y]=I[y];for(let F=0;F<G.length;F++)y=G[F],Object.prototype.hasOwnProperty.call(I,y)&&(l[y]=I[y])}}function U(l){this.src=l,this.g={},this.h=0}U.prototype.add=function(l,p,y,I,M){const F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);const X=ne(l,p,I,M);return X>-1?(p=l[X],y||(p.fa=!1)):(p=new ue(p,this.src,F,!!I,M),p.fa=y,l.push(p)),p};function ee(l,p){const y=p.type;if(y in l.g){var I=l.g[y],M=Array.prototype.indexOf.call(I,p,void 0),F;(F=M>=0)&&Array.prototype.splice.call(I,M,1),F&&(B(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function ne(l,p,y,I){for(let M=0;M<l.length;++M){const F=l[M];if(!F.da&&F.listener==p&&F.capture==!!y&&F.ha==I)return M}return-1}var re="closure_lm_"+(Math.random()*1e6|0),Rt={};function Pt(l,p,y,I,M){if(Array.isArray(p)){for(let F=0;F<p.length;F++)Pt(l,p[F],y,I,M);return null}return y=Kr(y),l&&l[ce]?l.J(p,y,a(I)?!!I.capture:!!I,M):ln(l,p,y,!1,I,M)}function ln(l,p,y,I,M,F){if(!p)throw Error("Invalid event type");const X=a(M)?!!M.capture:!!M;let me=Gr(l);if(me||(l[re]=me=new U(l)),y=me.add(p,y,I,X,F),y.proxy)return y;if(I=zn(),y.proxy=I,I.src=l,I.listener=y,l.addEventListener)j||(M=X),M===void 0&&(M=!1),l.addEventListener(p.toString(),I,M);else if(l.attachEvent)l.attachEvent(li(p.toString()),I);else if(l.addListener&&l.removeListener)l.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function zn(){function l(y){return p.call(l.src,l.listener,y)}const p=Aa;return l}function Er(l,p,y,I,M){if(Array.isArray(p))for(var F=0;F<p.length;F++)Er(l,p[F],y,I,M);else I=a(I)?!!I.capture:!!I,y=Kr(y),l&&l[ce]?(l=l.i,F=String(p).toString(),F in l.g&&(p=l.g[F],y=ne(p,y,I,M),y>-1&&(B(p[y]),Array.prototype.splice.call(p,y,1),p.length==0&&(delete l.g[F],l.h--)))):l&&(l=Gr(l))&&(p=l.g[p.toString()],l=-1,p&&(l=ne(p,y,I,M)),(y=l>-1?p[l]:null)&&cn(y))}function cn(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[ce])ee(p.i,l);else{var y=l.type,I=l.proxy;p.removeEventListener?p.removeEventListener(y,I,l.capture):p.detachEvent?p.detachEvent(li(y),I):p.addListener&&p.removeListener&&p.removeListener(I),(y=Gr(p))?(ee(y,l),y.h==0&&(y.src=null,p[re]=null)):B(l)}}}function li(l){return l in Rt?Rt[l]:Rt[l]="on"+l}function Aa(l,p){if(l.da)l=!0;else{p=new q(p,this);const y=l.listener,I=l.ha||l.src;l.fa&&cn(l),l=y.call(I,p)}return l}function Gr(l){return l=l[re],l instanceof U?l:null}var ci="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kr(l){return typeof l=="function"?l:(l[ci]||(l[ci]=function(p){return l.handleEvent(p)}),l[ci])}function Le(){R.call(this),this.i=new U(this),this.M=this,this.G=null}f(Le,R),Le.prototype[ce]=!0,Le.prototype.removeEventListener=function(l,p,y,I){Er(this,l,p,y,I)};function at(l,p){var y,I=l.G;if(I)for(y=[];I;I=I.G)y.push(I);if(l=l.M,I=p.type||p,typeof p=="string")p=new N(p,l);else if(p instanceof N)p.target=p.target||l;else{var M=p;p=new N(I,l),$(p,M)}M=!0;let F,X;if(y)for(X=y.length-1;X>=0;X--)F=p.g=y[X],M=Wn(F,I,!0,p)&&M;if(F=p.g=l,M=Wn(F,I,!0,p)&&M,M=Wn(F,I,!1,p)&&M,y)for(X=0;X<y.length;X++)F=p.g=y[X],M=Wn(F,I,!1,p)&&M}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const y=l.g[p];for(let I=0;I<y.length;I++)B(y[I]);delete l.g[p],l.h--}}this.G=null},Le.prototype.J=function(l,p,y,I){return this.i.add(String(l),p,!1,y,I)},Le.prototype.K=function(l,p,y,I){return this.i.add(String(l),p,!0,y,I)};function Wn(l,p,y,I){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let M=!0;for(let F=0;F<p.length;++F){const X=p[F];if(X&&!X.da&&X.capture==y){const me=X.listener,nt=X.ha||X.src;X.fa&&ee(l.i,X),M=me.call(nt,I)!==!1&&M}}return M&&!I.defaultPrevented}function Pc(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(l,p||0)}function Hn(l){l.g=Pc(()=>{l.g=null,l.i&&(l.i=!1,Hn(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Mh extends R{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Hn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(l){R.call(this),this.h=l,this.g={}}f(ui,R);var Nt=[];function br(l){L(l.g,function(p,y){this.g.hasOwnProperty(y)&&cn(p)},l),l.g={}}ui.prototype.N=function(){ui.Z.N.call(this),br(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ra=o.JSON.stringify,Vh=o.JSON.parse,to=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Nc(){}function Pa(){}var Tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qn(){N.call(this,"d")}f(qn,N);function no(){N.call(this,"c")}f(no,N);var Ft={},kc=null;function ro(){return kc=kc||new Le}Ft.Ia="serverreachability";function Na(l){N.call(this,Ft.Ia,l)}f(Na,N);function Qr(l){const p=ro();at(p,new Na(p))}Ft.STAT_EVENT="statevent";function jc(l,p){N.call(this,Ft.STAT_EVENT,l),this.stat=p}f(jc,N);function tt(l){const p=ro();at(p,new jc(p,l))}Ft.Ja="timingevent";function En(l,p){N.call(this,Ft.Ja,l),this.size=p}f(En,N);function di(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},p)}function oe(){this.g=!0}oe.prototype.ua=function(){this.g=!1};function be(l,p,y,I,M,F){l.info(function(){if(l.g)if(F){var X="",me=F.split("&");for(let Ie=0;Ie<me.length;Ie++){var nt=me[Ie].split("=");if(nt.length>1){const ct=nt[0];nt=nt[1];const Qn=ct.split("_");X=Qn.length>=2&&Qn[1]=="type"?X+(ct+"="+nt+"&"):X+(ct+"=redacted&")}}}else X=null;else X=F;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+p+`
`+y+`
`+X})}function Ae(l,p,y,I,M,F,X){l.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+p+`
`+y+`
`+F+" "+X})}function lt(l,p,y,I){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Gn(l,y)+(I?" "+I:"")})}function Yt(l,p){l.info(function(){return"TIMEOUT: "+p})}oe.prototype.info=function(){};function Gn(l,p){if(!l.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(l=0;l<F.length;l++)if(Array.isArray(F[l])){var y=F[l];if(!(y.length<2)){var I=y[1];if(Array.isArray(I)&&!(I.length<1)){var M=I[0];if(M!="noop"&&M!="stop"&&M!="close")for(let X=1;X<I.length;X++)I[X]=""}}}}return Ra(F)}catch{return p}}var un={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bn;function Fh(){}f(Fh,Nc),Fh.prototype.g=function(){return new XMLHttpRequest},bn=new Fh;function ka(l){return encodeURIComponent(String(l))}function dC(l){var p=1;l=l.split(":");const y=[];for(;p>0&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function Yr(l,p,y,I){this.j=l,this.i=p,this.l=y,this.S=I||1,this.V=new ui(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qy}function Qy(){this.i=null,this.g="",this.h=!1}var Yy={},Uh={};function $h(l,p,y){l.M=1,l.A=Oc(Kn(p)),l.u=y,l.R=!0,Xy(l,null)}function Xy(l,p){l.F=Date.now(),Dc(l),l.B=Kn(l.A);var y=l.B,I=l.S;Array.isArray(I)||(I=[String(I)]),uv(y.i,"t",I),l.C=0,y=l.j.L,l.h=new Qy,l.g=Av(l.j,y?p:null,!l.u),l.P>0&&(l.O=new Mh(u(l.Y,l,l.g),l.P)),p=l.V,y=l.g,I=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(Nt[0]=M.toString()),M=Nt);for(let F=0;F<M.length;F++){const X=Pt(y,M[F],I||p.handleEvent,!1,p.h||p);if(!X)break;p.g[X.key]=X}p=l.J?Q(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),Qr(),be(l.i,l.v,l.B,l.l,l.S,l.u)}Yr.prototype.ba=function(l){l=l.target;const p=this.O;p&&Zr(l)==3?p.j():this.Y(l)},Yr.prototype.Y=function(l){try{if(l==this.g)e:{const me=Zr(this.g),nt=this.g.ya(),Ie=this.g.ca();if(!(me<3)&&(me!=3||this.g&&(this.h.h||this.g.la()||yv(this.g)))){this.K||me!=4||nt==7||(nt==8||Ie<=0?Qr(3):Qr(2)),Bh(this);var p=this.g.ca();this.X=p;var y=hC(this);if(this.o=p==200,Ae(this.i,this.v,this.B,this.l,this.S,me,p),this.o){if(this.U&&!this.L){t:{if(this.g){var I,M=this.g;if((I=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var F=I;break t}}F=null}if(l=F)lt(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zh(this,l);else{this.o=!1,this.m=3,tt(12),hi(this),ja(this);break e}}if(this.R){l=!0;let ct;for(;!this.K&&this.C<y.length;)if(ct=fC(this,y),ct==Uh){me==4&&(this.m=4,tt(14),l=!1),lt(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Yy){this.m=4,tt(15),lt(this.i,this.l,y,"[Invalid Chunk]"),l=!1;break}else lt(this.i,this.l,ct,null),zh(this,ct);if(Jy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||y.length!=0||this.h.h||(this.m=1,tt(16),l=!1),this.o=this.o&&l,!l)lt(this.i,this.l,y,"[Invalid Chunked Response]"),hi(this),ja(this);else if(y.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Xh(X),X.P=!0,tt(11))}}else lt(this.i,this.l,y,null),zh(this,y);me==4&&hi(this),this.o&&!this.K&&(me==4?Tv(this.j,this):(this.o=!1,Dc(this)))}else CC(this.g),p==400&&y.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),hi(this),ja(this)}}}catch{}finally{}};function hC(l){if(!Jy(l))return l.g.la();const p=yv(l.g);if(p==="")return"";let y="";const I=p.length,M=Zr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return hi(l),ja(l),"";l.h.i=new o.TextDecoder}for(let F=0;F<I;F++)l.h.h=!0,y+=l.h.i.decode(p[F],{stream:!(M&&F==I-1)});return p.length=0,l.h.g+=y,l.C=0,l.h.g}function Jy(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function fC(l,p){var y=l.C,I=p.indexOf(`
`,y);return I==-1?Uh:(y=Number(p.substring(y,I)),isNaN(y)?Yy:(I+=1,I+y>p.length?Uh:(p=p.slice(I,I+y),l.C=I+y,p)))}Yr.prototype.cancel=function(){this.K=!0,hi(this)};function Dc(l){l.T=Date.now()+l.H,Zy(l,l.H)}function Zy(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=di(u(l.aa,l),p)}function Bh(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Yr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Yt(this.i,this.B),this.M!=2&&(Qr(),tt(17)),hi(this),this.m=2,ja(this)):Zy(this,this.T-l)};function ja(l){l.j.I==0||l.K||Tv(l.j,l)}function hi(l){Bh(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,br(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function zh(l,p){try{var y=l.j;if(y.I!=0&&(y.g==l||Wh(y.h,l))){if(!l.L&&Wh(y.h,l)&&y.I==3){try{var I=y.Ba.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<l.F)Uc(y),Vc(y);else break e;Yh(y),tt(18)}}else y.xa=M[1],0<y.xa-y.K&&M[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=di(u(y.Va,y),6e3));nv(y.h)<=1&&y.ta&&(y.ta=void 0)}else pi(y,11)}else if((l.L||y.g==l)&&Uc(y),!P(p))for(M=y.Ba.g.parse(p),p=0;p<M.length;p++){let Ie=M[p];const ct=Ie[0];if(!(ct<=y.K))if(y.K=ct,Ie=Ie[1],y.I==2)if(Ie[0]=="c"){y.M=Ie[1],y.ba=Ie[2];const Qn=Ie[3];Qn!=null&&(y.ka=Qn,y.j.info("VER="+y.ka));const mi=Ie[4];mi!=null&&(y.za=mi,y.j.info("SVER="+y.za));const es=Ie[5];es!=null&&typeof es=="number"&&es>0&&(I=1.5*es,y.O=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const ts=l.g;if(ts){const Bc=ts.g?ts.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var F=I.h;F.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Hh(F,F.h),F.h=null))}if(I.G){const Jh=ts.g?ts.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(I.wa=Jh,Ne(I.J,I.G,Jh))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-l.F,y.j.info("Handshake RTT: "+y.T+"ms")),I=y;var X=l;if(I.na=Cv(I,I.L?I.ba:null,I.W),X.L){rv(I.h,X);var me=X,nt=I.O;nt&&(me.H=nt),me.D&&(Bh(me),Dc(me)),I.g=X}else Ev(I);y.i.length>0&&Fc(y)}else Ie[0]!="stop"&&Ie[0]!="close"||pi(y,7);else y.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?pi(y,7):Qh(y):Ie[0]!="noop"&&y.l&&y.l.qa(Ie),y.A=0)}}Qr(4)}catch{}}var pC=class{constructor(l,p){this.g=l,this.map=p}};function ev(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function nv(l){return l.h?1:l.g?l.g.size:0}function Wh(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Hh(l,p){l.g?l.g.add(p):l.h=p}function rv(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}ev.prototype.cancel=function(){if(this.i=sv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function sv(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.G);return p}return g(l.i)}var iv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mC(l,p){if(l){l=l.split("&");for(let y=0;y<l.length;y++){const I=l[y].indexOf("=");let M,F=null;I>=0?(M=l[y].substring(0,I),F=l[y].substring(I+1)):M=l[y],p(M,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Xr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof Xr?(this.l=l.l,Da(this,l.j),this.o=l.o,this.g=l.g,Oa(this,l.u),this.h=l.h,qh(this,dv(l.i)),this.m=l.m):l&&(p=String(l).match(iv))?(this.l=!1,Da(this,p[1]||"",!0),this.o=La(p[2]||""),this.g=La(p[3]||"",!0),Oa(this,p[4]),this.h=La(p[5]||"",!0),qh(this,p[6]||"",!0),this.m=La(p[7]||"")):(this.l=!1,this.i=new Va(null,this.l))}Xr.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(Ma(p,ov,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Ma(p,ov,!0),"@"),l.push(ka(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&l.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Ma(y,y.charAt(0)=="/"?vC:yC,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Ma(y,wC)),l.join("")},Xr.prototype.resolve=function(l){const p=Kn(this);let y=!!l.j;y?Da(p,l.j):y=!!l.o,y?p.o=l.o:y=!!l.g,y?p.g=l.g:y=l.u!=null;var I=l.h;if(y)Oa(p,l.u);else if(y=!!l.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var M=p.h.lastIndexOf("/");M!=-1&&(I=p.h.slice(0,M+1)+I)}if(M=I,M==".."||M==".")I="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){I=M.lastIndexOf("/",0)==0,M=M.split("/");const F=[];for(let X=0;X<M.length;){const me=M[X++];me=="."?I&&X==M.length&&F.push(""):me==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),I&&X==M.length&&F.push("")):(F.push(me),I=!0)}I=F.join("/")}else I=M}return y?p.h=I:y=l.i.toString()!=="",y?qh(p,dv(l.i)):y=!!l.m,y&&(p.m=l.m),p};function Kn(l){return new Xr(l)}function Da(l,p,y){l.j=y?La(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Oa(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function qh(l,p,y){p instanceof Va?(l.i=p,xC(l.i,l.l)):(y||(p=Ma(p,_C)),l.i=new Va(p,l.l))}function Ne(l,p,y){l.i.set(p,y)}function Oc(l){return Ne(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function La(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ma(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,gC),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function gC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ov=/[#\/\?@]/g,yC=/[#\?:]/g,vC=/[#\?]/g,_C=/[#\?@]/g,wC=/#/g;function Va(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function fi(l){l.g||(l.g=new Map,l.h=0,l.i&&mC(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=Va.prototype,t.add=function(l,p){fi(this),this.i=null,l=so(this,l);let y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function av(l,p){fi(l),p=so(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function lv(l,p){return fi(l),p=so(l,p),l.g.has(p)}t.forEach=function(l,p){fi(this),this.g.forEach(function(y,I){y.forEach(function(M){l.call(p,M,I,this)},this)},this)};function cv(l,p){fi(l);let y=[];if(typeof p=="string")lv(l,p)&&(y=y.concat(l.g.get(so(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)y=y.concat(l[p]);return y}t.set=function(l,p){return fi(this),this.i=null,l=so(this,l),lv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=cv(this,l),l.length>0?String(l[0]):p):p};function uv(l,p,y){av(l,p),y.length>0&&(l.i=null,l.g.set(so(l,p),g(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let I=0;I<p.length;I++){var y=p[I];const M=ka(y);y=cv(this,y);for(let F=0;F<y.length;F++){let X=M;y[F]!==""&&(X+="="+ka(y[F])),l.push(X)}}return this.i=l.join("&")};function dv(l){const p=new Va;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function so(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function xC(l,p){p&&!l.j&&(fi(l),l.i=null,l.g.forEach(function(y,I){const M=I.toLowerCase();I!=M&&(av(this,I),uv(this,M,y))},l)),l.j=p}function EC(l,p){const y=new oe;if(o.Image){const I=new Image;I.onload=h(Jr,y,"TestLoadImage: loaded",!0,p,I),I.onerror=h(Jr,y,"TestLoadImage: error",!1,p,I),I.onabort=h(Jr,y,"TestLoadImage: abort",!1,p,I),I.ontimeout=h(Jr,y,"TestLoadImage: timeout",!1,p,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=l}else p(!1)}function bC(l,p){const y=new oe,I=new AbortController,M=setTimeout(()=>{I.abort(),Jr(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:I.signal}).then(F=>{clearTimeout(M),F.ok?Jr(y,"TestPingServer: ok",!0,p):Jr(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Jr(y,"TestPingServer: error",!1,p)})}function Jr(l,p,y,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(y)}catch{}}function TC(){this.g=new to}function Gh(l){this.i=l.Sb||null,this.h=l.ab||!1}f(Gh,Nc),Gh.prototype.g=function(){return new Lc(this.i,this.h)};function Lc(l,p){Le.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Lc,Le),t=Lc.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,Ua(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hv(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function hv(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Fa(this):Ua(this),this.readyState==3&&hv(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Fa(this))},t.Na=function(l){this.g&&(this.response=l,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Ua(l)}t.setRequestHeader=function(l,p){this.A.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Ua(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function fv(l){let p="";return L(l,function(y,I){p+=I,p+=":",p+=y,p+=`\r
`}),p}function Kh(l,p,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=fv(y),typeof l=="string"?y!=null&&ka(y):Ne(l,p,y))}function $e(l){Le.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f($e,Le);var SC=/^https?$/i,IC=["POST","PUT"];t=$e.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,p,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bn.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(F){pv(this,F);return}if(l=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)y.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const F of I.keys())y.set(F,I.get(F));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),M=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(IC,p,void 0)>=0)||I||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of y)this.g.setRequestHeader(F,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(F){pv(this,F)}};function pv(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,mv(l),Mc(l)}function mv(l){l.A||(l.A=!0,at(l,"complete"),at(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,at(this,"complete"),at(this,"abort"),Mc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mc(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?gv(this):this.Xa())},t.Xa=function(){gv(this)};function gv(l){if(l.h&&typeof i<"u"){if(l.v&&Zr(l)==4)setTimeout(l.Ca.bind(l),0);else if(at(l,"readystatechange"),Zr(l)==4){l.h=!1;try{const F=l.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var I;if(I=F===0){let X=String(l.D).match(iv)[1]||null;!X&&o.self&&o.self.location&&(X=o.self.location.protocol.slice(0,-1)),I=!SC.test(X?X.toLowerCase():"")}y=I}if(y)at(l,"complete"),at(l,"success");else{l.o=6;try{var M=Zr(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",mv(l)}}finally{Mc(l)}}}}function Mc(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const y=l.g;l.g=null,p||at(l,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Zr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Vh(p)}};function yv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function CC(l){const p={};l=(l.g&&Zr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<l.length;I++){if(P(l[I]))continue;var y=dC(l[I]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=p[M]||[];p[M]=F,F.push(y)}V(p,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function vv(l){this.za=0,this.i=[],this.j=new oe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$a("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$a("baseRetryDelayMs",5e3,l),this.Za=$a("retryDelaySeedMs",1e4,l),this.Ta=$a("forwardChannelMaxRetries",2,l),this.va=$a("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new ev(l&&l.concurrentRequestLimit),this.Ba=new TC,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vv.prototype,t.ka=8,t.I=1,t.connect=function(l,p,y,I){tt(0),this.W=l,this.H=p||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.J=Cv(this,null,this.W),Fc(this)};function Qh(l){if(_v(l),l.I==3){var p=l.V++,y=Kn(l.J);if(Ne(y,"SID",l.M),Ne(y,"RID",p),Ne(y,"TYPE","terminate"),Ba(l,y),p=new Yr(l,l.j,p),p.M=2,p.A=Oc(Kn(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=p.A,y=!0),y||(p.g=Av(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Dc(p)}Iv(l)}function Vc(l){l.g&&(Xh(l),l.g.cancel(),l.g=null)}function _v(l){Vc(l),l.v&&(o.clearTimeout(l.v),l.v=null),Uc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Fc(l){if(!tv(l.h)&&!l.m){l.m=!0;var p=l.Ea;D||b(),O||(D(),O=!0),S.add(p,l),l.D=0}}function AC(l,p){return nv(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=di(u(l.Ea,l,p),Sv(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new Yr(this,this.j,l);let F=this.o;if(this.U&&(F?(F=Q(F),$(F,this.U)):F=this.U),this.u!==null||this.R||(M.J=F,F=null),this.S)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,p>4096){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=xv(this,M,p),y=Kn(this.J),Ne(y,"RID",l),Ne(y,"CVER",22),this.G&&Ne(y,"X-HTTP-Session-Id",this.G),Ba(this,y),F&&(this.R?p="headers="+ka(fv(F))+"&"+p:this.u&&Kh(y,this.u,F)),Hh(this.h,M),this.Ra&&Ne(y,"TYPE","init"),this.S?(Ne(y,"$req",p),Ne(y,"SID","null"),M.U=!0,$h(M,y,null)):$h(M,y,p),this.I=2}}else this.I==3&&(l?wv(this,l):this.i.length==0||tv(this.h)||wv(this))};function wv(l,p){var y;p?y=p.l:y=l.V++;const I=Kn(l.J);Ne(I,"SID",l.M),Ne(I,"RID",y),Ne(I,"AID",l.K),Ba(l,I),l.u&&l.o&&Kh(I,l.u,l.o),y=new Yr(l,l.j,y,l.D+1),l.u===null&&(y.J=l.o),p&&(l.i=p.G.concat(l.i)),p=xv(l,y,1e3),y.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Hh(l.h,y),$h(y,I,p)}function Ba(l,p){l.H&&L(l.H,function(y,I){Ne(p,I,y)}),l.l&&L({},function(y,I){Ne(p,I,y)})}function xv(l,p,y){y=Math.min(l.i.length,y);const I=l.l?u(l.l.Ka,l.l,l):null;e:{var M=l.i;let me=-1;for(;;){const nt=["count="+y];me==-1?y>0?(me=M[0].g,nt.push("ofs="+me)):me=0:nt.push("ofs="+me);let Ie=!0;for(let ct=0;ct<y;ct++){var F=M[ct].g;const Qn=M[ct].map;if(F-=me,F<0)me=Math.max(0,M[ct].g-100),Ie=!1;else try{F="req"+F+"_"||"";try{var X=Qn instanceof Map?Qn:Object.entries(Qn);for(const[mi,es]of X){let ts=es;a(es)&&(ts=Ra(es)),nt.push(F+mi+"="+encodeURIComponent(ts))}}catch(mi){throw nt.push(F+"type="+encodeURIComponent("_badmap")),mi}}catch{I&&I(Qn)}}if(Ie){X=nt.join("&");break e}}X=void 0}return l=l.i.splice(0,y),p.G=l,X}function Ev(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;D||b(),O||(D(),O=!0),S.add(p,l),l.A=0}}function Yh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=di(u(l.Da,l),Sv(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,bv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=di(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),Vc(this),bv(this))};function Xh(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function bv(l){l.g=new Yr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=Kn(l.na);Ne(p,"RID","rpc"),Ne(p,"SID",l.M),Ne(p,"AID",l.K),Ne(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ne(p,"TO",l.ia),Ne(p,"TYPE","xmlhttp"),Ba(l,p),l.u&&l.o&&Kh(p,l.u,l.o),l.O&&(l.g.H=l.O);var y=l.g;l=l.ba,y.M=1,y.A=Oc(Kn(p)),y.u=null,y.R=!0,Xy(y,l)}t.Va=function(){this.C!=null&&(this.C=null,Vc(this),Yh(this),tt(19))};function Uc(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Tv(l,p){var y=null;if(l.g==p){Uc(l),Xh(l),l.g=null;var I=2}else if(Wh(l.h,p))y=p.G,rv(l.h,p),I=1;else return;if(l.I!=0){if(p.o)if(I==1){y=p.u?p.u.length:0,p=Date.now()-p.F;var M=l.D;I=ro(),at(I,new En(I,y)),Fc(l)}else Ev(l);else if(M=p.m,M==3||M==0&&p.X>0||!(I==1&&AC(l,p)||I==2&&Yh(l)))switch(y&&y.length>0&&(p=l.h,p.i=p.i.concat(y)),M){case 1:pi(l,5);break;case 4:pi(l,10);break;case 3:pi(l,6);break;default:pi(l,2)}}}function Sv(l,p){let y=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(y*=2),y*p}function pi(l,p){if(l.j.info("Error code "+p),p==2){var y=u(l.bb,l),I=l.Ua;const M=!I;I=new Xr(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Da(I,"https"),Oc(I),M?EC(I.toString(),y):bC(I.toString(),y)}else tt(2);l.I=0,l.l&&l.l.pa(p),Iv(l),_v(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Iv(l){if(l.I=0,l.ja=[],l.l){const p=sv(l.h);(p.length!=0||l.i.length!=0)&&(T(l.ja,p),T(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function Cv(l,p,y){var I=y instanceof Xr?Kn(y):new Xr(y);if(I.g!="")p&&(I.g=p+"."+I.g),Oa(I,I.u);else{var M=o.location;I=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;const F=new Xr(null);I&&Da(F,I),p&&(F.g=p),M&&Oa(F,M),y&&(F.h=y),I=F}return y=l.G,p=l.wa,y&&p&&Ne(I,y,p),Ne(I,"VER",l.ka),Ba(l,I),I}function Av(l,p,y){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new $e(new Gh({ab:y})):new $e(l.ma),p.Fa(l.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rv(){}t=Rv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $c(){}$c.prototype.g=function(l,p){return new Xt(l,p)};function Xt(l,p){Le.call(this),this.g=new vv(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!P(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!P(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new io(this)}f(Xt,Le),Xt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Qh(this.g)},Xt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.v&&(y={},y.__data__=Ra(l),l=y);p.i.push(new pC(p.Ya++,l)),p.I==3&&Fc(p)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Qh(this.g),delete this.g,Xt.Z.N.call(this)};function Pv(l){qn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}f(Pv,qn);function Nv(){no.call(this),this.status=1}f(Nv,no);function io(l){this.g=l}f(io,Rv),io.prototype.ra=function(){at(this.g,"a")},io.prototype.qa=function(l){at(this.g,new Pv(l))},io.prototype.pa=function(l){at(this.g,new Nv)},io.prototype.oa=function(){at(this.g,"b")},$c.prototype.createWebChannel=$c.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,vS=function(){return new $c},yS=function(){return ro()},gS=Ft,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},un.NO_ERROR=0,un.TIMEOUT=8,un.HTTP_ERROR=6,Fu=un,Ut.COMPLETE="complete",mS=Ut,Pa.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Le.prototype.listen=Le.prototype.J,ll=Pa,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,pS=$e}).apply(typeof fu<"u"?fu:typeof self<"u"?self:typeof window<"u"?window:{});const lw="@firebase/firestore",cw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Kg("@firebase/firestore");function ao(){return zi.logLevel}function Z(t,...e){if(zi.logLevel<=ye.DEBUG){const n=e.map(iy);zi.debug(`Firestore (${Ea}): ${t}`,...n)}}function Wr(t,...e){if(zi.logLevel<=ye.ERROR){const n=e.map(iy);zi.error(`Firestore (${Ea}): ${t}`,...n)}}function sa(t,...e){if(zi.logLevel<=ye.WARN){const n=e.map(iy);zi.warn(`Firestore (${Ea}): ${t}`,...n)}}function iy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,_S(t,r,n)}function _S(t,e,n){let r=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wr(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||_S(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class O4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class L4{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Us;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Us,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Us)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new wS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}}class M4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new M4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=U4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function hm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Bf(s)===Bf(i)?ve(s,i):Bf(s)?1:-1}return ve(t.length,e.length)}const $4=55296,B4=57343;function Bf(t){const e=t.charCodeAt(0);return e>=$4&&e<=B4}function ia(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="__name__";class Jn{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Jn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ve(e.length,n.length)}static compareSegments(e,n){const r=Jn.isNumericId(e),s=Jn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Jn.extractNumericId(e).compare(Jn.extractNumericId(n)):hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class Re extends Jn{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const z4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Jn{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return z4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dw}static keyField(){return new mt([dw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Re.fromString(e))}static fromName(e){return new ie(Re.fromString(e).popFirst(5))}static empty(){return new ie(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e,n){if(!n)throw new J(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function W4(t,e,n,r){if(e===!0&&r===!0)throw new J(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hw(t){if(!ie.isDocumentKey(t))throw new J(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fw(t){if(ie.isDocumentKey(t))throw new J(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ES(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(t);throw new J(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tc(t,e){if(!ES(t))throw new J(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new J(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=-62135596800,mw=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mw);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pw)throw new J(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mw}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tc(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:et("string",Ce._jsonSchemaVersion),seconds:et("number"),nanoseconds:et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new Ce(0,0))}static max(){return new de(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function H4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new Qs(s,ie.empty(),e)}function q4(t){return new Qs(t.readTime,t.key,nc)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(de.min(),ie.empty(),nc)}static max(){return new Qs(de.max(),ie.empty(),nc)}}function G4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==K4)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Y4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ta(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-1;function bh(t){return t==null}function Nd(t){return t===0&&1/t==-1/0}function X4(t){return typeof t=="number"&&Number.isInteger(t)&&!Nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="";function J4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gw(e)),e=Z4(t.get(n),e);return gw(e)}function Z4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case bS:n+="";break;default:n+=i}}return n}function gw(t){return t+bS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pu(this.root,e,this.comparator,!0)}}class pu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pt.RED,this.left=s??pt.EMPTY,this.right=i??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vw(this.data.getIterator())}getIteratorFrom(e){return new vw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class vw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new ot(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new SS("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const eV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=eV.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="server_timestamp",CS="__type__",AS="__previous_value__",RS="__local_write_time__";function ly(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CS])==null?void 0:r.stringValue)===IS}function Th(t){const e=t.mapValue.fields[AS];return ly(e)?Th(e):e}function rc(t){const e=Ys(t.mapValue.fields[RS].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,r,s,i,o,a,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h}}const kd="(default)";class sc{constructor(e,n){this.projectId=e,this.database=n||kd}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===kd}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="__type__",NS="__max__",mu={mapValue:{fields:{__type__:{stringValue:NS}}}},kS="__vector__",jd="value";function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ly(t)?4:rV(t)?9007199254740991:nV(t)?10:11:le(28295,{value:t})}function yr(t,e){if(t===e)return!0;const n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rc(t).isEqual(rc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ys(s.timestampValue),a=Ys(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Xs(s.bytesValue).isEqual(Xs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ge(s.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(s.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ge(s.integerValue)===Ge(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ge(s.doubleValue),a=Ge(i.doubleValue);return o===a?Nd(o)===Nd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ia(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(yw(o)!==yw(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!yr(o[c],a[c])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function ic(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function oa(t,e){if(t===e)return 0;const n=Js(t),r=Js(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ge(i.integerValue||i.doubleValue),c=Ge(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return _w(t.timestampValue,e.timestampValue);case 4:return _w(rc(t),rc(e));case 5:return hm(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Xs(i),c=Xs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=ve(a[u],c[u]);if(h!==0)return h}return ve(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ve(Ge(i.latitude),Ge(o.latitude));return a!==0?a:ve(Ge(i.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ww(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,g,T,w;const a=i.fields||{},c=o.fields||{},u=(m=a[jd])==null?void 0:m.arrayValue,h=(g=c[jd])==null?void 0:g.arrayValue,f=ve(((T=u==null?void 0:u.values)==null?void 0:T.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return f!==0?f:ww(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===mu.mapValue&&o===mu.mapValue)return 0;if(i===mu.mapValue)return 1;if(o===mu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=hm(c[f],h[f]);if(m!==0)return m;const g=oa(a[c[f]],u[h[f]]);if(g!==0)return g}return ve(c.length,h.length)}(t.mapValue,e.mapValue);default:throw le(23264,{he:n})}}function _w(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=Ys(t),r=Ys(e),s=ve(n.seconds,r.seconds);return s!==0?s:ve(n.nanos,r.nanos)}function ww(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=oa(n[s],r[s]);if(i)return i}return ve(n.length,r.length)}function aa(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fm(n.fields[o])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function Uu(t){switch(Js(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(t);return e?16+Uu(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Uu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xi(r.fields,(i,o)=>{s+=i.length+Uu(o)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function xw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pm(t){return!!t&&"integerValue"in t}function cy(t){return!!t&&"arrayValue"in t}function Ew(t){return!!t&&"nullValue"in t}function bw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $u(t){return!!t&&"mapValue"in t}function nV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PS])==null?void 0:r.stringValue)===kS}function Sl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return{...t}}function rV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$u(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Sl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());$u(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];$u(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new gn(Sl(this.value))}}function jS(t){const e=[];return Xi(t.fields,(n,r)=>{const s=new mt([n]);if($u(r)){const i=jS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,de.min(),de.min(),de.min(),gn.empty(),0)}static newFoundDocument(e,n,r,s){return new It(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new It(e,2,n,de.min(),de.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,de.min(),de.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.position=e,this.inclusive=n}}function Tw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=oa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n="asc"){this.field=e,this.dir=n}}function sV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{}class Ze extends DS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oV(e,n,r):n==="array-contains"?new cV(e,r):n==="in"?new uV(e,r):n==="not-in"?new dV(e,r):n==="array-contains-any"?new hV(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aV(e,r):new lV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oa(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends DS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Bn(e,n)}matches(e){return OS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OS(t){return t.op==="and"}function LS(t){return iV(t)&&OS(t)}function iV(t){for(const e of t.filters)if(e instanceof Bn)return!1;return!0}function mm(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+aa(t.value);if(LS(t))return t.filters.map(e=>mm(e)).join(",");{const e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function MS(t,e){return t instanceof Ze?function(r,s){return s instanceof Ze&&r.op===s.op&&r.field.isEqual(s.field)&&yr(r.value,s.value)}(t,e):t instanceof Bn?function(r,s){return s instanceof Bn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&MS(o,s.filters[a]),!0):!1}(t,e):void le(19439)}function VS(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${aa(n.value)}`}(t):t instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(VS).join(" ,")+"}"}(t):"Filter"}class oV extends Ze{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class aV extends Ze{constructor(e,n){super(e,"in",n),this.keys=FS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lV extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=FS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class cV extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cy(n)&&ic(n.arrayValue,this.value)}}class uV extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ic(this.value.arrayValue,n)}}class dV extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ic(this.value.arrayValue,n)}}class hV extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Iw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new fV(t,e,n,r,s,i,o)}function uy(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>aa(r)).join(",")),e.Te=n}return e.Te}function dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sw(t.startAt,e.startAt)&&Sw(t.endAt,e.endAt)}function gm(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pV(t,e,n,r,s,i,o,a){return new Sc(t,e,n,r,s,i,o,a)}function Sh(t){return new Sc(t)}function Cw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function US(t){return t.collectionGroup!==null}function Il(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Od(i,r))}),n.has(mt.keyField().canonicalString())||e.Ie.push(new Od(mt.keyField(),r))}return e.Ie}function hr(t){const e=he(t);return e.Ee||(e.Ee=mV(e,Il(t))),e.Ee}function mV(t,e){if(t.limitType==="F")return Iw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Od(s.field,i)});const n=t.endAt?new Dd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dd(t.startAt.position,t.startAt.inclusive):null;return Iw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ym(t,e){const n=t.filters.concat([e]);return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vm(t,e,n){return new Sc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return dy(hr(t),hr(e))&&t.limitType===e.limitType}function $S(t){return`${uy(hr(t))}|lt:${t.limitType}`}function lo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>VS(s)).join(", ")}]`),bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>aa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>aa(s)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function Ch(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Il(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=Tw(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Il(r),s)||r.endAt&&!function(o,a,c){const u=Tw(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Il(r),s))}(t,e)}function gV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BS(t){return(e,n)=>{let r=!1;for(const s of Il(t)){const i=yV(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function yV(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?oa(c,u):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return TS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=new Ue(ie.comparator);function Hr(){return vV}const zS=new Ue(ie.comparator);function cl(...t){let e=zS;for(const n of t)e=e.insert(n.key,n);return e}function WS(t){let e=zS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return Cl()}function HS(){return Cl()}function Cl(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const _V=new Ue(ie.comparator),wV=new ot(ie.comparator);function _e(...t){let e=wV;for(const n of t)e=e.add(n);return e}const xV=new ot(ve);function EV(){return xV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function qS(t){return{integerValue:""+t}}function bV(t,e){return X4(e)?qS(e):hy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function TV(t,e,n){return t instanceof oc?function(s,i){const o={fields:{[CS]:{stringValue:IS},[RS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ly(i)&&(i=Th(i)),i&&(o.fields[AS]=i),{mapValue:o}}(n,e):t instanceof ac?KS(t,e):t instanceof lc?QS(t,e):function(s,i){const o=GS(s,i),a=Aw(o)+Aw(s.Ae);return pm(o)&&pm(s.Ae)?qS(a):hy(s.serializer,a)}(t,e)}function SV(t,e,n){return t instanceof ac?KS(t,e):t instanceof lc?QS(t,e):n}function GS(t,e){return t instanceof Ld?function(r){return pm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class oc extends Ah{}class ac extends Ah{constructor(e){super(),this.elements=e}}function KS(t,e){const n=YS(e);for(const r of t.elements)n.some(s=>yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class lc extends Ah{constructor(e){super(),this.elements=e}}function QS(t,e){let n=YS(e);for(const r of t.elements)n=n.filter(s=>!yr(s,r));return{arrayValue:{values:n}}}class Ld extends Ah{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Aw(t){return Ge(t.integerValue||t.doubleValue)}function YS(t){return cy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.field=e,this.transform=n}}function CV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ac&&s instanceof ac||r instanceof lc&&s instanceof lc?ia(r.elements,s.elements,yr):r instanceof Ld&&s instanceof Ld?yr(r.Ae,s.Ae):r instanceof oc&&s instanceof oc}(t.transform,e.transform)}class AV{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function XS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fy(t.key,Ln.none()):new Ic(t.key,t.data,Ln.none());{const n=t.data,r=gn.empty();let s=new ot(mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Zi(t.key,r,new jn(s.toArray()),Ln.none())}}function RV(t,e,n){t instanceof Ic?function(s,i,o){const a=s.value.clone(),c=Pw(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(s,i,o){if(!Bu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Pw(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(JS(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Al(t,e,n,r){return t instanceof Ic?function(i,o,a,c){if(!Bu(i.precondition,o))return a;const u=i.value.clone(),h=Nw(i.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(i,o,a,c){if(!Bu(i.precondition,o))return a;const u=Nw(i.fieldTransforms,c,o),h=o.data;return h.setAll(JS(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Bu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function PV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=GS(r.transform,s||null);i!=null&&(n===null&&(n=gn.empty()),n.set(r.field,i))}return n||null}function Rw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ia(r,s,(i,o)=>CV(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ic extends Rh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zi extends Rh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Pw(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,SV(o,a,n[s]))}return r}function Nw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,TV(i,o,e))}return r}class fy extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NV extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&RV(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=XS(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(n,r)=>Rw(n,r))&&ia(this.baseMutations,e.baseMutations,(n,r)=>Rw(n,r))}}class py{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return _V}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new py(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,we;function OV(t){switch(t){case W.OK:return le(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function ZS(t){if(t===void 0)return Wr("GRPC error has no .code"),W.UNKNOWN;switch(t){case Xe.OK:return W.OK;case Xe.CANCELLED:return W.CANCELLED;case Xe.UNKNOWN:return W.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return W.INTERNAL;case Xe.UNAVAILABLE:return W.UNAVAILABLE;case Xe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Xe.NOT_FOUND:return W.NOT_FOUND;case Xe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Xe.ABORTED:return W.ABORTED;case Xe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Xe.DATA_LOSS:return W.DATA_LOSS;default:return le(39323,{code:t})}}(we=Xe||(Xe={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=new Fs([4294967295,4294967295],0);function kw(t){const e=LV().encode(t),n=new fS;return n.update(e),new Uint8Array(n.digest())}function jw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fs([n,r],0),new Fs([s,i],0)]}class my{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ul(`Invalid padding: ${n}`);if(r<0)throw new ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ul(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Fs.fromNumber(r)));return s.compare(MV)===1&&(s=new Fs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kw(e),[r,s]=jw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new my(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=kw(e),[r,s]=jw(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(de.min(),s,new Ue(ve),Hr(),_e())}}class Cc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cc(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class eI{constructor(e,n){this.targetId=e,this.Ce=n}}class tI{constructor(e,n,r=vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Dw{constructor(){this.ve=0,this.Fe=Ow(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_e(),n=_e(),r=_e();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le(38017,{changeType:i})}}),new Cc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ow()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hr(),this.Je=gu(),this.He=gu(),this.Ye=new Ue(ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(gm(i))if(r===0){const o=new ie(i.path);this.et(n,o,It.newNoDocument(o,de.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Xs(r).toUint8Array()}catch(c){if(c instanceof SS)return sa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new my(o,s,i)}catch(c){return sa(c instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&gm(a.target)){const c=new ie(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,It.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=_e();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ph(e,n,this.Ye,this.je,r);return this.je=Hr(),this.Je=gu(),this.He=gu(),this.Ye=new Ue(ve),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Dw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ot(ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ot(ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Dw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gu(){return new Ue(ie.comparator)}function Ow(){return new Ue(ie.comparator)}const FV={asc:"ASCENDING",desc:"DESCENDING"},UV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$V={and:"AND",or:"OR"};class BV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _m(t,e){return t.useProto3Json||bh(e)?e:{value:e}}function Md(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zV(t,e){return Md(t,e.toTimestamp())}function fr(t){return Te(!!t,49232),de.fromTimestamp(function(n){const r=Ys(n);return new Ce(r.seconds,r.nanos)}(t))}function gy(t,e){return wm(t,e).canonicalString()}function wm(t,e){const n=function(s){return new Re(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rI(t){const e=Re.fromString(t);return Te(lI(e),10190,{key:e.toString()}),e}function xm(t,e){return gy(t.databaseId,e.path)}function zf(t,e){const n=rI(e);if(n.get(1)!==t.databaseId.projectId)throw new J(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(iI(n))}function sI(t,e){return gy(t.databaseId,e)}function WV(t){const e=rI(t);return e.length===4?Re.emptyPath():iI(e)}function Em(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iI(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Lw(t,e,n){return{name:xm(t,e),fields:n.value.mapValue.fields}}function HV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Te(h===void 0||typeof h=="string",58123),vt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?W.UNKNOWN:ZS(u.code);return new J(h,u.message||"")}(o);n=new tI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zf(t,r.document.name),i=fr(r.document.updateTime),o=r.document.createTime?fr(r.document.createTime):de.min(),a=new gn({mapValue:{fields:r.document.fields}}),c=It.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new zu(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zf(t,r.document),i=r.readTime?fr(r.readTime):de.min(),o=It.newNoDocument(s,i),a=r.removedTargetIds||[];n=new zu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zf(t,r.document),i=r.removedTargetIds||[];n=new zu([],i,s,null)}else{if(!("filter"in e))return le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new DV(s,i),a=r.targetId;n=new eI(a,o)}}return n}function qV(t,e){let n;if(e instanceof Ic)n={update:Lw(t,e.key,e.value)};else if(e instanceof fy)n={delete:xm(t,e.key)};else if(e instanceof Zi)n={update:Lw(t,e.key,e.data),updateMask:tF(e.fieldMask)};else{if(!(e instanceof NV))return le(16599,{Vt:e.type});n={verify:xm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ld)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw le(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:zV(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)}(t,e.precondition)),n}function GV(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?fr(s.updateTime):fr(i);return o.isEqual(de.min())&&(o=fr(i)),new AV(o,s.transformResults||[])}(n,e))):[]}function KV(t,e){return{documents:[sI(t,e.path)]}}function QV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sI(t,s);const i=function(u){if(u.length!==0)return aI(Bn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:co(m.field),direction:JV(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=_m(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function YV(t){let e=WV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=oI(f);return m instanceof Bn&&LS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(T){return new Od(uo(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,bh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new Dd(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new Dd(g,m)}(n.endAt)),pV(e,s,o,i,a,"F",c,u)}function XV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uo(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=uo(n.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=uo(n.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uo(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(uo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(r=>oI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function JV(t){return FV[t]}function ZV(t){return UV[t]}function eF(t){return $V[t]}function co(t){return{fieldPath:t.canonicalString()}}function uo(t){return mt.fromServerFormat(t.fieldPath)}function aI(t){return t instanceof Ze?function(n){if(n.op==="=="){if(bw(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(Ew(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bw(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(Ew(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:ZV(n.op),value:n.value}}}(t):t instanceof Bn?function(n){const r=n.getFilters().map(s=>aI(s));return r.length===1?r[0]:{compositeFilter:{op:eF(n.op),filters:r}}}(t):le(54877,{filter:t})}function tF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,s,i=de.min(),o=de.min(),a=vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.yt=e}}function rF(t){const e=YV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.Cn=new iF}addToCollectionParentIndex(e,n){return this.Cn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Qs.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class iF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ot(Re.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ot(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cI=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(cI,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new la(0)}static cr(){return new la(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="LruGarbageCollector",oF=1048576;function Fw([t,e],[n,r]){const s=ve(t,n);return s===0?ve(e,r):s}class aF{constructor(e){this.Ir=e,this.buffer=new ot(Fw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Fw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(Vw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ta(n)?Z(Vw,"Ignoring IndexedDB error during garbage collection: ",n):await ba(n)}await this.Vr(3e5)})}}class cF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Eh.ce);const r=new aF(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(Mw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ao()<=ye.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function uF(t,e){return new cF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Al(r.mutation,s,jn.empty(),Ce.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const s=Ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=cl();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Hr();const o=Cl(),a=function(){return Cl()}();return n.forEach((c,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Zi)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Al(h.mutation,u,h.mutation.getFieldMask(),Ce.now())):o.set(u.key,jn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new hF(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Cl();let s=new Ue((o,a)=>o-a),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||jn.empty();h=a.applyToLocalView(u,h),r.set(c,h);const f=(s.get(a.batchId)||_e()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,f=HS();h.forEach(m=>{if(!i.has(m)){const g=XS(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):US(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Ei());let a=nc,c=i;return o.next(u=>H.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,_e())).next(h=>({batchId:a,changes:WS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=cl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=cl();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,c=>{const u=function(f,m){return new Sc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,It.newInvalidDocument(h)))});let a=cl();return o.forEach((c,u)=>{const h=i.get(c);h!==void 0&&Al(h.mutation,u,jn.empty(),Ce.now()),Ch(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return H.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:fr(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:rF(s.bundledQuery),readTime:fr(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(){this.overlays=new Ue(ie.comparator),this.qr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Ei(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Ei(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ei(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return H.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jV(n,r));let i=this.qr.get(n);i===void 0&&(i=_e(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.Qr=new ot(ut.$r),this.Ur=new ot(ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ut(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ie(new Re([])),r=new ut(n,e),s=new ut(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ie(new Re([])),r=new ut(n,e),s=new ut(n,e+1);let i=_e();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ie.comparator(e.key,n.key)||ve(e.Yr,n.Yr)}static Kr(e,n){return ve(e.Yr,n.Yr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ot(ut.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kV(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new ut(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?ay:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),s=new ut(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(ve);return n.forEach(s=>{const i=new ut(s,0),o=new ut(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),H.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new ut(new ie(i),0);let a=new ot(ve);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Yr)),!0)},o),H.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return H.forEach(n.mutations,s=>{const i=new ut(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ut(n,0),s=this.Zr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.ri=e,this.docs=function(){return new Ue(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():It.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hr();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||G4(q4(h),r)<=0||(s.has(h.key)||Ch(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le(9500)}ii(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _F(this)}getSize(e){return H.resolve(this.size)}}class _F extends dF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.persistence=e,this.si=new Ji(n=>uy(n),dy),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.oi=0,this._i=new yy,this.targetCount=0,this.ai=la.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),H.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new la(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Pr(n),H.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new gF,this.referenceDelegate=e(this),this.Pi=new wF(this),this.indexManager=new sF,this.remoteDocumentCache=function(s){return new vF(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new nF(n),this.Ii=new pF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new yF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new xF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return H.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class xF extends Q4{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Ri=new yy,this.Vi=null}static mi(e){return new vy(e)}get fi(){if(this.Vi)return this.Vi;throw le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,r=>{const s=ie.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,de.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vd{constructor(e,n){this.persistence=e,this.pi=new Ji(r=>J4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=uF(this,n)}static mi(e,n){return new Vd(e,n)}Ei(){}di(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return H.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,de.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),H.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uu(e.data.value)),n}br(e,n,r){return H.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=_e(),s=_e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new _y(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return nO()?8:Y4(At())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new EF;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ao()<=ye.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(ao()<=ye.DEBUG&&Z("QueryEngine","Query:",lo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ao()<=ye.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):H.resolve())}ys(e,n){if(Cw(n))return H.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=vm(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=_e(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,vm(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return Cw(n)||s.isEqual(de.min())?H.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?H.resolve(null):(ao()<=ye.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),lo(n)),this.vs(e,o,n,H4(s,nc)).next(a=>a))})}Ds(e,n){let r=new ot(BS(e));return n.forEach((s,i)=>{Ch(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ao()<=ye.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,Qs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="LocalStore",TF=3e8;class SF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ue(ve),this.xs=new Ji(i=>uy(i),dy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function IF(t,e,n,r){return new SF(t,e,n,r)}async function dI(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=_e();for(const u of s){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function CF(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const f=u.batch,m=f.keys();let g=H.resolve();return m.forEach(T=>{g=g.next(()=>h.getEntry(c,T)).next(w=>{const x=u.docVersions.get(T);Te(x!==null,48541),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function hI(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function AF(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(vt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(w,x,_){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=TF?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,g,h)&&a.push(n.Pi.updateTargetData(i,g))});let c=Hr(),u=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(RF(i,o,e.documentUpdates).next(h=>{c=h.ks,u=h.qs})),!r.isEqual(de.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function RF(t,e,n){let r=_e(),s=_e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Hr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(de.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Z(wy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function PF(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ay),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NF(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function bm(t,e,n){const r=he(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ta(o))throw o;Z(wy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Uw(t,e,n){const r=he(t);let s=de.min(),i=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=he(c),m=f.xs.get(h);return m!==void 0?H.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,h)}(r,o,hr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:de.min(),n?i:_e())).next(a=>(kF(r,gV(e),a),{documents:a,Qs:i})))}function kF(t,e,n){let r=t.Os.get(e)||de.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class $w{constructor(){this.activeTargetIds=EV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jF{constructor(){this.Mo=new $w,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="ConnectivityMonitor";class zw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(Bw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(Bw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu=null;function Tm(){return yu===null?yu=function(){return 268435456+Math.round(2147483648*Math.random())}():yu++,"0x"+yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="RestConnection",OF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===kd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Tm(),a=this.zo(e,n.toUriEncodedString());Z(Wf,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(a),h=oi(u);return this.Jo(e,a,c,r,h).then(f=>(Z(Wf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw sa(Wf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=OF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class VF extends LF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Tm();return new Promise((a,c)=>{const u=new pS;u.setWithCredentials(!0),u.listenOnce(mS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Fu.NO_ERROR:const f=u.getResponseJson();Z(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Fu.TIMEOUT:Z(Et,`RPC '${e}' ${o} timed out`),c(new J(W.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const m=u.getStatus();if(Z(Et,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const w=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(v)>=0?v:W.UNKNOWN}(T.status);c(new J(w,T.message))}else c(new J(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new J(W.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Z(Et,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(Et,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Tm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vS(),a=yS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Z(Et,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);this.I_(f);let m=!1,g=!1;const T=new MF({Yo:x=>{g?Z(Et,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(Z(Et,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Z(Et,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Zo:()=>f.close()}),w=(x,_,v)=>{x.listen(_,E=>{try{v(E)}catch(k){setTimeout(()=>{throw k},0)}})};return w(f,ll.EventType.OPEN,()=>{g||(Z(Et,`RPC '${e}' stream ${s} transport opened.`),T.o_())}),w(f,ll.EventType.CLOSE,()=>{g||(g=!0,Z(Et,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(f))}),w(f,ll.EventType.ERROR,x=>{g||(g=!0,sa(Et,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),T.a_(new J(W.UNAVAILABLE,"The operation could not be completed")))}),w(f,ll.EventType.MESSAGE,x=>{var _;if(!g){const v=x.data[0];Te(!!v,16349);const E=v,k=(E==null?void 0:E.error)||((_=E[0])==null?void 0:_.error);if(k){Z(Et,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let O=function(A){const R=Xe[A];if(R!==void 0)return ZS(R)}(D),S=k.message;O===void 0&&(O=W.INTERNAL,S="Unknown error status: "+D+" with message "+k.message),g=!0,T.a_(new J(O,S)),f.close()}else Z(Et,`RPC '${e}' stream ${s} received:`,v),T.u_(v)}}),w(a,gS.STAT_EVENT,x=>{x.stat===dm.PROXY?Z(Et,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===dm.NOPROXY&&Z(Et,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){return new BV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="PersistentStream";class pI{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new J(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(Ww,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(Ww,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FF extends pI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HV(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?fr(o.readTime):de.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Em(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=gm(c)?{documents:KV(i,c)}:{query:QV(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nI(i,o.resumeToken);const u=_m(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=Md(i,o.snapshotVersion.toTimestamp());const u=_m(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=XV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Em(this.serializer),n.removeTarget=e,this.q_(n)}}class UF extends pI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GV(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Em(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{}class BF extends $F{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,wm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(W.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,wm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(W.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class zF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wr(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="RemoteStore";class WF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{eo(this)&&(Z(Wi,"Restarting streams for network reachability change."),await async function(c){const u=he(c);u.Ea.add(4),await Ac(u),u.Ra.set("Unknown"),u.Ea.delete(4),await kh(u)}(this))})}),this.Ra=new zF(r,s)}}async function kh(t){if(eo(t))for(const e of t.da)await e(!0)}async function Ac(t){for(const e of t.da)await e(!1)}function mI(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ty(n)?by(n):Sa(n).O_()&&Ey(n,e))}function xy(t,e){const n=he(t),r=Sa(n);n.Ia.delete(e),r.O_()&&gI(n,e),n.Ia.size===0&&(r.O_()?r.L_():eo(n)&&n.Ra.set("Unknown"))}function Ey(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sa(t).Y_(e)}function gI(t,e){t.Va.Ue(e),Sa(t).Z_(e)}function by(t){t.Va=new VV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Sa(t).start(),t.Ra.ua()}function Ty(t){return eo(t)&&!Sa(t).x_()&&t.Ia.size>0}function eo(t){return he(t).Ea.size===0}function yI(t){t.Va=void 0}async function HF(t){t.Ra.set("Online")}async function qF(t){t.Ia.forEach((e,n)=>{Ey(t,e)})}async function GF(t,e){yI(t),Ty(t)?(t.Ra.ha(e),by(t)):t.Ra.set("Unknown")}async function KF(t,e,n){if(t.Ra.set("Online"),e instanceof tI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Z(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fd(t,r)}else if(e instanceof zu?t.Va.Ze(e):e instanceof eI?t.Va.st(e):t.Va.tt(e),!n.isEqual(de.min()))try{const r=await hI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),gI(i,c);const f=new Is(h.target,c,u,h.sequenceNumber);Ey(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(Wi,"Failed to raise snapshot:",r),await Fd(t,r)}}async function Fd(t,e,n){if(!Ta(e))throw e;t.Ea.add(1),await Ac(t),t.Ra.set("Offline"),n||(n=()=>hI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(Wi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await kh(t)})}function vI(t,e){return e().catch(n=>Fd(t,n,e))}async function jh(t){const e=he(t),n=Zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ay;for(;QF(e);)try{const s=await PF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,YF(e,s)}catch(s){await Fd(e,s)}_I(e)&&wI(e)}function QF(t){return eo(t)&&t.Ta.length<10}function YF(t,e){t.Ta.push(e);const n=Zs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _I(t){return eo(t)&&!Zs(t).x_()&&t.Ta.length>0}function wI(t){Zs(t).start()}async function XF(t){Zs(t).ra()}async function JF(t){const e=Zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function ZF(t,e,n){const r=t.Ta.shift(),s=py.from(r,e,n);await vI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await jh(t)}async function e6(t,e){e&&Zs(t).X_&&await async function(r,s){if(function(o){return OV(o)&&o!==W.ABORTED}(s.code)){const i=r.Ta.shift();Zs(r).B_(),await vI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await jh(r)}}(t,e),_I(t)&&wI(t)}async function Hw(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Z(Wi,"RemoteStore received new credentials");const r=eo(n);n.Ea.add(3),await Ac(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kh(n)}async function t6(t,e){const n=he(t);e?(n.Ea.delete(2),await kh(n)):e||(n.Ea.add(2),await Ac(n),n.Ra.set("Unknown"))}function Sa(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.sa(),new FF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:HF.bind(null,t),t_:qF.bind(null,t),r_:GF.bind(null,t),H_:KF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ty(t)?by(t):t.Ra.set("Unknown")):(await t.ma.stop(),yI(t))})),t.ma}function Zs(t){return t.fa||(t.fa=function(n,r,s){const i=he(n);return i.sa(),new UF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:XF.bind(null,t),r_:e6.bind(null,t),ta:JF.bind(null,t),na:ZF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await jh(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(Wi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Sy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),Ta(t))return new J(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=cl(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.ga=new Ue(ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ca{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ca(e,n,Mo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class r6{constructor(){this.queries=Gw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=Gw(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new J(W.ABORTED,"Firestore shutting down"))}}function Gw(){return new Ji(t=>$S(t),Ih)}async function xI(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new n6,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Iy(o,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Cy(n)}async function EI(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function s6(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Cy(n)}function i6(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Cy(t){t.Ca.forEach(e=>{e.next()})}var Sm,Kw;(Kw=Sm||(Sm={})).Ma="default",Kw.Cache="cache";class bI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.key=e}}class SI{constructor(e){this.key=e}}class o6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_e(),this.mutatedKeys=_e(),this.eu=BS(e),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qw,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),g=Ch(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;m&&g?m.data.isEqual(g.data)?T!==w&&(r.track({type:3,doc:g}),x=!0):this.su(m,g)||(r.track({type:2,doc:g}),x=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),x=!0):m&&!g&&(r.track({type:1,doc:m}),x=!0,(c||u)&&(a=!0)),x&&(g?(o=o.add(g),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,T){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Rt:x})}};return w(g)-w(T)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new ca(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_e(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new SI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new TI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=_e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ay="SyncEngine";class a6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class l6{constructor(e){this.key=e,this.hu=!1}}class c6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ji(a=>$S(a),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(ie.comparator),this.Au=new Map,this.Ru=new yy,this.Vu={},this.mu=new Map,this.fu=la.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function u6(t,e,n=!0){const r=NI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await II(r,e,n,!0),s}async function d6(t,e){const n=NI(t);await II(n,e,!0,!1)}async function II(t,e,n,r){const s=await NF(t.localStore,hr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await h6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&mI(t.remoteStore,s),a}async function h6(t,e,n,r,s){t.pu=(f,m,g)=>async function(w,x,_,v){let E=x.view.ru(_);E.Cs&&(E=await Uw(w.localStore,x.query,!1).then(({documents:S})=>x.view.ru(S,E)));const k=v&&v.targetChanges.get(x.targetId),D=v&&v.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(E,w.isPrimaryClient,k,D);return Yw(w,x.targetId,O.au),O.snapshot}(t,f,m,g);const i=await Uw(t.localStore,e,!0),o=new o6(e,i.Qs),a=o.ru(i.documents),c=Cc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);Yw(t,n,u.au);const h=new a6(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function f6(t,e,n){const r=he(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Ih(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await bm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&xy(r.remoteStore,s.targetId),Im(r,s.targetId)}).catch(ba)):(Im(r,s.targetId),await bm(r.localStore,s.targetId,!0))}async function p6(t,e){const n=he(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xy(n.remoteStore,r.targetId))}async function m6(t,e,n){const r=E6(t);try{const s=await function(o,a){const c=he(o),u=Ce.now(),h=a.reduce((g,T)=>g.add(T.key),_e());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let T=Hr(),w=_e();return c.Ns.getEntries(g,h).next(x=>{T=x,T.forEach((_,v)=>{v.isValidDocument()||(w=w.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,T)).next(x=>{f=x;const _=[];for(const v of a){const E=PV(v,f.get(v.key).overlayedDocument);E!=null&&_.push(new Zi(v.key,E,jS(E.value.mapValue),Ln.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,_,a)}).next(x=>{m=x;const _=x.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(g,x.batchId,_)})}).then(()=>({batchId:m.batchId,changes:WS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ue(ve)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Rc(r,s.changes),await jh(r.remoteStore)}catch(s){const i=Iy(s,"Failed to persist write");n.reject(i)}}async function CI(t,e){const n=he(t);try{const r=await AF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Te(o.hu,14607):s.removedDocuments.size>0&&(Te(o.hu,42227),o.hu=!1))}),await Rc(n,r,e)}catch(r){await ba(r)}}function Qw(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=he(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(u=!0)}),u&&Cy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function g6(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ue(ie.comparator);o=o.insert(i,It.newNoDocument(i,de.min()));const a=_e().add(i),c=new Ph(de.min(),new Map,new Ue(ve),o,a);await CI(r,c),r.du=r.du.remove(i),r.Au.delete(e),Ry(r)}else await bm(r.localStore,e,!1).then(()=>Im(r,e,n)).catch(ba)}async function y6(t,e){const n=he(t),r=e.batch.batchId;try{const s=await CF(n.localStore,e);RI(n,r,null),AI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rc(n,s)}catch(s){await ba(s)}}async function v6(t,e,n){const r=he(t);try{const s=await function(o,a){const c=he(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Te(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);RI(r,e,n),AI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rc(r,s)}catch(s){await ba(s)}}function AI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function RI(t,e,n){const r=he(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Im(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||PI(t,r)})}function PI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(xy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ry(t))}function Yw(t,e,n){for(const r of n)r instanceof TI?(t.Ru.addReference(r.key,e),_6(t,r)):r instanceof SI?(Z(Ay,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||PI(t,r.key)):le(19791,{wu:r})}function _6(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(Ay,"New document in limbo: "+n),t.Eu.add(r),Ry(t))}function Ry(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie(Re.fromString(e)),r=t.fu.next();t.Au.set(r,new l6(n)),t.du=t.du.insert(n,r),mI(t.remoteStore,new Is(hr(Sh(n.path)),r,"TargetPurposeLimboResolution",Eh.ce))}}async function Rc(t,e,n){const r=he(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=_y.As(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const h=he(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(u,m=>H.forEach(m.Es,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>H.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Ta(f))throw f;Z(wy,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=h.Ms.get(m),T=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(m,w)}}}(r.localStore,i))}async function w6(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Z(Ay,"User change. New user:",e.toKey());const r=await dI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new J(W.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rc(n,r.Ls)}}function x6(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return _e().add(r.key);{let s=_e();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function NI(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g6.bind(null,e),e.Pu.H_=s6.bind(null,e.eventManager),e.Pu.yu=i6.bind(null,e.eventManager),e}function E6(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v6.bind(null,e),e}class Ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IF(this.persistence,new bF,e.initialUser,this.serializer)}Cu(e){return new uI(vy.mi,this.serializer)}Du(e){return new jF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ud.provider={build:()=>new Ud};class b6 extends Ud{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof Vd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new uI(r=>Vd.mi(r,n),this.serializer)}}class Cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w6.bind(null,this.syncEngine),await t6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r6}()}createDatastore(e){const n=Nh(e.databaseInfo.databaseId),r=function(i){return new VF(i)}(e.databaseInfo);return function(i,o,a,c){return new BF(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new WF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Qw(this.syncEngine,n,0),function(){return zw.v()?new zw:new DF}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,h){const f=new c6(s,i,o,a,c,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);Z(Wi,"RemoteStore shutting down."),i.Ea.add(5),await Ac(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Cm.provider={build:()=>new Cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="FirestoreClient";class T6{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tt.UNAUTHENTICATED,this.clientId=oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(ei,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(ei,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Iy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qf(t,e){t.asyncQueue.verifyOperationInProgress(),Z(ei,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await dI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S6(t);Z(ei,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Hw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Hw(e.remoteStore,s)),t._onlineComponents=e}async function S6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(ei,"Using user provided OfflineComponentProvider");try{await qf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;sa("Error using user provided cache. Falling back to memory cache: "+n),await qf(t,new Ud)}}else Z(ei,"Using default OfflineComponentProvider"),await qf(t,new b6(void 0));return t._offlineComponents}async function jI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(ei,"Using user provided OnlineComponentProvider"),await Xw(t,t._uninitializedComponentsProvider._online)):(Z(ei,"Using default OnlineComponentProvider"),await Xw(t,new Cm))),t._onlineComponents}function I6(t){return jI(t).then(e=>e.syncEngine)}async function Am(t){const e=await jI(t),n=e.eventManager;return n.onListen=u6.bind(null,e.syncEngine),n.onUnlisten=f6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p6.bind(null,e.syncEngine),n}function C6(t,e,n={}){const r=new Us;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const h=new kI({next:m=>{h.Nu(),o.enqueueAndForget(()=>EI(i,f));const g=m.docs.has(a);!g&&m.fromCache?u.reject(new J(W.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new J(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new bI(Sh(a.path),h,{includeMetadataChanges:!0,qa:!0});return xI(i,f)}(await Am(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="firestore.googleapis.com",Zw=!0;class ex{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OI,this.ssl=Zw}else this.host=e.host,this.ssl=e.ssl??Zw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oF)throw new J(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ex({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ex(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D4;switch(r.type){case"firstParty":return new V4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Jw.get(n);r&&(Z("ComponentProvider","Removing Datastore"),Jw.delete(n),r.terminate())}(this),Promise.resolve()}}function A6(t,e,n,r={}){var u;t=dr(t,Dh);const s=oi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(qg(`https://${a}`),Gg("Firestore",!0)),i.host!==OI&&i.host!==a&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Ui(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Tt.MOCK_USER;else{h=CT(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new J(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Tt(m)}t._authCredentials=new O4(new wS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class Qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qe(this.firestore,e,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tc(n,Qe._jsonSchema))return new Qe(e,r||null,new ie(Re.fromString(n.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:et("string",Qe._jsonSchemaVersion),referencePath:et("string")};class $s extends Ia{constructor(e,n,r){super(e,n,Sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new ie(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function tx(t,e,...n){if(t=We(t),xS("collection","path",e),t instanceof Dh){const r=Re.fromString(e,...n);return fw(r),new $s(t,null,r)}{if(!(t instanceof Qe||t instanceof $s))throw new J(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return fw(r),new $s(t.firestore,null,r)}}function ua(t,e,...n){if(t=We(t),arguments.length===1&&(e=oy.newId()),xS("doc","path",e),t instanceof Dh){const r=Re.fromString(e,...n);return hw(r),new Qe(t,null,new ie(r))}{if(!(t instanceof Qe||t instanceof $s))throw new J(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return hw(r),new Qe(t.firestore,t instanceof $s?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="AsyncQueue";class rx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fI(this,"async_queue_retry"),this._c=()=>{const r=Hf();r&&Z(nx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Us;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ta(e))throw e;Z(nx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Wr("INTERNAL UNHANDLED ERROR: ",sx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Sy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&le(47125,{Pc:sx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Hi extends Dh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new rx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rx(e),this._firestoreClient=void 0,await e}}}function R6(t,e){const n=typeof t=="object"?t:Yg(),r=typeof t=="string"?t:kd,s=gh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=TT("firestore");i&&A6(s,...i)}return s}function Py(t){if(t._terminated)throw new J(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P6(t),t._firestoreClient}function P6(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,u,h){return new tV(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DI(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new T6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yn(vt.fromBase64String(e))}catch(n){throw new J(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yn(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tc(e,yn._jsonSchema))return yn.fromBase64String(e.bytes)}}yn._jsonSchemaVersion="firestore/bytes/1.0",yn._jsonSchema={type:et("string",yn._jsonSchemaVersion),bytes:et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(Tc(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:et("string",pr._jsonSchemaVersion),latitude:et("number"),longitude:et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tc(e,mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new mr(e.vectorValues);throw new J(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:et("string",mr._jsonSchemaVersion),vectorValues:et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=/^__.*__$/;class k6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ic(e,this.data,n,this.fieldTransforms)}}function LI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ac:t})}}class jy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $d(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LI(this.Ac)&&N6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class j6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nh(e)}Cc(e,n,r,s=!1){return new jy({Ac:e,methodName:n,Dc:r,path:mt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dy(t){const e=t._freezeSettings(),n=Nh(t._databaseId);return new j6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MI(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);UI("Data must be an object, but it was:",o,r);const a=VI(r,o);let c,u;if(i.merge)c=new jn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=O6(e,f,n);if(!o.contains(m))throw new J(W.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);M6(h,m)||h.push(m)}c=new jn(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new k6(new gn(a),c,u)}class Oy extends ky{_toFieldTransform(e){return new IV(e.path,new oc)}isEqual(e){return e instanceof Oy}}function D6(t,e,n,r=!1){return Ly(n,t.Cc(r?4:3,e))}function Ly(t,e){if(FI(t=We(t)))return UI("Unsupported field value:",e,t),VI(t,e);if(t instanceof ky)return function(r,s){if(!LI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Ly(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ce.fromDate(r);return{timestampValue:Md(s.serializer,i)}}if(r instanceof Ce){const i=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Md(s.serializer,i)}}if(r instanceof pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yn)return{bytesValue:nI(s.serializer,r._byteString)};if(r instanceof Qe){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof mr)return function(o,a){return{mapValue:{fields:{[PS]:{stringValue:kS},[jd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return hy(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${xh(r)}`)}(t,e)}function VI(t,e){const n={};return TS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(t,(r,s)=>{const i=Ly(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function FI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof pr||t instanceof yn||t instanceof Qe||t instanceof ky||t instanceof mr)}function UI(t,e,n){if(!FI(n)||!ES(n)){const r=xh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function O6(t,e,n){if((e=We(e))instanceof Ny)return e._internalPath;if(typeof e=="string")return $I(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,n)}const L6=new RegExp("[~\\*/\\[\\]]");function $I(t,e,n){if(e.search(L6)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ny(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new J(W.INVALID_ARGUMENT,a+t+c)}function M6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(My("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V6 extends BI{data(){return super.data()}}function My(t,e){return typeof e=="string"?$I(t,e):e instanceof Ny?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vy{}class U6 extends Vy{}function $6(t,e,...n){let r=[];e instanceof Vy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Fy).length,a=i.filter(c=>c instanceof Oh).length;if(o>1||o>0&&a>0)throw new J(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Oh extends U6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Oh(e,n,r)}_apply(e){const n=this._parse(e);return zI(e._query,n),new Ia(e.firestore,e.converter,ym(e._query,n))}_parse(e){const n=Dy(e.firestore);return function(i,o,a,c,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ax(f,h);const T=[];for(const w of f)T.push(ox(c,i,w));m={arrayValue:{values:T}}}else m=ox(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ax(f,h),m=D6(a,o,f,h==="in"||h==="not-in");return Ze.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function B6(t,e,n){const r=e,s=My("where",t);return Oh._create(s,r,n)}class Fy extends Vy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)zI(o,c),o=ym(o,c)}(e._query,n),new Ia(e.firestore,e.converter,ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ox(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new J(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!US(e)&&n.indexOf("/")!==-1)throw new J(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!ie.isDocumentKey(r))throw new J(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xw(t,new ie(r))}if(n instanceof Qe)return xw(t,n._key);throw new J(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function ax(t,e){if(!Array.isArray(t)||t.length===0)throw new J(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zI(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class z6{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[jd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ge(o.doubleValue));return new mr(n)}convertGeoPoint(e){return new pr(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Th(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);Te(lI(r),9688,{name:e});const s=new sc(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||Wr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ni extends BI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(My("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ni._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ni._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ni._jsonSchema={type:et("string",Ni._jsonSchemaVersion),bundleSource:et("string","DocumentSnapshot"),bundleName:et("string"),bundle:et("string")};class Wu extends Ni{data(e={}){return super.data(e)}}class Vo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new dl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wu(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Wu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new dl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Wu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new dl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:W6(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function W6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){t=dr(t,Qe);const e=dr(t.firestore,Hi);return C6(Py(e),t._key).then(n=>qI(e,t,n))}Vo._jsonSchemaVersion="firestore/querySnapshot/1.0",Vo._jsonSchema={type:et("string",Vo._jsonSchemaVersion),bundleSource:et("string","QuerySnapshot"),bundleName:et("string"),bundle:et("string")};class HI extends z6{constructor(e){super(),this.firestore=e}convertBytes(e){return new yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}function H6(t,e,n){t=dr(t,Qe);const r=dr(t.firestore,Hi),s=WI(t.converter,e,n);return $y(r,[MI(Dy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Ln.none())])}function q6(t){return $y(dr(t.firestore,Hi),[new fy(t._key,Ln.none())])}function G6(t,e){const n=dr(t.firestore,Hi),r=ua(t),s=WI(t.converter,e);return $y(n,[MI(Dy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Ln.exists(!1))]).then(()=>r)}function K6(t,...e){var c,u,h;t=We(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ix(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ix(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,a;if(t instanceof Qe)o=dr(t.firestore,Hi),a=Sh(t._key.path),i={next:f=>{e[r]&&e[r](qI(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=dr(t,Ia);o=dr(f.firestore,Hi),a=f._query;const m=new HI(o);i={next:g=>{e[r]&&e[r](new Vo(o,m,f,g))},error:e[r+1],complete:e[r+2]},F6(t._query)}return function(m,g,T,w){const x=new kI(w),_=new bI(g,x,T);return m.asyncQueue.enqueueAndForget(async()=>xI(await Am(m),_)),()=>{x.Nu(),m.asyncQueue.enqueueAndForget(async()=>EI(await Am(m),_))}}(Py(o),a,s,i)}function $y(t,e){return function(r,s){const i=new Us;return r.asyncQueue.enqueueAndForget(async()=>m6(await I6(r),s,i)),i.promise}(Py(t),e)}function qI(t,e,n){const r=n.docs.get(e._key),s=new HI(t);return new Ni(t,s,e._key,r,new dl(n.hasPendingWrites,n.fromCache),e.converter)}function Q6(){return new Oy("serverTimestamp")}(function(e,n=!0){(function(s){Ea=s})(Qi),$i(new Ks("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Hi(new L4(r.getProvider("auth-internal")),new F4(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(u.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),lr(lw,cw,e),lr(lw,cw,"esm2020")})();var Y6="firebase",X6="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(Y6,X6,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firebasestorage.googleapis.com",KI="storageBucket",J6=2*60*1e3,Z6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe extends xr{constructor(e,n,r=0){super(Gf(e),`Firebase Storage: ${n} (${Gf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var He;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(He||(He={}));function Gf(t){return"storage/"+t}function By(){const t="An unknown error occurred, please check the error payload for server response.";return new qe(He.UNKNOWN,t)}function e3(t){return new qe(He.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function t3(t){return new qe(He.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function n3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qe(He.UNAUTHENTICATED,t)}function r3(){return new qe(He.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function s3(t){return new qe(He.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function i3(){return new qe(He.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function o3(){return new qe(He.CANCELED,"User canceled the upload/download.")}function a3(t){return new qe(He.INVALID_URL,"Invalid URL '"+t+"'.")}function l3(t){return new qe(He.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function c3(){return new qe(He.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KI+"' property when initializing the app?")}function u3(){return new qe(He.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d3(){return new qe(He.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function h3(t){return new qe(He.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rm(t){return new qe(He.INVALID_ARGUMENT,t)}function QI(){return new qe(He.APP_DELETED,"The Firebase app was deleted.")}function f3(t){return new qe(He.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rl(t,e){return new qe(He.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function el(t){throw new qe(He.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=tn.makeFromUrl(e,n)}catch{return new tn(e,"")}if(r.path==="")return r;throw l3(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),T={bucket:1,path:3},w=n===GI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${w}/${s}/${x}`,"i"),E=[{regex:a,indices:c,postModify:i},{regex:g,indices:T,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<E.length;k++){const D=E[k],O=D.regex.exec(e);if(O){const S=O[D.indices.bucket];let b=O[D.indices.path];b||(b=""),r=new tn(S,b),D.postModify(r);break}}if(r==null)throw a3(e);return r}}class p3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let u=!1;function h(...x){u||(u=!0,e.apply(null,x))}function f(x){s=setTimeout(()=>{s=null,t(g,c())},x)}function m(){i&&clearTimeout(i)}function g(x,..._){if(u){m();return}if(x){m(),h.call(null,x,..._);return}if(c()||o){m(),h.call(null,x,..._);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let T=!1;function w(x){T||(T=!0,m(),!u&&(s!==null?(x||(a=2),clearTimeout(s),f(0)):x||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,w(!0)},n),w}function g3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){return t!==void 0}function v3(t){return typeof t=="object"&&!Array.isArray(t)}function zy(t){return typeof t=="string"||t instanceof String}function lx(t){return Wy()&&t instanceof Blob}function Wy(){return typeof Blob<"u"}function cx(t,e,n,r){if(r<e)throw Rm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Rm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function YI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ki;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ki||(ki={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r,s,i,o,a,c,u,h,f,m=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,w)=>{this.resolve_=T,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new vu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ki.NO_ERROR,c=i.getStatus();if(!a||_3(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===ki.ABORT;r(!1,new vu(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new vu(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());y3(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=By();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?QI():o3();o(c)}else{const c=i3();o(c)}};this.canceled_?n(!1,new vu(!1,null,!0)):this.backoffId_=m3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&g3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function x3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function E3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function b3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function T3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function S3(t,e,n,r,s,i,o=!0,a=!1){const c=YI(t.urlParams),u=t.url+c,h=Object.assign({},t.headers);return b3(h,e),x3(h,n),E3(h,i),T3(h,r),new w3(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function C3(...t){const e=I3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Wy())return new Blob(t);throw new qe(He.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function A3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){if(typeof atob>"u")throw h3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kf{constructor(e,n){this.data=e,this.contentType=n||null}}function P3(t,e){switch(t){case sr.RAW:return new Kf(XI(e));case sr.BASE64:case sr.BASE64URL:return new Kf(JI(t,e));case sr.DATA_URL:return new Kf(k3(e),j3(e))}throw By()}function XI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function N3(t){let e;try{e=decodeURIComponent(t)}catch{throw Rl(sr.DATA_URL,"Malformed data URL.")}return XI(e)}function JI(t,e){switch(t){case sr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Rl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case sr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Rl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=R3(e)}catch(s){throw s.message.includes("polyfill")?s:Rl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class ZI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rl(sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=D3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function k3(t){const e=new ZI(t);return e.base64?JI(sr.BASE64,e.rest):N3(e.rest)}function j3(t){return new ZI(t).contentType}function D3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){let r=0,s="";lx(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(lx(this.data_)){const r=this.data_,s=A3(r,e,n);return s===null?null:new ys(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ys(r,!0)}}static getBlob(...e){if(Wy()){const n=e.map(r=>r instanceof ys?r.data_:r);return new ys(C3.apply(null,n))}else{const n=e.map(o=>zy(o)?P3(sr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new ys(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){let e;try{e=JSON.parse(t)}catch{return null}return v3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function L3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function tC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t,e){return e}class kt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||M3}}let _u=null;function V3(t){return!zy(t)||t.length<2?t:tC(t)}function nC(){if(_u)return _u;const t=[];t.push(new kt("bucket")),t.push(new kt("generation")),t.push(new kt("metageneration")),t.push(new kt("name","fullPath",!0));function e(i,o){return V3(o)}const n=new kt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new kt("size");return s.xform=r,t.push(s),t.push(new kt("timeCreated")),t.push(new kt("updated")),t.push(new kt("md5Hash",null,!0)),t.push(new kt("cacheControl",null,!0)),t.push(new kt("contentDisposition",null,!0)),t.push(new kt("contentEncoding",null,!0)),t.push(new kt("contentLanguage",null,!0)),t.push(new kt("contentType",null,!0)),t.push(new kt("metadata","customMetadata",!0)),_u=t,_u}function F3(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new tn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function U3(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return F3(r,t),r}function rC(t,e,n){const r=eC(e);return r===null?null:U3(t,r,n)}function $3(t,e,n,r){const s=eC(e);if(s===null||!zy(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,f=t.fullPath,m="/b/"+o(h)+"/o/"+o(f),g=Lh(m,n,r),T=YI({alt:"media",token:u});return g+T})[0]}function B3(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Hy{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){if(!t)throw By()}function z3(t,e){function n(r,s){const i=rC(t,s,e);return sC(i!==null),i}return n}function W3(t,e){function n(r,s){const i=rC(t,s,e);return sC(i!==null),$3(i,s,t.host,t._protocol)}return n}function iC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=r3():s=n3():n.getStatus()===402?s=t3(t.bucket):n.getStatus()===403?s=s3(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function oC(t){const e=iC(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=e3(t.path)),i.serverResponse=s.serverResponse,i}return n}function H3(t,e,n){const r=e.fullServerUrl(),s=Lh(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Hy(s,i,W3(t,n),o);return a.errorHandler=oC(e),a}function q3(t,e){const n=e.fullServerUrl(),r=Lh(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(c,u){}const a=new Hy(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=oC(e),a}function G3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function K3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=G3(null,e)),r}function Q3(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let k=0;k<2;k++)E=E+Math.random().toString().slice(2);return E}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const u=K3(e,r,s),h=B3(u,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+c+"--",g=ys.getBlob(f,r,m);if(g===null)throw u3();const T={name:u.fullPath},w=Lh(i,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,v=new Hy(w,x,z3(t,n),_);return v.urlParams=T,v.headers=o,v.body=g.uploadData(),v.errorHandler=iC(e),v}class Y3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ki.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ki.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ki.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw el("cannot .send() more than once");if(oi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw el("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw el("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw el("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw el("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class X3 extends Y3{initXhr(){this.xhr_.responseType="text"}}function qy(){return new X3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this._service=e,n instanceof tn?this._location=n:this._location=tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qi(e,n)}get root(){const e=new tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tC(this._location.path)}get storage(){return this._service}get parent(){const e=O3(this._location.path);if(e===null)return null;const n=new tn(this._location.bucket,e);return new qi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw f3(e)}}function J3(t,e,n){t._throwIfRoot("uploadBytes");const r=Q3(t.storage,t._location,nC(),new ys(e,!0),n);return t.storage.makeRequestWithTokens(r,qy).then(s=>({metadata:s,ref:t}))}function Z3(t){t._throwIfRoot("getDownloadURL");const e=H3(t.storage,t._location,nC());return t.storage.makeRequestWithTokens(e,qy).then(n=>{if(n===null)throw d3();return n})}function eU(t){t._throwIfRoot("deleteObject");const e=q3(t.storage,t._location);return t.storage.makeRequestWithTokens(e,qy)}function tU(t,e){const n=L3(t._location.path,e),r=new tn(t._location.bucket,n);return new qi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){return/^[A-Za-z]+:\/\//.test(t)}function rU(t,e){return new qi(t,e)}function aC(t,e){if(t instanceof Gy){const n=t;if(n._bucket==null)throw c3();const r=new qi(n,n._bucket);return e!=null?aC(r,e):r}else return e!==void 0?tU(t,e):t}function sU(t,e){if(e&&nU(e)){if(t instanceof Gy)return rU(t,e);throw Rm("To use ref(service, url), the first argument must be a Storage instance.")}else return aC(t,e)}function ux(t,e){const n=e==null?void 0:e[KI];return n==null?null:tn.makeFromBucketSpec(n,t)}function iU(t,e,n,r={}){t.host=`${e}:${n}`;const s=oi(e);s&&(qg(`https://${t.host}/b`),Gg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:CT(i,t.app.options.projectId))}class Gy{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=GI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J6,this._maxUploadRetryTime=Z6,this._requests=new Set,s!=null?this._bucket=tn.makeFromBucketSpec(s,this._host):this._bucket=ux(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tn.makeFromBucketSpec(this._url,e):this._bucket=ux(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new p3(QI());{const o=S3(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const dx="@firebase/storage",hx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="storage";function oU(t,e,n){return t=We(t),J3(t,e,n)}function aU(t){return t=We(t),Z3(t)}function lU(t){return t=We(t),eU(t)}function fx(t,e){return t=We(t),sU(t,e)}function cU(t=Yg(),e){t=We(t);const r=gh(t,lC).getImmediate({identifier:e}),s=TT("storage");return s&&uU(r,...s),r}function uU(t,e,n,r={}){iU(t,e,n,r)}function dU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Gy(n,r,s,e,Qi)}function hU(){$i(new Ks(lC,dU,"PUBLIC").setMultipleInstances(!0)),lr(dx,hx,""),lr(dx,hx,"esm2020")}hU();const fU={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},Ky=PT(fU),hl=k4(Ky),px=cU(Ky),ji=R6(Ky),cC=C.createContext(void 0),uC=({children:t})=>{const[e,n]=C.useState(null),[r,s]=C.useState(null),[i,o]=C.useState(!0);C.useEffect(()=>{let u;return(async()=>{await vM(hl,sS),u=xM(hl,async f=>{if(o(!0),n(f),f)try{const m=ua(ji,"users",f.uid),g=await Uy(m);s(g.exists()?g.data():null)}catch(m){console.error("Failed to load user profile:",m),s(null)}else s(null);o(!1)})})(),()=>{u&&u()}},[]);const a=async(u,h)=>yM(hl,u,h),c=async()=>{await EM(hl),s(null),n(null)};return d.jsx(cC.Provider,{value:{user:e,profile:r,setProfile:s,loading:i,login:a,logout:c},children:t})},Ca=()=>{const t=C.useContext(cC);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t},pU=()=>{const{user:t,loading:e}=Ca(),n=wr(),[r,s]=C.useState({open:!1});C.useEffect(()=>{!e&&t&&n("/dashboard")},[t,e,n]);const[i,o]=C.useState({name:"",company:"",email:"",phone:"",trades:"",bidsPerMonth:""}),a=c=>{c.preventDefault(),console.log("Demo request:",i)};return d.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[d.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-background border-b border-border z-50 shadow-lg",children:d.jsxs("div",{className:"container mx-auto px-3 sm:px-6 py-2 flex items-center justify-between",children:[d.jsx("img",{src:na,alt:"Suros Logic Systems",className:"h-10 sm:h-12 md:h-16"}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 ml-auto",children:[d.jsx(Cr,{size:"sm",className:"md:h-12 md:px-6 bg-primary hover:bg-primary/90",asChild:!0,children:d.jsx("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:"Book Free Demo"})}),d.jsx(Cr,{size:"sm",variant:"outline",className:"md:h-12 md:px-6 border-white/40 text-white hover:bg-white/10",asChild:!0,children:d.jsx("a",{href:"/auth",children:"Login"})})]})]})}),d.jsx("section",{className:"pt-32 pb-20 px-6",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{className:"space-y-8 animate-fade-in",children:[d.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold leading-tight",children:["AI that writes "," ",d.jsx("br",{}),d.jsx("span",{className:"bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent animate-pulse",children:"bids for you"})]}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Suros Logic Systems turns a simple project form into a fully formatted, professional bid document  in minutes, not hours."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx(Cr,{size:"lg",className:"bg-primary hover:bg-primary/90 text-lg",asChild:!0,children:d.jsxs("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:["Book a Free 15-Min Demo ",d.jsx(Q_,{className:"ml-2"})]})}),d.jsx(Cr,{onClick:()=>window.open("/sample_bid.pdf","_blank"),size:"lg",variant:"outline",className:"text-lg",children:"See Sample Bid"})]})]}),d.jsx("div",{className:"relative animate-fade-in",style:{animationDelay:"0.2s"},children:d.jsx(as,{className:"bg-card/80 backdrop-blur border-primary/30 shadow-xl shadow-primary/10 rounded-2xl",children:d.jsxs(ls,{className:"p-6 space-y-6",children:[d.jsx("div",{className:"space-y-2 text-center",children:d.jsx("h2",{className:"text-2xl font-bold text-secondary tracking-tight",children:"Create a Professional Bid in Minutes"})}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-secondary/15 p-2.5 rounded-full border border-secondary/20",children:d.jsx(Xa,{className:"text-secondary",size:24})}),d.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Step 1: Fill Out Your Bid Information"})]}),d.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground pl-[3.5rem]",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Company & Client Information"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Scope of Work for Each Trade (Plumbing, Drywall, etc.)"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Payment Terms & Timeline"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-secondary/15 p-2.5 rounded-full border border-secondary/20",children:d.jsx(Xa,{className:"text-secondary",size:24})}),d.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Step 2: Receive a Professional Bid Document"})]}),d.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground pl-[3.5rem]",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"A fully formatted Word document"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Clean layout with your personalized information"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Editable line items & payment summary"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Professional, industry-standard structure"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-secondary/15 p-2.5 rounded-full border border-secondary/20",children:d.jsx(Xa,{className:"text-secondary",size:24})}),d.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Step 3: Sit Back and Pretend You Did All the Work"})]}),d.jsx("div",{className:"space-y-2 text-sm text-muted-foreground pl-[3.5rem]",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Dont worry, we wont tell anyone our software did 90% of it."]})})]})]})})})]}),d.jsx("div",{className:"mt-12 text-center",children:d.jsx("p",{className:"text-muted-foreground max-w-3xl mx-auto",children:"Built for contractors, remodelers, and trade professionals who are tired of typing the same bid 100 different ways."})})]})}),d.jsx("section",{className:"py-20 px-6 bg-card/30",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Bids are stealing your nights and weekends"}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:["You spend hours writing and formatting the same scopes over and over.","Inconsistent templates make your company look less professional.","Some bids never even get sent because you run out of time.","Every revision means more hours fighting with formatting."].map((c,u)=>d.jsx(as,{className:"bg-card border-primary/30 hover:border-primary/60 hover:shadow-lg hover:shadow-primary/20 transition-all",children:d.jsx(ls,{className:"p-6",children:d.jsx("p",{className:"text-muted-foreground",children:c})})},u))})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Your bid, fully written, from one simple form"}),d.jsx("p",{className:"text-muted-foreground text-lg",children:"No AI experience required. We handle the prompts, templates, and formatting for you."})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"1",title:"Fill Out Simple Form",description:"You fill out a simple online form with project details and line items."},{step:"2",title:"AI Expands Content",description:"Optimized AI prompts expand and structure the content like a human-written bid."},{step:"3",title:"Generate Document",description:"The system generates a beautifully formatted Word document, keeping your style consistent."},{step:"4",title:"Instant Delivery",description:"The bid is emailed to you instantly, ready to edit or send to your client."}].map((c,u)=>d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"text-6xl font-bold text-primary/20 mb-4",children:c.step}),d.jsx("h3",{className:"text-xl font-semibold mb-3",children:c.title}),d.jsx("p",{className:"text-muted-foreground",children:c.description})]},u))})]})}),d.jsx("section",{className:"py-20 px-6 bg-card/30",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"Built for real-world applications"}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:d.jsx(lN,{className:"text-primary",size:32}),title:"Industry-Tuned AI Prompts",description:"AI workflows specifically optimized for trade specific bids, not generic text."},{icon:d.jsx(Xa,{className:"text-secondary",size:32}),title:"Clean, Consistent Templates",description:"Same professional structure every time across all bids."},{icon:d.jsx(X_,{className:"text-primary",size:32}),title:"Trade & Scope Line Items",description:"Plumbing, Electrical, Drywall, HVAC, Painting, Flooring, etc., with space for detailed scopes."},{icon:d.jsx(Xa,{className:"text-secondary",size:32}),title:"Word Docs, Not Lock-in",description:"You get an editable Word document you can tweak, save, or reuse."},{icon:d.jsx(rN,{className:"text-primary",size:32}),title:"Time Savings",description:"Replace hours of typing with a few minutes of form filling."},{icon:d.jsx(oN,{className:"text-secondary",size:32}),title:"No Complex Software",description:"Just log in, fill out the form, and get your bid."}].map((c,u)=>d.jsx(as,{className:"bg-card hover:bg-card/80 transition-colors border-border hover:border-primary/50",children:d.jsxs(ls,{className:"p-6 space-y-4",children:[d.jsx("div",{children:c.icon}),d.jsx("h3",{className:"text-xl font-semibold",children:c.title}),d.jsx("p",{className:"text-muted-foreground",children:c.description})]})},u))})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"Perfect for..."}),d.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:d.jsx(iN,{className:"text-primary",size:48}),title:"General Contractors & Remodelers",description:"Handle multiple bids daily with consistent, professional formatting."},{icon:d.jsx(X_,{className:"text-secondary",size:48}),title:"Specialty Trades",description:"Plumbing, electrical, HVAC, flooring, tile, painting - we've got your scope covered."},{icon:d.jsx(sN,{className:"text-primary",size:48}),title:"Estimators & Office Managers",description:"Free up your team to focus on project management, not document formatting."}].map((c,u)=>d.jsx(as,{className:"bg-gradient-to-br from-card to-card/50 border-primary/20 text-center",children:d.jsxs(ls,{className:"p-8 space-y-4",children:[d.jsx("div",{className:"flex justify-center",children:c.icon}),d.jsx("h3",{className:"text-xl font-semibold",children:c.title}),d.jsx("p",{className:"text-muted-foreground",children:c.description})]})},u))})]})}),d.jsx("section",{className:"py-20 px-6 bg-card/30",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsx("div",{className:"text-center mb-16",children:d.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Simple pricing that pays for itself"})}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[d.jsx(as,{className:"bg-card border-primary/40 hover:border-primary/70 hover:shadow-xl hover:shadow-primary/30 transition-all",children:d.jsxs(ls,{className:"p-8 space-y-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-primary",children:"QuickStart Bid Templates"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"text-3xl font-bold",children:["$100",d.jsx("span",{className:"text-lg text-muted-foreground",children:"/month"})]}),d.jsx("p",{className:"text-muted-foreground",children:"All your basic needs"})]}),d.jsx("ul",{className:"space-y-3",children:["Access to prebuilt, optimized bid templates","Includes the key fields typically needed to produce a complete proposal","AI-tuned prompts for clean, detailed bids","Perfect for Immediate Use"].map((c,u)=>d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(Y_,{className:"text-primary mt-1 flex-shrink-0",size:20}),d.jsx("span",{className:"text-muted-foreground",children:c})]},u))}),d.jsx(Cr,{className:"w-full bg-primary hover:bg-primary/90",size:"lg",onClick:()=>s({open:!0}),children:"Get Started"})]})}),d.jsx(as,{className:"bg-gradient-to-br from-card to-secondary/10 border-secondary/40 hover:border-secondary/70 hover:shadow-xl hover:shadow-secondary/30 transition-all",children:d.jsxs(ls,{className:"p-8 space-y-6",children:[d.jsx("h3",{className:"text-2xl font-bold text-secondary",children:"Custom Workflow Build"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"text-3xl font-bold",children:["Custom",d.jsx("span",{className:"text-lg text-muted-foreground",children:" pricing"})]}),d.jsx("p",{className:"text-muted-foreground",children:"Setup & monthly based on complexity"})]}),d.jsx("ul",{className:"space-y-3",children:["Everything from QuickStart subscription","Customized form matching your exact bid structure","Tailored prompts for your trades & regions","Multiple document types (bids, change orders)","Perfect for multi-location companies"].map((c,u)=>d.jsxs("li",{className:"flex items-start gap-3",children:[d.jsx(Y_,{className:"text-secondary mt-1 flex-shrink-0",size:20}),d.jsx("span",{className:"text-muted-foreground",children:c})]},u))}),d.jsx(Cr,{className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground",size:"lg",children:d.jsx("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:"Schedule a Meeting"})})]})})]}),d.jsx("p",{className:"text-center text-muted-foreground mt-8 max-w-2xl mx-auto",children:"All plans include onboarding support and access to improvements as we upgrade the system."})]})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Beyond bids: full quoting and automation systems"}),d.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Suros Logic Systems can also build tailored quoting systems that mirror your existing Excel/Word bids, and automated workflows that push bid data into CRMs, email follow-ups, and project management tools."}),d.jsx(Cr,{size:"lg",variant:"outline",className:"border-primary/50 hover:bg-primary/10",children:d.jsx("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:"Talk to us about custom automation"})})]})}),d.jsx("section",{className:"py-20 px-6 bg-card/30",children:d.jsx("div",{className:"container mx-auto",children:d.jsx("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[{title:"Save hours on every bid",description:"Stop spending nights and weekends on formatting"},{title:"More consistent proposals",description:"Professional structure across every bid you send"},{title:"Focus on what matters",description:"Free your team to focus on jobs, not documents"}].map((c,u)=>d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"text-5xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:u+1}),d.jsx("h3",{className:"text-2xl font-semibold",children:c.title}),d.jsx("p",{className:"text-muted-foreground",children:c.description})]},u))})})}),d.jsx("section",{className:"py-20 px-6",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[d.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Our Vision"}),d.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"Suros Logic Systems was created by people who live in the contracting world. We know how much time goes into every quote, every bid, every revision. Our vision is an AI-driven document automation suite that handles not just bid creation, pricing estimates, file storage, and more  across industries like construction, trades, and other service based industries."})]})}),d.jsx("section",{className:"py-32 px-6 bg-gradient-to-br from-primary/20 via-background to-secondary/20",children:d.jsxs("div",{className:"container mx-auto max-w-4xl text-center space-y-8",children:[d.jsx("h2",{className:"text-5xl font-bold",children:"Ready to stop rewriting the same bid for the 100th time?"}),d.jsx("p",{className:"text-xl text-muted-foreground",children:"Book a free 15-minute demo and see how Suros Logic Systems can automate your next bid."}),d.jsx(as,{className:"bg-card/80 backdrop-blur",children:d.jsxs(ls,{className:"p-8",children:[d.jsx("form",{onSubmit:a,className:"space-y-4",children:d.jsx(Cr,{size:"lg",className:"w-full bg-primary hover:bg-primary/90 text-lg",asChild:!0,children:d.jsxs("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:["Book My Demo ",d.jsx(Q_,{className:"ml-2"})]})})}),d.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:d.jsx("a",{onClick:()=>window.open("/sample_bid.pdf","_blank"),className:"underline hover:text-primary",children:"See Sample Bid"})})]})})]})}),d.jsx("footer",{className:"py-8 px-6 border-t border-border",children:d.jsxs("div",{className:"container mx-auto text-center space-y-4",children:[d.jsx("img",{src:na,alt:"Suros Logic Systems",className:"h-10 mx-auto opacity-70"}),d.jsx("p",{className:"text-muted-foreground",children:" 2024 Suros Logic Systems. All rights reserved."})]})}),r.open&&d.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:d.jsxs("div",{style:{background:"#fff",borderRadius:"10px",width:"100%",maxWidth:"480px",padding:"28px",boxShadow:"0 20px 40px rgba(0,0,0,0.25)",textAlign:"center"},children:[d.jsx("h2",{style:{marginBottom:"12px",color:"#000",fontWeight:"bold"},children:" Payments Coming Soon"}),d.jsx("p",{style:{color:"#000",lineHeight:1.6,marginBottom:"26px"},children:"We are still setting up payments. If you are interested in purchasing our services, please set up a meeting with us and well take care of the rest."}),d.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[d.jsx("button",{onClick:()=>s({open:!1}),style:{background:"#e0e0e0",color:"#000",padding:"10px 20px",borderRadius:"6px",border:"none",fontSize:"15px",fontWeight:600,cursor:"pointer"},children:"Cancel"}),d.jsx("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:d.jsx("button",{style:{background:"#1e73be",color:"#fff",padding:"10px 22px",borderRadius:"6px",border:"none",fontSize:"15px",fontWeight:600,cursor:"pointer"},children:"Book Meeting"})})]})]})})]})},mU=()=>{const t=_a();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})};function gU({scope:t,zipCode:e,onApplyTotal:n}){var h,f,m,g;const[r,s]=C.useState(!1),[i,o]=C.useState(null),[a,c]=C.useState(!1),u=async()=>{if(t.trim())try{s(!0);const x=await(await fetch("/generateEstimate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t,zipCode:e})})).json();o(x),c(!0)}catch(T){console.error(T)}finally{s(!1)}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"8px",alignItems:"center",marginLeft:"6px",marginTop:"6px",marginBottom:"14px"},children:[d.jsx("button",{type:"button",onClick:u,style:{height:"36px",padding:"0 12px",background:"#1e73be",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",whiteSpace:"nowrap"},children:r?"Generating...":"Generate Estimate"}),i&&d.jsx("button",{type:"button",onClick:()=>c(!0),style:{height:"36px",padding:"0 12px",background:"#444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",whiteSpace:"nowrap"},children:"View Estimate"})]}),a&&i&&d.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",zIndex:9999},children:d.jsxs("div",{style:{background:"#fff",borderRadius:"12px",width:"100%",maxWidth:"700px",padding:"28px",boxShadow:"0 30px 60px rgba(0,0,0,0.35)",position:"relative",color:"#000"},children:[d.jsx("button",{onClick:()=>c(!1),style:{position:"absolute",top:"12px",right:"16px",background:"transparent",border:"none",fontSize:"20px",cursor:"pointer",color:"#000"},children:""}),i.status==="incomplete"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:{marginBottom:"16px",fontWeight:"bold",color:"#000"},children:"More Info Needed (Suggestions)"}),d.jsx("ul",{style:{listStyle:"none",paddingLeft:0,marginBottom:"20px",color:"#000"},children:(h=i.questions)==null?void 0:h.map((T,w)=>d.jsxs("li",{style:{display:"flex",alignItems:"flex-start",marginBottom:"8px",lineHeight:1.5},children:[d.jsx("span",{style:{marginRight:"8px"},children:"-"}),d.jsx("span",{children:T})]},w))}),d.jsx("button",{onClick:()=>c(!1),style:{background:"#1e73be",color:"#fff",border:"none",padding:"10px 16px",borderRadius:"6px",cursor:"pointer"},children:"Close"})]}),i.status==="complete"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:{marginBottom:"16px",fontWeight:"bold"},children:"AI Estimate"}),d.jsxs("p",{children:[d.jsx("strong",{children:"Material: "}),(f=i.estimate.material_cost)==null?void 0:f.toLocaleString()]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Labor: "}),(m=i.estimate.labor_cost)==null?void 0:m.toLocaleString()]}),d.jsxs("p",{style:{marginBottom:"16px"},children:[d.jsx("strong",{children:"Total: "}),(g=i.estimate.total_cost)==null?void 0:g.toLocaleString()]}),d.jsx("p",{style:{marginBottom:"20px"},children:i.explanation}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"10px"},children:[d.jsx("button",{onClick:()=>c(!1),style:{background:"#ccc",border:"none",padding:"10px 16px",borderRadius:"6px",cursor:"pointer",color:"#000"},children:"Close"}),d.jsx("button",{onClick:()=>{n==null||n(i.estimate.total_cost),c(!1)},style:{background:"#27ae60",color:"#fff",border:"none",padding:"10px 16px",borderRadius:"6px",cursor:"pointer"},children:"Apply To Line Total"})]})]})]})})]})}const mx={company_name:"",company_address:"",company_phone:"",company_email:"",company_slogan:"",invoice_date:"",invoice_number:"",salesperson:"",job:"",payment_terms:"",approx_weeks:"",contingency_percentage:"",contingency_coverage:"",tax_percentage:"7",total_costs:"",deposit_percentage:"",weekly_payments:"",customer_name:"",customer_address:"",customer_phone:"",customer_email:""},gx=["Plumbing","Drywall","Electrical","Flooring"],yU={trade:"",scope:"",material_labor_included:"Yes",line_total:""},vU=()=>{const t=wr(),{profile:e,loading:n}=Ca(),[r,s]=C.useState(mx),[i,o]=C.useState(""),[a,c]=C.useState([]),[u,h]=C.useState({}),f=$=>!!u[$],[m,g]=C.useState({open:!1,type:"info",title:"",message:""}),T=($,U,ee)=>{g({open:!0,type:$,title:U,message:ee})};C.useEffect(()=>{e&&(s($=>({...$,company_name:e.companyName??$.company_name,company_address:e.companyAddress??$.company_address,company_phone:e.phone??$.company_phone,company_email:e.email??$.company_email,company_slogan:e.slogan??$.company_slogan})),h($=>({...$,company_name:!1,company_address:!1,company_phone:!1,company_email:!1,company_slogan:!1})))},[e]);const w=$=>{const U=$.replace(/\D/g,"").substring(0,10),ee=U.length;return ee<4?U:ee<7?`(${U.slice(0,3)}) ${U.slice(3)}`:`(${U.slice(0,3)}) ${U.slice(3,6)}-${U.slice(6)}`},x=$=>{const U=String($).replace(/\D/g,"");return U?`$${Number(U).toLocaleString("en-US")}`:""},_=$=>Number(String($).replace(/[^0-9]/g,""))||0,v=$=>Number($.replace(/[^0-9.]/g,""))||0,E=a.reduce(($,U)=>$+_(U.line_total),0),k=v(r.tax_percentage),D=v(r.contingency_percentage),O=E*(k/100),S=E*(D/100),b=E+O+S,A=v(r.deposit_percentage),R=b*(A/100),N=Number(String(r.weekly_payments).replace(/[^0-9]/g,""))||0,j=b-R,P=N>0&&j>0?j/N:0;C.useEffect(()=>{s($=>({...$,total_costs:b>0?x(Math.round(b)):""})),b>0&&h($=>({...$,total_costs:!1}))},[a,r.tax_percentage,r.contingency_percentage]);const q=$=>{const{id:U,value:ee}=$.target;if(h(ne=>({...ne,[U]:!1})),U==="company_phone"||U==="customer_phone"){s(ne=>({...ne,[U]:w(ee)}));return}if(U==="tax_percentage"||U==="contingency_percentage"){const ne=ee.replace(/[^0-9.]/g,"");s(re=>({...re,[U]:ne}));return}if(U==="deposit_percentage"){const ne=ee.replace(/[^0-9.]/g,"");s(re=>({...re,[U]:ne}));return}if(U==="weekly_payments"){const ne=ee.replace(/[^0-9]/g,"");s(re=>({...re,weekly_payments:ne}));return}U!=="total_costs"&&s(ne=>({...ne,[U]:ee}))},ce=()=>{const $=parseInt(i);if(!$||$<1){T("warning","Invalid Line Item Count","Please enter a valid number of line items before generating sections.");return}const U=Array.from({length:$},()=>({...yU}));c(U),h(ee=>{const ne={...ee};return Object.keys(ne).forEach(re=>{re.startsWith("line_")&&delete ne[re]}),ne}),h(ee=>({...ee,line_items_missing:!1}))},se=($,U,ee)=>{c(re=>re.map((Rt,Pt)=>Pt===$?{...Rt,[U]:ee}:Rt));const ne=`line_${U}_${$}`;h(re=>({...re,[ne]:!1}))},ue=($,U)=>{if(U.key==="Enter"){U.preventDefault();const ee=a[$].scope,ne=U.target.selectionStart,re=ee.substring(0,ne),Rt=ee.substring(ne),Pt=re+`
- `+Rt;se($,"scope",Pt),setTimeout(()=>{const ln=U.target;ln.selectionStart=ne+3,ln.selectionEnd=ne+3},0)}},B=($,U)=>{let ee=U.target.value;a[$].scope===""&&ee.length===1&&(ee="- "+ee),se($,"scope",ee)},L=$=>{const U=$.target.value;if(!U)return;/\S+@\S+\.\S+/.test(U)||T("warning","Invalid Email Address","Please enter a valid email address so we can deliver your bid.")},V=()=>{const $={},U=ee=>{String(r[ee]??"").trim()||($[String(ee)]=!0)};return U("company_name"),U("company_address"),U("company_phone"),U("company_email"),U("company_slogan"),U("invoice_date"),U("invoice_number"),U("salesperson"),U("job"),U("payment_terms"),U("approx_weeks"),U("contingency_percentage"),U("contingency_coverage"),U("tax_percentage"),U("total_costs"),U("deposit_percentage"),U("weekly_payments"),U("customer_name"),U("customer_address"),U("customer_phone"),U("customer_email"),a.length?a.forEach((ee,ne)=>{String(ee.trade??"").trim()||($[`line_trade_${ne}`]=!0),String(ee.scope??"").trim()||($[`line_scope_${ne}`]=!0),String(ee.material_labor_included??"").trim()||($[`line_material_labor_included_${ne}`]=!0),String(ee.line_total??"").trim()||($[`line_line_total_${ne}`]=!0)}):$.line_items_missing=!0,h($),Object.keys($).length===0},Q=$=>{const U=$.match(/\b\d{5}\b/);return U?U[0]:null},G=async $=>{if($.preventDefault(),!V()){T("warning","Incomplete Form","Please complete all required fields before submitting your bid.");return}const U=re=>Number(String(re).replace(/[^0-9]/g,""))||0,ee=a.map(re=>({trade:re.trade,scope:re.scope.split(/\r?\n/).filter(Boolean),material_labor_included:re.material_labor_included,line_total:U(re.line_total)})),ne={...r,tax_percentage:k,contingency_percentage:D,tax_amount:O,contingency_amount:S,approx_weeks:r.approx_weeks,total_costs:U(r.total_costs),deposit_percentage:A,deposit_amount:U(R),weekly_payments:N,weekly_amount:P,line_items:ee,subtotal:E};try{(await fetch("https://astutearc7.app.n8n.cloud/webhook/lastcall-bid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)})).ok?(T("success","Bid Submitted Successfully",`
                    Your bid is being generated now.<br/><br/>
                    Please check your inbox shortly  delivery typically takes a few minutes while we finalize the document and send it over.
                    `),s(mx),c([]),o(""),h({})):T("error","Submission Failed","We ran into an issue while submitting your bid. Please try again in a moment.")}catch{T("error","Network Error","We could not connect to our servers. Please check your connection and try again.")}};return n||!e?d.jsx("div",{className:"suros-gradient",children:d.jsxs("div",{style:{padding:"40px",color:"#fff",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[d.jsx("div",{children:"Loading company profile info for your form"}),d.jsx("button",{onClick:()=>window.location.reload(),style:{background:"#1e73be",color:"#fff",padding:"10px 22px",borderRadius:"6px",border:"none",fontSize:"15px",fontWeight:600,cursor:"pointer"},children:"Refresh"})]})}):d.jsxs("div",{className:"suros-gradient",children:[d.jsxs("div",{className:"bid-form-page",children:[d.jsx("button",{onClick:()=>t("/dashboard"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"}),d.jsx("div",{className:"page-bg",children:d.jsxs("div",{className:"container",children:[d.jsx("div",{className:"logo",children:d.jsx("img",{src:na,alt:"Suros Logic Systems Logo"})}),d.jsx("h1",{children:d.jsx("b",{children:r.company_name})}),d.jsxs("div",{className:"header-info",children:[d.jsx("label",{children:"Address:"}),d.jsx("input",{type:"text",id:"company_address",value:r.company_address,onChange:q,className:f("company_address")?"input-error":""}),d.jsx("label",{children:"Phone:"}),d.jsx("input",{type:"text",id:"company_phone",value:r.company_phone,onChange:q,className:f("company_phone")?"input-error":""}),d.jsx("label",{children:"Email:"}),d.jsx("input",{type:"email",id:"company_email",value:r.company_email,onChange:q,onBlur:L,className:f("company_email")?"input-error":""}),d.jsx("p",{className:"slogan",children:r.company_slogan}),f("company_slogan")&&d.jsx("div",{className:"field-error-text",children:"Company slogan is required."}),f("company_name")&&d.jsx("div",{className:"field-error-text",children:"Company name is required."})]}),d.jsxs("form",{onSubmit:G,children:[d.jsx("h2",{children:"Invoice Information"}),d.jsx("label",{children:"Invoice Date:"}),d.jsx("input",{type:"date",id:"invoice_date",value:r.invoice_date,onChange:q,className:f("invoice_date")?"input-error":""}),d.jsx("label",{children:"Invoice #:"}),d.jsx("input",{type:"text",id:"invoice_number",placeholder:"SLS-2026-1178",value:r.invoice_number,onChange:q,className:f("invoice_number")?"input-error":""}),d.jsx("h2",{children:"Customer Info"}),d.jsx("label",{children:"Customer Name:"}),d.jsx("input",{type:"text",id:"customer_name",value:r.customer_name,onChange:q,placeholder:"John Doe",className:f("customer_name")?"input-error":""}),d.jsx("label",{children:"Customer Address:"}),d.jsx("input",{type:"text",id:"customer_address",value:r.customer_address,onChange:q,placeholder:"1234 Main St, Tampa FL",className:f("customer_address")?"input-error":""}),d.jsx("label",{children:"Customer Phone:"}),d.jsx("input",{type:"text",id:"customer_phone",value:r.customer_phone,onChange:q,placeholder:"(000) 000-0000",className:f("customer_phone")?"input-error":""}),d.jsx("label",{children:"Customer Email:"}),d.jsx("input",{type:"email",id:"customer_email",value:r.customer_email,onChange:q,onBlur:L,placeholder:"example@email.com",className:f("customer_email")?"input-error":""}),d.jsx("h2",{children:"Project & Payment Info"}),d.jsx("label",{children:"Salesperson Name:"}),d.jsx("input",{type:"text",id:"salesperson",placeholder:"John Doe",value:r.salesperson,onChange:q,className:f("salesperson")?"input-error":""}),d.jsx("label",{children:"Job Name or Address:"}),d.jsx("input",{type:"text",id:"job",placeholder:"Kitchen Remodel, Tampa FL",value:r.job,onChange:q,className:f("job")?"input-error":""}),d.jsx("label",{children:d.jsx("strong",{children:"Payment Terms:"})}),d.jsx("textarea",{id:"payment_terms",rows:2,value:r.payment_terms,onChange:q,placeholder:"Deposit of 50% prior to work commencing and weekly progress payments.",className:f("payment_terms")?"input-error":""}),d.jsx("label",{children:"Approximate Working Weeks:"}),d.jsx("input",{type:"text",id:"approx_weeks",value:r.approx_weeks,onChange:q,placeholder:"4 - 6",className:f("approx_weeks")?"input-error":""}),d.jsx("h2",{children:"Line Items"}),d.jsx("label",{children:"How many line items (trades)?"}),d.jsx("input",{type:"number",id:"num_line_items",min:1,max:20,value:i,onChange:$=>{o($.target.value),h(U=>({...U,line_items_missing:!1}))},className:f("line_items_missing")?"input-error":""}),d.jsx("button",{type:"button",onClick:ce,children:"Generate Line Item Sections"}),f("line_items_missing")&&d.jsx("div",{className:"field-error-text",children:"Please generate at least one line item."}),d.jsx("div",{id:"lineItemsContainer",children:a.map(($,U)=>{const ee=gx[U%gx.length];return d.jsxs("div",{className:"line-item",style:{position:"relative",marginBottom:"40px"},children:[d.jsxs("h3",{children:[U+1," LINE ITEM"]}),d.jsx("label",{children:"Trade Name:"}),d.jsx("input",{type:"text",placeholder:ee,value:$.trade,onChange:ne=>se(U,"trade",ne.target.value),className:f(`line_trade_${U}`)?"input-error":""}),d.jsx("label",{children:"Scope of Work (one per line):"}),d.jsx("textarea",{className:`scope-input ${f(`line_scope_${U}`)?"input-error":""}`,placeholder:"- Enter one task per line",value:$.scope,onChange:ne=>B(U,ne),onKeyDown:ne=>ue(U,ne)}),d.jsx("label",{children:"Material and Labor Included?"}),d.jsxs("select",{value:$.material_labor_included,onChange:ne=>se(U,"material_labor_included",ne.target.value),className:f(`line_material_labor_included_${U}`)?"input-error":"",children:[d.jsx("option",{value:"Yes",children:"Yes"}),d.jsx("option",{value:"No",children:"No"})]}),d.jsx("label",{children:"Line Total ($):"}),d.jsxs("div",{style:{display:"flex",alignItems:"center",position:"relative"},children:[d.jsx("input",{type:"text",placeholder:"$",value:$.line_total,onChange:ne=>se(U,"line_total",x(ne.target.value)),className:f(`line_line_total_${U}`)?"input-error":""}),d.jsx(gU,{scope:$.scope,zipCode:Q(r.company_address),onApplyTotal:ne=>se(U,"line_total",x(ne))})]})]},U)})}),d.jsx("h2",{children:"Contingency"}),d.jsx("label",{children:"Contingency (%):"}),d.jsxs("div",{className:"tax-row",children:[d.jsxs("div",{className:"percent-input-wrapper",children:[d.jsx("input",{type:"text",id:"contingency_percentage",value:r.contingency_percentage,onChange:q,placeholder:"10",className:f("contingency_percentage")?"input-error":""}),d.jsx("span",{className:"percent-suffix",children:"%"})]}),d.jsx("div",{className:"tax-amount text-black",children:E>0&&D>0?`${x(Math.round(S))} contingency`:""})]}),d.jsx("textarea",{id:"contingency_coverage",rows:3,value:r.contingency_coverage,onChange:q,placeholder:"Covers miscellaneous materials and unexpected repairs...",className:f("contingency_coverage")?"input-error":""}),d.jsx("p",{className:"contingency-warning",children:d.jsx("strong",{children:"CONTINGENCY FUNDS NOT UTILIZED WILL BE RETURNED TO THE CUSTOMER."})}),d.jsx("h2",{children:"Totals & Payment"}),d.jsx("label",{children:"Tax (%):"}),d.jsxs("div",{className:"tax-row",children:[d.jsxs("div",{className:"percent-input-wrapper",children:[d.jsx("input",{type:"text",id:"tax_percentage",value:r.tax_percentage,readOnly:!0,placeholder:"7",className:`${f("tax_percentage")?"input-error":""} input-readonly`}),d.jsx("span",{className:"percent-suffix",children:"%"})]}),d.jsx("div",{className:"tax-amount text-black",children:E>0&&k>0?`${x(Math.round(O))} in taxes`:""})]}),d.jsx("label",{children:"Total Costs (Line Items + Contingency + Tax):"}),d.jsx("input",{type:"text",id:"total_costs",value:r.total_costs,readOnly:!0,className:`${f("total_costs")?"input-error":""} input-readonly`,placeholder:"$"}),d.jsx("label",{children:"Deposit Required (%):"}),d.jsxs("div",{className:"tax-row",children:[d.jsxs("div",{className:"percent-input-wrapper",children:[d.jsx("input",{type:"text",id:"deposit_percentage",onChange:q,value:r.deposit_percentage,placeholder:"50",className:f("deposit_percentage")?"input-error":""}),d.jsx("span",{className:"percent-suffix",children:"%"})]}),d.jsx("div",{className:"tax-amount text-black",children:b>0&&A>0?`${x(Math.round(R))}`:""})]}),d.jsx("label",{children:"Weekly Progress Payments:"}),d.jsxs("div",{className:"tax-row",children:[d.jsx("input",{type:"text",id:"weekly_payments",value:r.weekly_payments,onChange:q,placeholder:"3",className:f("weekly_payments")?"input-error":""}),d.jsx("div",{className:"tax-amount text-black",children:P>0?`${x(Math.round(P))}/week`:""})]}),d.jsxs("div",{className:"submit-area",children:[d.jsx("button",{type:"submit",children:"Generate My Bid"}),d.jsx("p",{className:"powered",children:"POWERED by Suros Logic Systems, LLC"})]})]})]})})]}),m.open&&d.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:d.jsxs("div",{style:{background:"#fff",borderRadius:"10px",width:"100%",maxWidth:"480px",padding:"28px",boxShadow:"0 20px 40px rgba(0,0,0,0.25)",textAlign:"center"},children:[d.jsxs("h2",{style:{marginBottom:"12px",color:"#000",fontWeight:"bold"},children:[m.type==="success"&&" ",m.type==="error"&&" ",m.type==="warning"&&" ",m.type==="info"&&" ",m.title]}),d.jsx("p",{style:{color:"#000",lineHeight:1.6,marginBottom:"22px"},dangerouslySetInnerHTML:{__html:m.message}}),d.jsx("button",{onClick:()=>{m.type==="success"?t("/dashboard"):g($=>({...$,open:!1}))},style:{background:m.type==="success"?"#1e73be":m.type==="error"?"#c0392b":"#1e73be",color:"#fff",padding:"10px 22px",borderRadius:"6px",border:"none",fontSize:"15px",fontWeight:600,cursor:"pointer"},children:m.type==="success"?"Finish":"Got it"})]})})]})},yx={company_name:"Last Call Home Solutions LLC",company_slogan:"Last call youll make for all your contracting and remodeling needs.",company_address:"4829 Rolling Brook Dr, Tampa, FL 33625",company_phone:"(813) 555-9082",company_email:"email@lastcallhomesolutions.com",invoice_date:"2025-11-28",invoice_number:"LC-2025-1178",salesperson:"Dennis Call",job:"Kitchen Remodel  2290 Maple Ridge Ct, Tampa FL",payment_terms:"50% deposit required before work begins. Weekly progress payments due every Friday. Final amount due upon project completion.",approx_weeks:5,contingency_percentage:"10",contingency_coverage:"Covers miscellaneous materials, unexpected repairs, hardware replacements, drywall patching, plumbing seals, tile work, and fixture adjustments.",tax_percentage:"7",total_costs:"$18,750",deposit_required:"$9,375",weekly_payments:4,final_amount_due:"$1,875",customer_name:"Michael Thompson",customer_address:"2290 Maple Ridge Ct, Tampa FL 33625",customer_phone:"(813) 445-7710",customer_email:"michael.thompson@example.com"},Qf={2:[{trade:"Plumbing",scope:`- Disconnect old plumbing
- Install new PEX water lines
- Replace garbage disposal
- Install new shutoff valves`,line_total:"$5,200",material_labor_included:"Yes"},{trade:"Drywall",scope:`- Remove damaged drywall
- Install new 1/2" drywall
- Tape and mud seams
- Sand and prep for paint`,line_total:"$4,100",material_labor_included:"Yes"}],3:[{trade:"Electrical",scope:`- Add recessed lighting
- Install two GFCI outlets
- Replace breaker for kitchen circuit`,line_total:"$2,600",material_labor_included:"Yes"},{trade:"Flooring",scope:`- Remove old tile
- Install new LVP flooring
- Add new baseboards`,line_total:"$4,800",material_labor_included:"Yes"},{trade:"Painting",scope:`- Prime all walls
- Apply two coats interior paint
- Paint trim and baseboards`,line_total:"$2,300",material_labor_included:"Yes"}],4:[{trade:"Demolition",scope:`- Remove cabinetry
- Remove countertops
- Dispose of debris`,line_total:"$1,800",material_labor_included:"Yes"},{trade:"Cabinet Installation",scope:`- Install RTA cabinets
- Level and secure bases
- Hang uppers`,line_total:"$6,200",material_labor_included:"Yes"},{trade:"Countertops",scope:`- Template for quartz slabs
- Install quartz countertops
- Seal and finish`,line_total:"$5,400",material_labor_included:"Yes"},{trade:"Backsplash",scope:`- Install subway tile
- Apply grout
- Seal tile and grout`,line_total:"$2,200",material_labor_included:"Yes"}],5:[{trade:"Appliance Installation",scope:`- Install refrigerator
- Install dishwasher & connect water line
- Install over-the-range microwave
- Test all electrical and water connections`,line_total:"$1,500",material_labor_included:"Yes"},{trade:"Interior Painting",scope:`- Patch wall imperfections
- Apply primer to all walls
- Apply two coats interior paint
- Paint trim and baseboards`,line_total:"$2,800",material_labor_included:"Yes"},{trade:"Plumbing Fixtures",scope:`- Replace kitchen faucet
- Install under-sink plumbing kit
- Install garbage disposal
- Test for leaks and drainage`,line_total:"$950",material_labor_included:"Yes"},{trade:"Tile Flooring",scope:`- Remove existing flooring
- Install cement board
- Lay porcelain tile
- Apply grout and seal flooring`,line_total:"$4,200",material_labor_included:"Yes"},{trade:"Final Cleanup",scope:`- Remove all debris
- Clean floors and surfaces
- Final walkthrough prep`,line_total:"$850",material_labor_included:"Yes"}],6:[{trade:"Demolition",scope:`- Remove existing cabinetry
- Remove countertops
- Dispose of debris`,line_total:"$1,700",material_labor_included:"Yes"},{trade:"Framing",scope:`- Frame new wall sections
- Adjust doorway openings
- Reinforce load points`,line_total:"$2,300",material_labor_included:"Yes"},{trade:"Electrical",scope:`- Add recessed lighting
- Install dedicated appliance circuits
- Replace breaker`,line_total:"$2,900",material_labor_included:"Yes"},{trade:"Plumbing",scope:`- Install new supply lines
- Replace drain lines
- Pressure test system`,line_total:"$3,100",material_labor_included:"Yes"},{trade:"Cabinet Installation",scope:`- Install base and upper cabinets
- Level and secure
- Install hardware`,line_total:"$5,800",material_labor_included:"Yes"},{trade:"Final Finishes",scope:`- Install trim
- Touch-up paint
- Final cleanup and walkthrough`,line_total:"$1,400",material_labor_included:"Yes"}],10:[{trade:"Demolition",scope:`- Remove existing cabinetry
- Remove countertops
- Remove flooring
- Haul away debris`,line_total:"$2,400",material_labor_included:"Yes"},{trade:"Framing",scope:`- Frame new wall sections
- Modify openings
- Reinforce structural points`,line_total:"$3,100",material_labor_included:"Yes"},{trade:"Electrical",scope:`- Install recessed lighting
- Add appliance circuits
- Replace breakers
- Code compliance check`,line_total:"$4,200",material_labor_included:"Yes"},{trade:"Plumbing Rough-In",scope:`- Replace supply lines
- Replace drain lines
- Pressure test system`,line_total:"$3,600",material_labor_included:"Yes"},{trade:"HVAC Adjustments",scope:`- Reroute ductwork
- Install new vents
- Balance airflow`,line_total:"$2,800",material_labor_included:"Yes"},{trade:"Drywall",scope:`- Hang new drywall
- Tape and mud seams
- Sand smooth`,line_total:"$3,400",material_labor_included:"Yes"},{trade:"Cabinet Installation",scope:`- Install base cabinets
- Install uppers
- Level and secure
- Install hardware`,line_total:"$6,900",material_labor_included:"Yes"},{trade:"Countertops",scope:`- Template quartz
- Install slabs
- Seal and finish`,line_total:"$5,700",material_labor_included:"Yes"},{trade:"Flooring",scope:`- Install underlayment
- Lay flooring material
- Install baseboards`,line_total:"$4,300",material_labor_included:"Yes"},{trade:"Final Finishes & Cleanup",scope:`- Touch-up paint
- Install trim
- Final walkthrough
- Job site cleanup`,line_total:"$2,200",material_labor_included:"Yes"}]},vx=["Plumbing","Drywall","Electrical","Flooring"],_U={trade:"",scope:"",material_labor_included:"Yes",line_total:""},wU=()=>{const t=wr(),[e,n]=C.useState(yx),[r,s]=C.useState("2"),[i,o]=C.useState(Qf[2]??[]),[a,c]=C.useState({}),u=L=>!!a[L],[h,f]=C.useState({open:!1,type:"info",title:"",message:""}),m=(L,V,Q)=>{f({open:!0,type:L,title:V,message:Q})},g=L=>{const V=L.replace(/\D/g,"").substring(0,10),Q=V.length;return Q<4?V:Q<7?`(${V.slice(0,3)}) ${V.slice(3)}`:`(${V.slice(0,3)}) ${V.slice(3,6)}-${V.slice(6)}`},T=L=>{const V=String(L).replace(/\D/g,"");return V?`$${Number(V).toLocaleString("en-US")}`:""},w=L=>Number(String(L).replace(/[^0-9]/g,""))||0,x=L=>Number(L.replace(/[^0-9.]/g,""))||0,_=i.reduce((L,V)=>L+w(V.line_total),0),v=x(e.tax_percentage),E=x(e.contingency_percentage),k=_*(v/100),D=_*(E/100),O=_+k+D,S=w(e.deposit_required),b=Number(String(e.weekly_payments).replace(/[^0-9]/g,""))||0,A=O-S,R=b>0&&A>0?A/b:0;C.useEffect(()=>{n(L=>({...L,total_costs:O>0?T(Math.round(O)):""})),O>0&&c(L=>({...L,total_costs:!1}))},[i,e.tax_percentage,e.contingency_percentage]);const N=L=>{const{id:V,value:Q}=L.target;if(c(G=>({...G,[V]:!1})),V==="company_phone"||V==="customer_phone"){n(G=>({...G,[V]:g(Q)}));return}if(V==="tax_percentage"||V==="contingency_percentage"){const G=Q.replace(/[^0-9.]/g,"");n($=>({...$,[V]:G}));return}if(V==="deposit_required"){n(G=>({...G,[V]:T(Q)}));return}if(V==="weekly_payments"){const G=Q.replace(/[^0-9]/g,"");n($=>({...$,weekly_payments:G}));return}V!=="total_costs"&&n(G=>({...G,[V]:Q}))},j=()=>{const L=parseInt(r);if(!L||L<1){m("warning","Invalid Line Item Count","Please enter a valid number of line items before generating sections.");return}const V=Qf[L],Q=V?V.map(G=>({...G})):Array.from({length:L},()=>({..._U}));o(Q),c(G=>{const $={...G};return Object.keys($).forEach(U=>{U.startsWith("line_")&&delete $[U]}),$}),c(G=>({...G,line_items_missing:!1}))},P=(L,V,Q)=>{o($=>$.map((U,ee)=>ee===L?{...U,[V]:Q}:U));const G=`line_${V}_${L}`;c($=>({...$,[G]:!1}))},q=(L,V)=>{if(V.key==="Enter"){V.preventDefault();const Q=i[L].scope,G=V.target.selectionStart,$=Q.substring(0,G),U=Q.substring(G),ee=$+`
- `+U;P(L,"scope",ee),setTimeout(()=>{const ne=V.target;ne.selectionStart=G+3,ne.selectionEnd=G+3},0)}},ce=(L,V)=>{let Q=V.target.value;i[L].scope===""&&Q.length===1&&(Q="- "+Q),P(L,"scope",Q)},se=L=>{const V=L.target.value;if(!V)return;/\S+@\S+\.\S+/.test(V)||m("warning","Invalid Email Address","Please enter a valid email address so we can deliver your bid.")},ue=()=>{const L={},V=Q=>{String(e[Q]??"").trim()||(L[String(Q)]=!0)};return V("company_name"),V("company_address"),V("company_phone"),V("company_email"),V("company_slogan"),V("invoice_date"),V("invoice_number"),V("salesperson"),V("job"),V("payment_terms"),V("approx_weeks"),V("contingency_percentage"),V("contingency_coverage"),V("tax_percentage"),V("total_costs"),V("deposit_required"),V("weekly_payments"),V("customer_name"),V("customer_address"),V("customer_phone"),V("customer_email"),i.length?i.forEach((Q,G)=>{String(Q.trade??"").trim()||(L[`line_trade_${G}`]=!0),String(Q.scope??"").trim()||(L[`line_scope_${G}`]=!0),String(Q.material_labor_included??"").trim()||(L[`line_material_labor_included_${G}`]=!0),String(Q.line_total??"").trim()||(L[`line_line_total_${G}`]=!0)}):L.line_items_missing=!0,c(L),Object.keys(L).length===0},B=async L=>{if(L.preventDefault(),!ue()){m("warning","Incomplete Form","Please complete all required fields before submitting your bid.");return}const V=$=>Number(String($).replace(/[^0-9]/g,""))||0,Q=i.map($=>({trade:$.trade,scope:$.scope.split(/\r?\n/).filter(Boolean),material_labor_included:$.material_labor_included,line_total:V($.line_total)})),G={...e,tax_percentage:v,contingency_percentage:E,tax_amount:k,contingency_amount:D,approx_weeks:e.approx_weeks,subtotal:_,total_costs:V(e.total_costs),deposit_required:V(e.deposit_required),weekly_payments:b,weekly_amount:R,final_amount_due:e.final_amount_due?V(e.final_amount_due):void 0,line_items:Q};try{(await fetch("https://astutearc7.app.n8n.cloud/webhook/lastcall-bid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})).ok?(m("success","Bid Submitted Successfully",`
          Your bid is being generated now.<br/><br/>
          Please check your inbox shortly  delivery typically takes a few minutes while we finalize the document and send it over.
          `),n(yx),o(Qf[2]??[]),s("2"),c({})):m("error","Submission Failed","We ran into an issue while submitting your bid. Please try again in a moment.")}catch{m("error","Network Error","We could not connect to our servers. Please check your connection and try again.")}};return d.jsxs("div",{className:"suros-gradient",children:[d.jsxs("div",{className:"bid-form-page",children:[d.jsx("button",{onClick:()=>t("/dashboard"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"}),d.jsx("div",{className:"page-bg",children:d.jsxs("div",{className:"container",children:[d.jsx("div",{className:"logo",children:d.jsx("img",{src:na,alt:"Suros Logic Systems Logo"})}),d.jsx("h1",{children:d.jsx("b",{children:e.company_name})}),d.jsxs("div",{className:"header-info",children:[d.jsx("label",{children:"Address:"}),d.jsx("input",{type:"text",id:"company_address",value:e.company_address,onChange:N,className:u("company_address")?"input-error":""}),d.jsx("label",{children:"Phone:"}),d.jsx("input",{type:"text",id:"company_phone",value:e.company_phone,onChange:N,className:u("company_phone")?"input-error":""}),d.jsx("label",{children:"Email:"}),d.jsx("input",{type:"email",id:"company_email",value:e.company_email,onChange:N,onBlur:se,className:u("company_email")?"input-error":""}),d.jsx("p",{className:"slogan",children:e.company_slogan}),u("company_slogan")&&d.jsx("div",{className:"field-error-text",children:"Company slogan is required."}),u("company_name")&&d.jsx("div",{className:"field-error-text",children:"Company name is required."})]}),d.jsxs("form",{onSubmit:B,children:[d.jsx("h2",{children:"Invoice Information"}),d.jsx("label",{children:"Invoice Date:"}),d.jsx("input",{type:"date",id:"invoice_date",value:e.invoice_date,onChange:N,className:u("invoice_date")?"input-error":""}),d.jsx("label",{children:"Invoice #:"}),d.jsx("input",{type:"text",id:"invoice_number",placeholder:"LC-2025-1178",value:e.invoice_number,onChange:N,className:u("invoice_number")?"input-error":""}),d.jsx("h2",{children:"Customer Info"}),d.jsx("label",{children:"Customer Name:"}),d.jsx("input",{type:"text",id:"customer_name",value:e.customer_name,onChange:N,placeholder:"John Doe",className:u("customer_name")?"input-error":""}),d.jsx("label",{children:"Customer Address:"}),d.jsx("input",{type:"text",id:"customer_address",value:e.customer_address,onChange:N,placeholder:"1234 Main St, Tampa FL",className:u("customer_address")?"input-error":""}),d.jsx("label",{children:"Customer Phone:"}),d.jsx("input",{type:"text",id:"customer_phone",value:e.customer_phone,onChange:N,placeholder:"(000) 000-0000",className:u("customer_phone")?"input-error":""}),d.jsx("label",{children:"Customer Email:"}),d.jsx("input",{type:"email",id:"customer_email",value:e.customer_email,onChange:N,onBlur:se,placeholder:"example@email.com",className:u("customer_email")?"input-error":""}),d.jsx("h2",{children:"Project & Payment Info"}),d.jsx("label",{children:"Salesperson Name:"}),d.jsx("input",{type:"text",id:"salesperson",placeholder:"Dennis Call",value:e.salesperson,onChange:N,className:u("salesperson")?"input-error":""}),d.jsx("label",{children:"Job Name or Address:"}),d.jsx("input",{type:"text",id:"job",placeholder:"Kitchen Remodel, Tampa FL",value:e.job,onChange:N,className:u("job")?"input-error":""}),d.jsx("label",{children:d.jsx("strong",{children:"Payment Terms:"})}),d.jsx("textarea",{id:"payment_terms",rows:2,value:e.payment_terms,onChange:N,placeholder:"Deposit of 50% prior to work commencing and weekly progress payments.",className:u("payment_terms")?"input-error":""}),d.jsx("label",{children:"Approximate Working Weeks:"}),d.jsx("input",{type:"text",id:"approx_weeks",value:e.approx_weeks,onChange:N,placeholder:"4 - 6",className:u("approx_weeks")?"input-error":""}),d.jsx("h2",{children:"Line Items"}),d.jsx("label",{children:"How many line items (trades)?"}),d.jsx("input",{type:"number",id:"num_line_items",min:1,max:20,value:r,onChange:L=>{s(L.target.value),c(V=>({...V,line_items_missing:!1}))},className:u("line_items_missing")?"input-error":""}),d.jsx("button",{type:"button",onClick:j,children:"Generate Line Item Sections"}),u("line_items_missing")&&d.jsx("div",{className:"field-error-text",children:"Please generate at least one line item."}),d.jsx("div",{id:"lineItemsContainer",children:i.map((L,V)=>{const Q=vx[V%vx.length];return d.jsxs("div",{className:"line-item",children:[d.jsxs("h3",{children:[V+1," LINE ITEM"]}),d.jsx("label",{children:"Trade Name:"}),d.jsx("input",{type:"text",placeholder:Q,value:L.trade,onChange:G=>P(V,"trade",G.target.value),className:u(`line_trade_${V}`)?"input-error":""}),d.jsx("label",{children:"Scope of Work (one per line):"}),d.jsx("textarea",{className:`scope-input ${u(`line_scope_${V}`)?"input-error":""}`,placeholder:"- Enter one task per line",value:L.scope,onChange:G=>ce(V,G),onKeyDown:G=>q(V,G)}),d.jsx("label",{children:"Material and Labor Included?"}),d.jsxs("select",{value:L.material_labor_included,onChange:G=>P(V,"material_labor_included",G.target.value),className:u(`line_material_labor_included_${V}`)?"input-error":"",children:[d.jsx("option",{value:"Yes",children:"Yes"}),d.jsx("option",{value:"No",children:"No"})]}),d.jsx("label",{children:"Line Total ($):"}),d.jsx("input",{type:"text",placeholder:"$",value:L.line_total,onChange:G=>P(V,"line_total",T(G.target.value)),className:u(`line_line_total_${V}`)?"input-error":""})]},V)})}),d.jsx("h2",{children:"Contingency"}),d.jsx("label",{children:"Contingency (%):"}),d.jsxs("div",{className:"tax-row",children:[d.jsxs("div",{className:"percent-input-wrapper",children:[d.jsx("input",{type:"text",id:"contingency_percentage",value:e.contingency_percentage,onChange:N,placeholder:"10",className:u("contingency_percentage")?"input-error":""}),d.jsx("span",{className:"percent-suffix",children:"%"})]}),d.jsx("div",{className:"tax-amount text-black",children:_>0&&E>0?`${T(Math.round(D))} contingency`:""})]}),d.jsx("textarea",{id:"contingency_coverage",rows:3,value:e.contingency_coverage,onChange:N,placeholder:"Covers miscellaneous materials and unexpected repairs...",className:u("contingency_coverage")?"input-error":""}),d.jsx("p",{className:"contingency-warning",children:d.jsx("strong",{children:"CONTINGENCY FUNDS NOT UTILIZED WILL BE RETURNED TO THE CUSTOMER."})}),d.jsx("h2",{children:"Totals & Payment"}),d.jsx("label",{children:"Tax (%):"}),d.jsxs("div",{className:"tax-row",children:[d.jsxs("div",{className:"percent-input-wrapper",children:[d.jsx("input",{type:"text",id:"tax_percentage",value:e.tax_percentage,readOnly:!0,placeholder:"7",className:`${u("tax_percentage")?"input-error":""} input-readonly`}),d.jsx("span",{className:"percent-suffix",children:"%"})]}),d.jsx("div",{className:"tax-amount text-black",children:_>0&&v>0?`${T(Math.round(k))} in taxes`:""})]}),d.jsx("label",{children:"Total Costs (Line Items + Contingency + Tax):"}),d.jsx("input",{type:"text",id:"total_costs",value:e.total_costs,readOnly:!0,className:`${u("total_costs")?"input-error":""} input-readonly`,placeholder:"$"}),d.jsx("label",{children:"Deposit Required:"}),d.jsx("input",{type:"text",id:"deposit_required",value:e.deposit_required,onChange:N,placeholder:"$",className:u("deposit_required")?"input-error":""}),d.jsx("label",{children:"Weekly Progress Payments:"}),d.jsxs("div",{className:"tax-row",children:[d.jsx("input",{type:"text",id:"weekly_payments",value:String(e.weekly_payments),onChange:N,placeholder:"3",className:u("weekly_payments")?"input-error":""}),d.jsx("div",{className:"tax-amount text-black",children:R>0?`${T(Math.round(R))}/week`:""})]}),d.jsxs("div",{className:"submit-area",children:[d.jsx("button",{type:"submit",children:"Generate My Bid"}),d.jsx("p",{className:"powered",children:"POWERED by Suros Logic Systems, LLC"})]})]})]})})]}),h.open&&d.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:d.jsxs("div",{style:{background:"#fff",borderRadius:"10px",width:"100%",maxWidth:"480px",padding:"28px",boxShadow:"0 20px 40px rgba(0,0,0,0.25)",textAlign:"center"},children:[d.jsxs("h2",{style:{marginBottom:"12px",color:"#000",fontWeight:"bold"},children:[h.type==="success"&&" ",h.type==="error"&&" ",h.type==="warning"&&" ",h.type==="info"&&" ",h.title]}),d.jsx("p",{style:{color:"#000",lineHeight:1.6,marginBottom:"22px"},dangerouslySetInnerHTML:{__html:h.message}}),d.jsx("button",{onClick:()=>f(L=>({...L,open:!1})),style:{background:h.type==="success"?"#1e73be":h.type==="error"?"#c0392b":"#1e73be",color:"#fff",padding:"10px 22px",borderRadius:"6px",border:"none",fontSize:"15px",fontWeight:600,cursor:"pointer"},children:"Got it"})]})})]})};function xU(){const{login:t}=Ca(),e=wr(),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,a]=C.useState(!1),[c,u]=C.useState(""),h=async()=>{if(u(""),!n||!s){u("Please enter both email and password.");return}try{a(!0);const m=(await t(n,s)).user,g=ua(ji,"users",m.uid),T=await Uy(g),w=T.exists()?T.data():null;if(!w||w.profileComplete===!1){e("/edit-profile",{replace:!0});return}e("/dashboard",{replace:!0})}catch(f){console.error(f),u("Invalid email or password.")}finally{a(!1)}};return d.jsxs("div",{className:"suros-gradient flex justify-center items-center px-4 relative font-[Montserrat] min-h-screen",children:[o&&d.jsxs("div",{className:"absolute inset-0 bg-black/40 flex flex-col items-center justify-center z-50",children:[d.jsx("div",{className:"loader"}),d.jsx("p",{className:"text-white mt-4 text-lg",children:"Signing you in..."})]}),d.jsxs("div",{className:"w-full max-w-[420px] flex flex-col items-center",children:[d.jsx("img",{src:na,alt:"Suros Logic Systems",className:"h-20 mb-6 drop-shadow-lg"}),d.jsxs("div",{className:"w-full bg-white rounded-2xl p-8 shadow-xl",children:[d.jsx("h2",{className:"text-2xl font-bold text-center mb-4 text-black",children:"Welcome Back"}),d.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Login to access your Suros Logic account."}),c&&d.jsx("p",{className:"text-red-500 text-center mb-3",children:c}),d.jsx("label",{className:"font-semibold text-black",children:"Email"}),d.jsx("input",{type:"email",value:n,placeholder:"you@example.com",onChange:f=>r(f.target.value),className:"w-full p-3 mb-4 border border-gray-300 rounded-lg text-black"}),d.jsx("label",{className:"font-semibold text-black",children:"Password"}),d.jsx("input",{type:"password",value:s,placeholder:"Enter your password",onChange:f=>i(f.target.value),className:"w-full p-3 mb-6 border border-gray-300 rounded-lg text-black"}),d.jsx("button",{onClick:h,disabled:o,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition disabled:opacity-70",children:o?"Signing in...":"Login"}),d.jsx("button",{onClick:()=>e("/"),className:"w-full mt-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-100 transition",children:"Return Home"})]})]})]})}function tl({children:t}){const{user:e,profile:n,loading:r}=Ca();return r?null:e?n&&n.profileComplete===!1?d.jsx(I0,{to:"/edit-profile",replace:!0}):t:d.jsx(I0,{to:"/auth",replace:!0})}const EU="/assets/default-avatar-D0vIp_aa.png";function bU(){const[t,e]=C.useState(!1),{logout:n}=Ca();return d.jsxs("div",{className:"profile-dropdown-wrapper",children:[d.jsx("button",{className:"profile-button",onClick:()=>e(!t),children:d.jsx("img",{src:EU,className:"profile-icon",alt:"profile"})}),t&&d.jsxs("div",{className:"profile-dropdown-menu",children:[d.jsx(jo,{to:"/edit-profile",className:"dropdown-item",children:"Edit Profile"}),d.jsx(jo,{to:"/privacy",className:"dropdown-item",children:"Privacy Policy"}),d.jsx(jo,{to:"/terms",className:"dropdown-item",children:"Terms & Conditions"}),d.jsx("button",{className:"dropdown-item logout",onClick:n,children:"Log Out"})]})]})}function TU(){return d.jsxs("nav",{className:"suros-navbar",children:[d.jsx("div",{className:"navbar-left",children:d.jsx(jo,{to:"/dashboard",className:"logo-link",children:d.jsx("img",{src:na,alt:"Suros Logic Systems",className:"navbar-logo"})})}),d.jsx("div",{className:"navbar-right",children:d.jsx(bU,{})})]})}function SU(){return d.jsxs("div",{className:"dashboard-wrapper",children:[d.jsx(TU,{}),d.jsxs("div",{className:"dashboard-container",children:[d.jsx("h1",{className:"dashboard-title",children:"Welcome to Your Dashboard"}),d.jsx("p",{className:"dashboard-subtitle",children:"Automate your bids. Manage your submissions. Speed up your workflow."}),d.jsxs("div",{className:"dashboard-card-wrapper",children:[d.jsxs(jo,{to:"/form/bid_form",className:"dashboard-card",children:[d.jsx("h2",{className:"dashboard-card-title",children:"Create New Bid"}),d.jsx("p",{className:"dashboard-card-description",children:"Generate a new automated bid using your Suros Logic bid builder."}),d.jsx("div",{className:"dashboard-card-button",children:"Start Bid "})]}),d.jsxs(jo,{to:"/view-bids",className:"dashboard-card",children:[d.jsx("h2",{className:"dashboard-card-title",children:"My Bids"}),d.jsx("p",{className:"dashboard-card-description",children:"A centralized place to store, organize, and access all of your bids."}),d.jsx("div",{className:"dashboard-card-button",children:"View Bids "})]})]})]})]})}function IU(){const{user:t,setProfile:e}=Ca(),n=wr(),[r,s]=C.useState(null),[i,o]=C.useState(!0),[a,c]=C.useState(!1),[u,h]=C.useState(!1),[f,m]=C.useState(""),g={uid:"User ID",displayName:"Full Name",companyName:"Company Name",companyAddress:"Company Address",slogan:"Company Slogan",phone:"Phone Number",email:"Email Address",profileComplete:"Profile Complete",timeOfCreation:"Time of Creation"},T=["companyName","companyAddress","slogan","displayName","email","phone"];C.useEffect(()=>{(async()=>{if(!t)return;const v=ua(ji,"users",t.uid),E=await Uy(v),k=E.exists()?E.data():{uid:t.uid,displayName:"",companyName:"",companyAddress:"",slogan:"",phone:"",email:t.email||"",profileComplete:!1,timeOfCreation:Ce.now()};s(k),o(!1)})()},[t]);const w=()=>{if(!r)return!1;for(const _ of T){const v=r[_];if(typeof v!="string"||v.trim()==="")return m(`Please fill out: ${g[_]}`),!1}return m(""),!0},x=async()=>{if(!(!t||!r)&&w()){c(!0);try{const _=ua(ji,"users",t.uid),v={uid:t.uid,displayName:r.displayName,companyName:r.companyName,companyAddress:r.companyAddress,slogan:r.slogan,phone:r.phone,email:r.email,profileComplete:!0,timeOfCreation:r.timeOfCreation??Ce.now()};await H6(_,v,{merge:!0}),e(v),h(!0),setTimeout(()=>n("/dashboard"),1500)}catch(_){console.error("Save error:",_),c(!1),m("An unexpected error occurred saving your profile.")}}};return i||!r?null:d.jsxs("div",{className:"suros-gradient",children:[r.profileComplete&&d.jsx("button",{onClick:()=>n("/"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"}),a&&d.jsxs("div",{className:"overlay",children:[d.jsx("div",{className:"loader"}),d.jsx("p",{children:"Saving changes..."})]}),u&&d.jsx("div",{className:"success-alert",children:"Changes saved successfully!"}),d.jsx("div",{className:"edit-wrapper",children:d.jsxs("div",{className:"edit-card",children:[d.jsx("h1",{children:"Edit Profile"}),f&&d.jsx("div",{className:"validation-banner",children:d.jsx("span",{children:f})}),d.jsxs("div",{className:"edit-grid",children:[d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Company Name"}),d.jsx("input",{name:"companyName",value:r.companyName,onChange:_=>s({...r,companyName:_.target.value})})]}),d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Full Name"}),d.jsx("input",{name:"displayName",value:r.displayName,onChange:_=>s({...r,displayName:_.target.value})})]}),d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Company Address"}),d.jsx("textarea",{name:"companyAddress",rows:2,value:r.companyAddress,onChange:_=>s({...r,companyAddress:_.target.value})})]}),d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Email Address"}),d.jsx("input",{name:"email",value:r.email,onChange:_=>s({...r,email:_.target.value})})]}),d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Company Slogan"}),d.jsx("textarea",{name:"slogan",rows:2,value:r.slogan,onChange:_=>s({...r,slogan:_.target.value})})]}),d.jsxs("div",{className:"edit-field",children:[d.jsx("label",{children:"Phone Number"}),d.jsx("input",{name:"phone",value:r.phone,onChange:_=>s({...r,phone:_.target.value})})]})]}),d.jsx("button",{className:"save-btn",onClick:x,children:"Save Changes"})]})})]})}function CU(){const t=wr();return d.jsxs("div",{className:"suros-gradient min-h-screen w-full",children:[d.jsx("div",{className:"flex items-center mb-10 px-6 pt-10",children:d.jsx("button",{onClick:()=>t("/"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"})}),d.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md mb-20 text-gray-900",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Privacy Policy  Suros Logic Systems, LLC"}),d.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Last updated: 12/12/2025"}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Who We Are"}),d.jsx("p",{className:"mb-4",children:"This Privacy Policy describes how Suros Logic Systems (Suros Logic Systems, we, us, or our) collects, uses, and shares information when you:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Visit our website,"}),d.jsx("li",{children:"Create an account and use our software and related services (the Service),"}),d.jsx("li",{children:"Communicate with us in any way."})]}),d.jsx("p",{className:"mb-4",children:"Suros Logic Systems provides tools that allow contractors to input basic bid details and client information, which we then process using artificial intelligence (AI) to generate formatted, professional bids that are sent back to the contractor."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Scope"}),d.jsx("p",{className:"mb-4",children:"This Privacy Policy applies to information we collect:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Through our website and web applications;"}),d.jsx("li",{children:"Through forms, portals, and interfaces where contractors submit bid details and client information;"}),d.jsx("li",{children:"Through email or other communications with us."})]}),d.jsx("p",{className:"mb-4",children:"It does not apply to third-party websites or services linked from our Service."}),d.jsx("p",{className:"mb-4",children:"By using the Service, you agree to the collection and use of information in accordance with this Policy."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Information We Collect"}),d.jsx("p",{className:"mb-4",children:"We may collect the following categories of information:"}),d.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"3.1 Information You Provide to Us"}),d.jsx("p",{className:"font-semibold",children:"Account and Contact Information"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Name"}),d.jsx("li",{children:"Company name"}),d.jsx("li",{children:"Email address"}),d.jsx("li",{children:"Phone number"}),d.jsx("li",{children:"Billing address"}),d.jsx("li",{children:"Login/credential information (e.g., username, hashed password)"})]}),d.jsx("p",{className:"font-semibold",children:"Contractor & Bid Data (Customer Data)"}),d.jsx("p",{className:"mb-2",children:"When you use the Service to generate bids, you may submit:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Client names and contact information (e.g., homeowner or property owner)"}),d.jsx("li",{children:"Property addresses and project locations"}),d.jsx("li",{children:"Project descriptions, scopes of work, line items, and pricing"}),d.jsx("li",{children:"Notes, comments, or instructions entered into the system"}),d.jsx("li",{children:"Any other information you choose to include in bids or related documents"})]}),d.jsx("p",{className:"mb-4",children:"This may include personal information about your clients, subcontractors, or other individuals. You are responsible for ensuring you have the right to share this information with us."}),d.jsx("p",{className:"font-semibold",children:"Payment Information"}),d.jsx("p",{className:"mb-2",children:"We may use third-party payment processors to handle billing and payments. These processors may collect:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Payment card details"}),d.jsx("li",{children:"Billing address"}),d.jsx("li",{children:"Other payment-related details"})]}),d.jsx("p",{className:"mb-4",children:"We typically do not store full payment card numbers on our own systems."}),d.jsx("p",{className:"font-semibold",children:"Support and Communication"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Messages you send us (email, in-app chat, support tickets)"}),d.jsx("li",{children:"Feedback, bug reports, or feature requests"})]}),d.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"3.2 Information We Collect Automatically"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Usage data  pages visited, features used, clicks, time on page, referring URLs."}),d.jsx("li",{children:"Log data  IP address, browser type, operating system, access times, and device identifiers."}),d.jsx("li",{children:"Cookies and similar technologies  to remember your preferences and help us improve the Service."})]}),d.jsx("h3",{className:"text-lg font-semibold mt-6 mb-2",children:"3.3 Information from Third Parties"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Payment processors (billing status and confirmations)"}),d.jsx("li",{children:"Integration partners"}),d.jsx("li",{children:"Analytics services"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. How We Use Your Information"}),d.jsx("p",{className:"mb-4",children:"We use the information we collect for purposes including:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Providing and operating the Service"}),d.jsx("li",{children:"Generating automated, formatted bids based on your inputs"}),d.jsx("li",{children:"Sending you bid documents via email or through our platform"}),d.jsx("li",{children:"Managing your account and authentication"}),d.jsx("li",{children:"Improving and developing our Service"}),d.jsx("li",{children:"Analyzing feature usage"}),d.jsx("li",{children:"Debugging, testing, and optimizing performance"}),d.jsx("li",{children:"Creating new features and workflows"})]}),d.jsx("p",{className:"font-semibold mb-1",children:"Using Customer Data to optimize our systems and AI models:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Improve the quality of AI-generated bids"}),d.jsx("li",{children:"Enhance templates and automation logic"}),d.jsx("li",{children:"Develop better formatting, language, and structure for output"})]}),d.jsx("p",{className:"mb-4",children:"Where reasonable, we aim to use aggregated or de-identified data for these improvements."}),d.jsx("p",{className:"font-semibold mb-1",children:"Communications"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Responding to support inquiries"}),d.jsx("li",{children:"Sending service-related notifications"}),d.jsx("li",{children:"Sending optional marketing or educational emails (you may opt out)"})]}),d.jsx("p",{className:"font-semibold mb-1",children:"Security and compliance"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Monitoring for fraud, abuse, or unauthorized use"}),d.jsx("li",{children:"Complying with legal obligations and enforcing our Terms & Conditions"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"5. AI Processing and Model Improvement"}),d.jsx("p",{className:"mb-4",children:"Our Service uses AI to transform your input (bid notes, client details, project descriptions, etc.) into structured, formatted bid documents."}),d.jsx("p",{className:"font-semibold mb-1",children:"We may use your Customer Data to:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Train, fine-tune, or configure internal models and templates"}),d.jsx("li",{children:"Test new features, patches, and updates"}),d.jsx("li",{children:"Use aggregated or de-identified data for model improvement where practical"})]}),d.jsx("p",{className:"mb-4",children:"We do not sell your Customer Data as a data broker. We also do not use your data to train public/open models."}),d.jsx("p",{className:"mb-4",children:"If you require limitations on data use (e.g., exclusion from model improvement), contact us to discuss options."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"6. Legal Bases (for EEA/UK Users)"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Contract performance"}),d.jsx("li",{children:"Legitimate interests"}),d.jsx("li",{children:"Consent (e.g., marketing communications)"})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"7. How We Share Information"}),d.jsx("p",{className:"mb-4",children:"We may share information as follows:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Service providers (hosting, email, payments, analytics, AI infra)"}),d.jsx("li",{children:"Business transfers (mergers, acquisitions, financing)"}),d.jsx("li",{children:"Legal obligations"}),d.jsx("li",{children:"With your consent"})]}),d.jsx("p",{className:"mb-4",children:"We do not sell personal information to third parties."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"8. Data Retention"}),d.jsx("p",{className:"mb-4",children:"We retain information as long as necessary to provide the Service, comply with laws, and resolve disputes. Aggregated or de-identified data may be retained longer."}),d.jsx("p",{className:"mb-4",children:"To request deletion, contact us. Some data may be retained as required by law."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"9. Data Security"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Encrypted connections (HTTPS)"}),d.jsx("li",{children:"Access controls and authentication"}),d.jsx("li",{children:"Limiting access to personnel who require it"})]}),d.jsx("p",{className:"mb-4",children:"No method is 100% secure, and we cannot guarantee absolute protection."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"10. Your Rights and Choices"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Accessing your personal information"}),d.jsx("li",{children:"Correcting inaccurate data"}),d.jsx("li",{children:"Requesting deletion (where legally permitted)"}),d.jsx("li",{children:"Restricting or objecting to certain processing"}),d.jsx("li",{children:"Requesting a portable copy of your data"})]}),d.jsx("p",{className:"mb-4",children:"You may also unsubscribe from marketing emails or adjust cookie settings."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"11. Childrens Privacy"}),d.jsx("p",{className:"mb-4",children:"Our Service is intended for business use and not for children. We do not knowingly collect data from children under 13."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"12. International Data Transfers"}),d.jsx("p",{className:"mb-4",children:"Your data may be transferred to, stored in, or processed in countries with different laws. Where required, we apply appropriate safeguards."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"13. Changes to This Privacy Policy"}),d.jsx("p",{className:"mb-4",children:"We may update this Policy periodically. Continued use of the Service indicates acceptance of the updated Policy."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"14. Contact Us"}),d.jsxs("p",{className:"mb-4",children:["Suros Logic Systems, LLC",d.jsx("br",{}),"Email: support@suroslogic.com"]})]})]})}function AU(){const t=wr();return d.jsxs("div",{className:"suros-gradient min-h-screen w-full",children:[d.jsx("div",{className:"flex items-center mb-10 px-6 pt-10",children:d.jsx("button",{onClick:()=>t("/"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"})}),d.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md mb-20 text-gray-900",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Terms & Conditions (Terms of Service)  Suros Logic Systems, LLC"}),d.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Last updated: 12/12/2025"}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"1. Acceptance of Terms"}),d.jsx("p",{className:"mb-4",children:"These Terms & Conditions (Terms) govern your access to and use of the services provided by Suros Logic Systems (Suros Logic Systems, we, us, or our), including our website, web applications, and related tools (collectively, the Service)."}),d.jsx("p",{className:"mb-4",children:"By creating an account, using, or accessing the Service, you agree to be bound by these Terms. If you are using the Service on behalf of a company or other legal entity, you represent that you are authorized to bind that entity, and you refers to that entity."}),d.jsx("p",{className:"mb-4",children:"If you do not agree to these Terms, do not use the Service."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"2. Eligibility"}),d.jsx("p",{className:"mb-4",children:"You may use the Service only if:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"You are at least 18 years old (or of legal age in your jurisdiction), and"}),d.jsx("li",{children:"You have the authority to enter into these Terms."})]}),d.jsx("p",{className:"mb-4",children:"You agree that you are using the Service for business or professional purposes, not as a consumer."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"3. Description of the Service"}),d.jsx("p",{className:"mb-4",children:"Suros Logic Systems provides subscription-based tools that allow contractors and similar professionals to:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Enter basic bid data and project details (including client information and pricing),"}),d.jsx("li",{children:"Use AI-powered processing to expand and format that information into professional, structured bid documents,"}),d.jsx("li",{children:"Receive those bid documents via email or other delivery methods."})]}),d.jsx("p",{className:"mb-4",children:"We may update, modify, or discontinue features from time to time as part of ongoing improvements and rollout patches."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"4. Account Registration"}),d.jsx("p",{className:"mb-4",children:"To use certain features, you must create an account and provide accurate, current, and complete information."}),d.jsx("p",{className:"mb-4",children:"You are responsible for:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Maintaining the confidentiality of your login credentials,"}),d.jsx("li",{children:"All activities that occur under your account,"}),d.jsx("li",{children:"Promptly notifying us of any unauthorized access or security breach."})]}),d.jsx("p",{className:"mb-4",children:"We reserve the right to suspend or terminate accounts that violate these Terms."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"5. Subscription Plans, Fees & Payment"}),d.jsx("p",{className:"font-semibold",children:"Subscription Plans"}),d.jsx("p",{className:"mb-4",children:"Access to the Service may require purchasing one of our monthly (or other periodic) subscription plans (Plan). Details (features, limits, pricing) will be provided on our website or in a separate order form."}),d.jsx("p",{className:"font-semibold",children:"Billing"}),d.jsxs("p",{className:"mb-4",children:["You authorize us and/or our payment processor to charge your payment method on a recurring basis for the applicable Plan.",d.jsx("br",{}),"Plans will automatically renew at the end of each billing period unless you cancel in accordance with our cancellation policy."]}),d.jsx("p",{className:"font-semibold",children:"Changes to Fees"}),d.jsx("p",{className:"mb-4",children:"We may change the fees for Plans from time to time. If we do, we will provide notice before changes take effect."}),d.jsx("p",{className:"font-semibold",children:"Refunds"}),d.jsx("p",{className:"mb-4",children:"Unless expressly stated otherwise, all fees are non-refundable to the fullest extent permitted by law."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"6. Your Responsibilities and Acceptable Use"}),d.jsx("p",{className:"mb-4",children:"You agree that you will:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Provide only accurate and lawful information in the Service."}),d.jsx("li",{children:"Ensure that you have all necessary permissions to submit any personal or project data (including your clients data)."}),d.jsx("li",{children:"Use the Service in compliance with applicable laws and regulations."})]}),d.jsx("p",{className:"mb-4",children:"You agree that you will not:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Use the Service for illegal or fraudulent activities."}),d.jsx("li",{children:"Upload malicious code, viruses, or perform actions that could damage or disrupt the Service."}),d.jsx("li",{children:"Attempt to access or scrape other users data."}),d.jsx("li",{children:"Reverse-engineer, decompile, or attempt to derive source code from the Service."}),d.jsx("li",{children:"Use the Service to generate misleading, fraudulent, or deceptive documents."})]}),d.jsx("p",{className:"mb-4",children:"We may suspend or terminate your access if you violate these obligations."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"7. Customer Data and License to Use"}),d.jsx("h3",{className:"text-lg font-semibold mt-4",children:"7.1 Customer Data"}),d.jsx("p",{className:"mb-4",children:"Customer Data means any data, content, or information you submit to the Service, including but not limited to:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Client names and contact details"}),d.jsx("li",{children:"Project addresses and property information"}),d.jsx("li",{children:"Scopes of work, pricing, and line items"}),d.jsx("li",{children:"Notes and instructions for bids"}),d.jsx("li",{children:"Any other information you input into the system"})]}),d.jsx("p",{className:"mb-4",children:"You retain ownership of your Customer Data."}),d.jsx("h3",{className:"text-lg font-semibold mt-4",children:"7.2 License Granted to Suros Logic Systems"}),d.jsx("p",{className:"mb-4",children:"To operate and improve the Service, you grant Suros Logic Systems a non-exclusive, worldwide, royalty-free license to:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Use, host, store, reproduce, modify, adapt, and process Customer Data as necessary to provide the Service."}),d.jsx("li",{children:"Develop, test, and improve internal AI models, templates, and features."}),d.jsx("li",{children:"Create aggregated and/or de-identified datasets."})]}),d.jsx("p",{className:"mb-4",children:"You represent and warrant that you have all necessary rights to provide Customer Data and that our use will not violate any third-party rights or laws."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"8. Output and Use of AI-Generated Bids"}),d.jsx("p",{className:"mb-4",children:"The Service generates bid documents and related outputs (Output) based on your inputs and our AI systems."}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Output may contain errors or omissions."}),d.jsx("li",{children:"You remain solely responsible for reviewing all Output."}),d.jsx("li",{children:"Suros Logic Systems is not a contractor, engineer, or legal advisor."})]}),d.jsx("p",{className:"mb-4",children:"You are responsible for how you use Output in your business."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"9. Intellectual Property"}),d.jsx("p",{className:"mb-4",children:"Except for Customer Data, all rights in the Serviceincluding software, AI models, algorithms, templates, branding, and documentationare owned by Suros Logic Systems or its licensors."}),d.jsx("p",{className:"mb-4",children:"You are granted a limited, non-exclusive, non-transferable, revocable license to use the Service for your internal business purposes."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"10. Third-Party Services and Integrations"}),d.jsx("p",{className:"mb-4",children:"The Service may integrate with or rely on third-party services. Their terms may apply. We aim to use reputable providers but are not responsible for their actions."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"11. Confidentiality"}),d.jsx("p",{className:"mb-4",children:"Each party may receive confidential information from the other. Both parties agree to keep such information confidential and use it only as necessary for the Service."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"12. Disclaimers"}),d.jsx("p",{className:"mb-4",children:"The Service is provided AS IS and AS AVAILABLE. We do not warrant:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"That the Service will be uninterrupted, timely, secure, or error-free;"}),d.jsx("li",{children:"That Output will be accurate or suitable for your purposes;"}),d.jsx("li",{children:"That the Service will meet your requirements or regulatory obligations."})]}),d.jsx("p",{className:"mb-4",children:"You are responsible for verifying all bid documents before using them professionally."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"13. Limitation of Liability"}),d.jsx("p",{className:"mb-4",children:"To the fullest extent permitted by law:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Suros Logic Systems is not liable for indirect, incidental, special, consequential, or punitive damages."}),d.jsx("li",{children:"Our total liability will not exceed the amounts paid in the previous 12 months."})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"14. Indemnification"}),d.jsx("p",{className:"mb-4",children:"You agree to indemnify Suros Logic Systems, LLC against claims arising from:"}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Your use of the Service or Output,"}),d.jsx("li",{children:"Your violation of these Terms,"}),d.jsx("li",{children:"Your infringement of third-party rights,"}),d.jsx("li",{children:"Your provision of Customer Data without proper rights."})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"15. Term and Termination"}),d.jsx("p",{className:"mb-4",children:"These Terms remain in effect while you use the Service. We may suspend or terminate your access at any time for violations or non-payment."}),d.jsx("p",{className:"mb-4",children:"Upon termination, your right to use the Service ends. Certain provisions survive termination."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"16. Governing Law and Dispute Resolution"}),d.jsx("p",{className:"mb-4",children:"These Terms are governed by the laws of the State of [State]. You agree that any disputes will be brought exclusively in the courts located in [County, State]."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"17. Changes to the Service and These Terms"}),d.jsx("p",{className:"mb-4",children:"We may modify or discontinue parts of the Service or update these Terms. Continued use signifies acceptance."}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"18. Miscellaneous"}),d.jsx("p",{className:"mb-4",children:"These Terms, along with the Privacy Policy, constitute the entire agreement between you and us."}),d.jsxs("ul",{className:"list-disc ml-8 mb-4",children:[d.jsx("li",{children:"Severability: Invalid provisions do not affect the remainder."}),d.jsx("li",{children:"No Waiver: Failure to enforce rights is not a waiver."}),d.jsx("li",{children:"Assignment: You may not transfer these Terms without consent."}),d.jsx("li",{children:"Force Majeure: We are not liable for delays outside our control."})]}),d.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"19. Contact Information"}),d.jsxs("p",{className:"mb-4",children:["Suros Logic Systems, LLC",d.jsx("br",{}),"Email: support@suroslogic.com"]})]})]})}function RU(){const t=wr(),e=hl.currentUser,[n,r]=C.useState([]),[s,i]=C.useState(!1),[o,a]=C.useState(!1),[c,u]=C.useState(null),[h,f]=C.useState(""),[m,g]=C.useState(""),[T,w]=C.useState(null),[x,_]=C.useState(!1);C.useEffect(()=>{if(!e)return;const D=$6(tx(ji,"bidUploads"),B6("userId","==",e.uid));return K6(D,S=>{const b=[];S.forEach(A=>{b.push({id:A.id,...A.data()})}),b.sort((A,R)=>{var N,j;return(((N=R.timeOfCreation)==null?void 0:N.seconds)||0)-(((j=A.timeOfCreation)==null?void 0:j.seconds)||0)}),r(b)})},[e]);const v=D=>{var S;const O=(S=D.target.files)==null?void 0:S[0];if(O){if(O.size>2*1024*1024){alert("File must be under 2MB."),D.target.value="";return}u(O),i(!0)}},E=async()=>{if(!c||!h.trim()||!e)return;const D=`bids/${e.uid}/${Date.now()}-${c.name}`,O=fx(px,D);await oU(O,c);const S=await aU(O);await G6(tx(ji,"bidUploads"),{userId:e.uid,title:h,description:m,fileName:c.name,fileType:c.type,fileSize:c.size,readableSize:(c.size/1024/1024).toFixed(2)+" MB",storagePath:D,downloadURL:S,timeOfCreation:Q6()}),i(!1),u(null),f(""),g(""),a(!0),setTimeout(()=>{a(!1)},2e3)},k=async()=>{T&&(await q6(ua(ji,"bidUploads",T.id)),await lU(fx(px,T.storagePath)),w(null))};return d.jsxs("div",{className:"suros-gradient viewbids-page",children:[d.jsx("button",{onClick:()=>t("/"),style:{position:"fixed",top:"20px",left:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:" Back"}),d.jsxs("div",{className:"viewbids-container",children:[d.jsx("h1",{className:"dashboard-title",children:"My Bids"}),d.jsx("p",{className:"dashboard-subtitle",children:"A centralized place to store, organize, and access all of your bids."}),n.length===0&&d.jsx("div",{className:"empty-upload-center",children:d.jsxs("label",{className:"upload-btn upload-btn-large",children:["Upload File",d.jsx("input",{type:"file",accept:".png,.jpg,.jpeg,.pdf,.doc,.docx",hidden:!0,onChange:v})]})}),n.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>{var D;return(D=document.getElementById("upload-file-input"))==null?void 0:D.click()},style:{position:"fixed",top:"20px",right:"20px",background:"#1e73be",color:"#fff",padding:"10px 18px",fontSize:"15px",borderRadius:"6px",cursor:"pointer",fontWeight:600,border:"none",zIndex:10},children:"Upload File"}),d.jsx("input",{id:"upload-file-input",type:"file",accept:".png,.jpg,.jpeg,.pdf,.doc,.docx",hidden:!0,onChange:v})]}),o&&d.jsx("div",{className:"alert-success fade-out",children:"Upload completed successfully!"}),n.length>0&&d.jsx("div",{className:"file-list-wrapper",children:d.jsx("ul",{className:"file-list",children:n.map(D=>d.jsxs("li",{className:"file-item file-item-wide",children:[d.jsxs("div",{className:"file-left",children:[d.jsx("p",{className:"file-title",children:D.title}),d.jsx("p",{className:"file-description",children:D.description}),d.jsxs("p",{className:"file-meta",children:[D.fileName,"  ",D.readableSize]})]}),d.jsxs("div",{className:"file-actions",children:[d.jsx("a",{href:D.downloadURL,target:"_blank",rel:"noopener noreferrer",children:"Open"}),d.jsx("button",{className:"delete-btn",onClick:()=>w(D),children:"Delete"})]})]},D.id))})})]}),s&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal",children:[d.jsx("label",{children:"Title"}),d.jsx("input",{className:"modal-input",style:{borderColor:x?"#ff4d4f":void 0},value:h,onChange:D=>{f(D.target.value),x&&_(!1)}}),x&&d.jsx("p",{style:{color:"#ff4d4f",fontSize:"0.85rem",marginTop:"-10px"},children:"Title is required"}),d.jsx("label",{children:"Description"}),d.jsx("textarea",{className:"modal-textarea",value:m,onChange:D=>g(D.target.value)}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{className:"cancel-btn",onClick:()=>i(!1),children:"Cancel"}),d.jsx("button",{className:"confirm-btn",onClick:()=>{if(!h.trim()){_(!0);return}_(!1),E()},children:"Upload"})]})]})}),T&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal delete-modal",children:[d.jsx("h2",{className:"delete-title",children:"Delete Bid"}),d.jsxs("p",{className:"delete-message",children:["Are you sure you want to permanently delete",d.jsxs("strong",{children:[" ",T.title,""]}),"?"]}),d.jsx("p",{className:"delete-warning",children:"This action cannot be undone."}),d.jsxs("div",{className:"delete-actions",children:[d.jsx("button",{className:"delete-cancel-btn",onClick:()=>w(null),children:"Cancel"}),d.jsx("button",{className:"delete-confirm-btn",onClick:k,children:"Delete"})]})]})})]})}function PU(){var a;const[t,e]=C.useState(""),[n,r]=C.useState(null),[s,i]=C.useState(!1),o=async()=>{try{i(!0);const u=await(await fetch("undefined/api/generate-estimate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t})})).json();r(u)}catch(c){console.error(c)}finally{i(!1)}};return d.jsxs("div",{style:{maxWidth:600,margin:"40px auto"},children:[d.jsx("h2",{children:"Generate Price Estimate"}),d.jsx("textarea",{rows:6,value:t,onChange:c=>e(c.target.value),placeholder:"Describe the project...",style:{width:"100%",padding:10,color:"#000",backgroundColor:"#fff"}}),d.jsx("button",{onClick:o,disabled:s,style:{marginTop:10},children:s?"Generating...":"Generate Price Estimate"}),n&&d.jsxs("div",{style:{marginTop:20},children:[n.status==="incomplete"&&d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"More Info Needed:"}),d.jsx("ul",{children:(a=n.questions)==null?void 0:a.map((c,u)=>d.jsx("li",{children:c},u))})]}),n.status==="complete"&&d.jsxs(d.Fragment,{children:[typeof n.estimate=="object"?d.jsxs(d.Fragment,{children:[d.jsxs("h3",{children:["Total: $",n.estimate.total_cost]}),d.jsxs("p",{children:["Material: $",n.estimate.material_cost]}),d.jsxs("p",{children:["Labor: $",n.estimate.labor_cost]})]}):d.jsxs("h3",{children:["Estimated Price: ",n.estimate]}),d.jsx("p",{children:n.explanation})]})]})]})}const NU=new Nj,kU=()=>d.jsx(jj,{client:NU,children:d.jsxs(aj,{children:[d.jsx(WN,{}),d.jsx(Ek,{}),d.jsx(uC,{children:d.jsx(PD,{children:d.jsxs(bD,{children:[d.jsx(dn,{path:"/",element:d.jsx(pU,{})}),d.jsx(dn,{path:"/auth",element:d.jsx(xU,{})}),d.jsx(dn,{path:"/estimate",element:d.jsx(PU,{})}),d.jsx(dn,{path:"/privacy",element:d.jsx(CU,{})}),d.jsx(dn,{path:"/terms",element:d.jsx(AU,{})}),d.jsx(dn,{path:"/dashboard",element:d.jsx(tl,{children:d.jsx(SU,{})})}),d.jsx(dn,{path:"/edit-profile",element:d.jsx(tl,{children:d.jsx(IU,{})})}),d.jsx(dn,{path:"/form/bid_form",element:d.jsx(tl,{children:d.jsx(vU,{})})}),d.jsx(dn,{path:"/form/test",element:d.jsx(tl,{children:d.jsx(wU,{})})}),d.jsx(dn,{path:"/view-bids",element:d.jsx(tl,{children:d.jsx(RU,{})})}),d.jsx(dn,{path:"*",element:d.jsx(mU,{})})]})})})]})});B1(document.getElementById("root")).render(d.jsx(uC,{children:d.jsx(kU,{})}));
