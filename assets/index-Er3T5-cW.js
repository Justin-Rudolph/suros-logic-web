var wy=t=>{throw TypeError(t)};var dh=(t,e,n)=>e.has(t)||wy("Cannot "+n);var F=(t,e,n)=>(dh(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?wy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),oe=(t,e,n,r)=>(dh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),pt=(t,e,n)=>(dh(t,e,"access private method"),n);var uc=(t,e,n,r)=>({set _(i){oe(t,e,i,n)},get _(){return F(t,e,r)}});function yI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ew(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tw={exports:{}},id={},nw={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=Symbol.for("react.element"),vI=Symbol.for("react.portal"),_I=Symbol.for("react.fragment"),wI=Symbol.for("react.strict_mode"),EI=Symbol.for("react.profiler"),TI=Symbol.for("react.provider"),xI=Symbol.for("react.context"),SI=Symbol.for("react.forward_ref"),II=Symbol.for("react.suspense"),CI=Symbol.for("react.memo"),bI=Symbol.for("react.lazy"),Ey=Symbol.iterator;function AI(t){return t===null||typeof t!="object"?null:(t=Ey&&t[Ey]||t["@@iterator"],typeof t=="function"?t:null)}var rw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iw=Object.assign,sw={};function zo(t,e,n){this.props=t,this.context=e,this.refs=sw,this.updater=n||rw}zo.prototype.isReactComponent={};zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ow(){}ow.prototype=zo.prototype;function $p(t,e,n){this.props=t,this.context=e,this.refs=sw,this.updater=n||rw}var Bp=$p.prototype=new ow;Bp.constructor=$p;iw(Bp,zo.prototype);Bp.isPureReactComponent=!0;var Ty=Array.isArray,aw=Object.prototype.hasOwnProperty,Hp={current:null},lw={key:!0,ref:!0,__self:!0,__source:!0};function cw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)aw.call(e,r)&&!lw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ol,type:t,key:s,ref:o,props:i,_owner:Hp.current}}function PI(t,e){return{$$typeof:Ol,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ol}function RI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xy=/\/+/g;function hh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RI(""+t.key):e.toString(36)}function zc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ol:case vI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hh(o,0):r,Ty(i)?(n="",t!=null&&(n=t.replace(xy,"$&/")+"/"),zc(i,e,n,"",function(u){return u})):i!=null&&(Wp(i)&&(i=PI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ty(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+hh(s,l);o+=zc(s,e,n,c,i)}else if(c=AI(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+hh(s,l++),o+=zc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dc(t,e,n){if(t==null)return t;var r=[],i=0;return zc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function kI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},$c={transition:null},NI={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:$c,ReactCurrentOwner:Hp};function uw(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:dc,forEach:function(t,e,n){dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dc(t,function(){e++}),e},toArray:function(t){return dc(t,function(e){return e})||[]},only:function(t){if(!Wp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=zo;he.Fragment=_I;he.Profiler=EI;he.PureComponent=$p;he.StrictMode=wI;he.Suspense=II;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NI;he.act=uw;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)aw.call(e,c)&&!lw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ol,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:xI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TI,_context:t},t.Consumer=t};he.createElement=cw;he.createFactory=function(t){var e=cw.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:SI,render:t}};he.isValidElement=Wp;he.lazy=function(t){return{$$typeof:bI,_payload:{_status:-1,_result:t},_init:kI}};he.memo=function(t,e){return{$$typeof:CI,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=$c.transition;$c.transition={};try{t()}finally{$c.transition=e}};he.unstable_act=uw;he.useCallback=function(t,e){return kt.current.useCallback(t,e)};he.useContext=function(t){return kt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};he.useEffect=function(t,e){return kt.current.useEffect(t,e)};he.useId=function(){return kt.current.useId()};he.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return kt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};he.useRef=function(t){return kt.current.useRef(t)};he.useState=function(t){return kt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return kt.current.useTransition()};he.version="18.3.1";nw.exports=he;var P=nw.exports;const H=ew(P),dw=yI({__proto__:null,default:H},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OI=P,DI=Symbol.for("react.element"),LI=Symbol.for("react.fragment"),MI=Object.prototype.hasOwnProperty,VI=OI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jI={key:!0,ref:!0,__self:!0,__source:!0};function hw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)MI.call(e,r)&&!jI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DI,type:t,key:s,ref:o,props:i,_owner:VI.current}}id.Fragment=LI;id.jsx=hw;id.jsxs=hw;tw.exports=id;var y=tw.exports,fw={exports:{}},Jt={},pw={exports:{}},mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,z){var K=j.length;j.push(z);e:for(;0<K;){var ne=K-1>>>1,X=j[ne];if(0<i(X,z))j[ne]=z,j[K]=X,K=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],K=j.pop();if(K!==z){j[0]=K;e:for(var ne=0,X=j.length,ue=X>>>1;ne<ue;){var le=2*(ne+1)-1,Re=j[le],He=le+1,me=j[He];if(0>i(Re,K))He<X&&0>i(me,Re)?(j[ne]=me,j[He]=K,ne=He):(j[ne]=Re,j[le]=K,ne=le);else if(He<X&&0>i(me,K))j[ne]=me,j[He]=K,ne=He;else break e}}return z}function i(j,z){var K=j.sortIndex-z.sortIndex;return K!==0?K:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,C=!1,T=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(j){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=j)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function N(j){if(T=!1,E(j),!C)if(n(c)!==null)C=!0,te(D);else{var z=n(u);z!==null&&ie(N,z.startTime-j)}}function D(j,z){C=!1,T&&(T=!1,v(x),x=-1),p=!0;var K=m;try{for(E(z),f=n(c);f!==null&&(!(f.expirationTime>z)||j&&!k());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var X=ne(f.expirationTime<=z);z=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),E(z)}else r(c);f=n(c)}if(f!==null)var ue=!0;else{var le=n(u);le!==null&&ie(N,le.startTime-z),ue=!1}return ue}finally{f=null,m=K,p=!1}}var M=!1,S=null,x=-1,b=5,A=-1;function k(){return!(t.unstable_now()-A<b)}function O(){if(S!==null){var j=t.unstable_now();A=j;var z=!0;try{z=S(!0,j)}finally{z?R():(M=!1,S=null)}}else M=!1}var R;if(typeof _=="function")R=function(){_(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,re=B.port2;B.port1.onmessage=O,R=function(){re.postMessage(null)}}else R=function(){w(O,0)};function te(j){S=j,M||(M=!0,R())}function ie(j,z){x=w(function(){j(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){C||p||(C=!0,te(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var K=m;m=z;try{return j()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=m;m=j;try{return z()}finally{m=K}},t.unstable_scheduleCallback=function(j,z,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=K+X,j={id:d++,callback:z,priorityLevel:j,startTime:K,expirationTime:X,sortIndex:-1},K>ne?(j.sortIndex=K,e(u,j),n(c)===null&&j===n(u)&&(T?(v(x),x=-1):T=!0,ie(N,K-ne))):(j.sortIndex=X,e(c,j),C||p||(C=!0,te(D))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var z=m;return function(){var K=m;m=z;try{return j.apply(this,arguments)}finally{m=K}}}})(mw);pw.exports=mw;var FI=pw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI=P,Xt=FI;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gw=new Set,el={};function As(t,e){xo(t,e),xo(t+"Capture",e)}function xo(t,e){for(el[t]=e,t=0;t<e.length;t++)gw.add(e[t])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cf=Object.prototype.hasOwnProperty,zI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sy={},Iy={};function $I(t){return cf.call(Iy,t)?!0:cf.call(Sy,t)?!1:zI.test(t)?Iy[t]=!0:(Sy[t]=!0,!1)}function BI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HI(t,e,n,r){if(e===null||typeof e>"u"||BI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var qp=/[\-:]([a-z])/g;function Kp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qp,Kp);ht[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qp,Kp);ht[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qp,Kp);ht[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gp(t,e,n,r){var i=ht.hasOwnProperty(e)?ht[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HI(e,n,i,r)&&(n=null),r||i===null?$I(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=UI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hc=Symbol.for("react.element"),$s=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Qp=Symbol.for("react.strict_mode"),uf=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),vw=Symbol.for("react.context"),Yp=Symbol.for("react.forward_ref"),df=Symbol.for("react.suspense"),hf=Symbol.for("react.suspense_list"),Xp=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),_w=Symbol.for("react.offscreen"),Cy=Symbol.iterator;function ya(t){return t===null||typeof t!="object"?null:(t=Cy&&t[Cy]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,fh;function ba(t){if(fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fh=e&&e[1]||""}return`
`+fh+t}var ph=!1;function mh(t,e){if(!t||ph)return"";ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{ph=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ba(t):""}function WI(t){switch(t.tag){case 5:return ba(t.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 2:case 15:return t=mh(t.type,!1),t;case 11:return t=mh(t.type.render,!1),t;case 1:return t=mh(t.type,!0),t;default:return""}}function ff(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case $s:return"Portal";case uf:return"Profiler";case Qp:return"StrictMode";case df:return"Suspense";case hf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vw:return(t.displayName||"Context")+".Consumer";case yw:return(t._context.displayName||"Context")+".Provider";case Yp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xp:return e=t.displayName||null,e!==null?e:ff(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return ff(t(e))}catch{}}return null}function qI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ff(e);case 8:return e===Qp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ww(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KI(t){var e=ww(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fc(t){t._valueTracker||(t._valueTracker=KI(t))}function Ew(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ww(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function du(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pf(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function by(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=bi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tw(t,e){e=e.checked,e!=null&&Gp(t,"checked",e,!1)}function mf(t,e){Tw(t,e);var n=bi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gf(t,e.type,n):e.hasOwnProperty("defaultValue")&&gf(t,e.type,bi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ay(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gf(t,e,n){(e!=="number"||du(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Aa=Array.isArray;function to(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Py(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Aa(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bi(n)}}function xw(t,e){var n=bi(e.value),r=bi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ry(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pc,Iw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pc=pc||document.createElement("div"),pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GI=["Webkit","ms","Moz","O"];Object.keys(Va).forEach(function(t){GI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Va[e]=Va[t]})});function Cw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Va.hasOwnProperty(t)&&Va[t]?(""+e).trim():e+"px"}function bw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QI=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _f(t,e){if(e){if(QI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function wf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=null;function Jp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tf=null,no=null,ro=null;function ky(t){if(t=Ml(t)){if(typeof Tf!="function")throw Error($(280));var e=t.stateNode;e&&(e=cd(e),Tf(t.stateNode,t.type,e))}}function Aw(t){no?ro?ro.push(t):ro=[t]:no=t}function Pw(){if(no){var t=no,e=ro;if(ro=no=null,ky(t),e)for(t=0;t<e.length;t++)ky(e[t])}}function Rw(t,e){return t(e)}function kw(){}var gh=!1;function Nw(t,e,n){if(gh)return t(e,n);gh=!0;try{return Rw(t,e,n)}finally{gh=!1,(no!==null||ro!==null)&&(kw(),Pw())}}function nl(t,e){var n=t.stateNode;if(n===null)return null;var r=cd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var xf=!1;if(wr)try{var va={};Object.defineProperty(va,"passive",{get:function(){xf=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{xf=!1}function YI(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ja=!1,hu=null,fu=!1,Sf=null,XI={onError:function(t){ja=!0,hu=t}};function JI(t,e,n,r,i,s,o,l,c){ja=!1,hu=null,YI.apply(XI,arguments)}function ZI(t,e,n,r,i,s,o,l,c){if(JI.apply(this,arguments),ja){if(ja){var u=hu;ja=!1,hu=null}else throw Error($(198));fu||(fu=!0,Sf=u)}}function Ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ow(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ny(t){if(Ps(t)!==t)throw Error($(188))}function eC(t){var e=t.alternate;if(!e){if(e=Ps(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ny(i),t;if(s===r)return Ny(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Dw(t){return t=eC(t),t!==null?Lw(t):null}function Lw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lw(t);if(e!==null)return e;t=t.sibling}return null}var Mw=Xt.unstable_scheduleCallback,Oy=Xt.unstable_cancelCallback,tC=Xt.unstable_shouldYield,nC=Xt.unstable_requestPaint,$e=Xt.unstable_now,rC=Xt.unstable_getCurrentPriorityLevel,Zp=Xt.unstable_ImmediatePriority,Vw=Xt.unstable_UserBlockingPriority,pu=Xt.unstable_NormalPriority,iC=Xt.unstable_LowPriority,jw=Xt.unstable_IdlePriority,sd=null,Gn=null;function sC(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(sd,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:lC,oC=Math.log,aC=Math.LN2;function lC(t){return t>>>=0,t===0?32:31-(oC(t)/aC|0)|0}var mc=64,gc=4194304;function Pa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Pa(l):(s&=o,s!==0&&(r=Pa(s)))}else o=n&~i,o!==0?r=Pa(o):s!==0&&(r=Pa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),i=1<<n,r|=t[n],e&=~i;return r}function cC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xn(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=cC(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function If(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fw(){var t=mc;return mc<<=1,!(mc&4194240)&&(mc=64),t}function yh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function dC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function em(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function Uw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zw,tm,$w,Bw,Hw,Cf=!1,yc=[],hi=null,fi=null,pi=null,rl=new Map,il=new Map,Yr=[],hC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dy(t,e){switch(t){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(e.pointerId)}}function _a(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ml(e),e!==null&&tm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fC(t,e,n,r,i){switch(e){case"focusin":return hi=_a(hi,t,e,n,r,i),!0;case"dragenter":return fi=_a(fi,t,e,n,r,i),!0;case"mouseover":return pi=_a(pi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return rl.set(s,_a(rl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,il.set(s,_a(il.get(s)||null,t,e,n,r,i)),!0}return!1}function Ww(t){var e=ns(t.target);if(e!==null){var n=Ps(e);if(n!==null){if(e=n.tag,e===13){if(e=Ow(n),e!==null){t.blockedOn=e,Hw(t.priority,function(){$w(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ef=r,n.target.dispatchEvent(r),Ef=null}else return e=Ml(n),e!==null&&tm(e),t.blockedOn=n,!1;e.shift()}return!0}function Ly(t,e,n){Bc(t)&&n.delete(e)}function pC(){Cf=!1,hi!==null&&Bc(hi)&&(hi=null),fi!==null&&Bc(fi)&&(fi=null),pi!==null&&Bc(pi)&&(pi=null),rl.forEach(Ly),il.forEach(Ly)}function wa(t,e){t.blockedOn===e&&(t.blockedOn=null,Cf||(Cf=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,pC)))}function sl(t){function e(i){return wa(i,t)}if(0<yc.length){wa(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hi!==null&&wa(hi,t),fi!==null&&wa(fi,t),pi!==null&&wa(pi,t),rl.forEach(e),il.forEach(e),n=0;n<Yr.length;n++)r=Yr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)Ww(n),n.blockedOn===null&&Yr.shift()}var io=Pr.ReactCurrentBatchConfig,gu=!0;function mC(t,e,n,r){var i=Te,s=io.transition;io.transition=null;try{Te=1,nm(t,e,n,r)}finally{Te=i,io.transition=s}}function gC(t,e,n,r){var i=Te,s=io.transition;io.transition=null;try{Te=4,nm(t,e,n,r)}finally{Te=i,io.transition=s}}function nm(t,e,n,r){if(gu){var i=bf(t,e,n,r);if(i===null)bh(t,e,r,yu,n),Dy(t,r);else if(fC(i,t,e,n,r))r.stopPropagation();else if(Dy(t,r),e&4&&-1<hC.indexOf(t)){for(;i!==null;){var s=Ml(i);if(s!==null&&zw(s),s=bf(t,e,n,r),s===null&&bh(t,e,r,yu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bh(t,e,r,null,n)}}var yu=null;function bf(t,e,n,r){if(yu=null,t=Jp(r),t=ns(t),t!==null)if(e=Ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ow(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yu=t,null}function qw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rC()){case Zp:return 1;case Vw:return 4;case pu:case iC:return 16;case jw:return 536870912;default:return 16}default:return 16}}var ai=null,rm=null,Hc=null;function Kw(){if(Hc)return Hc;var t,e=rm,n=e.length,r,i="value"in ai?ai.value:ai.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Hc=i.slice(t,1<r?1-r:void 0)}function Wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vc(){return!0}function My(){return!1}function Zt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vc:My,this.isPropagationStopped=My,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),e}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},im=Zt($o),Ll=Ve({},$o,{view:0,detail:0}),yC=Zt(Ll),vh,_h,Ea,od=Ve({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ea&&(Ea&&t.type==="mousemove"?(vh=t.screenX-Ea.screenX,_h=t.screenY-Ea.screenY):_h=vh=0,Ea=t),vh)},movementY:function(t){return"movementY"in t?t.movementY:_h}}),Vy=Zt(od),vC=Ve({},od,{dataTransfer:0}),_C=Zt(vC),wC=Ve({},Ll,{relatedTarget:0}),wh=Zt(wC),EC=Ve({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),TC=Zt(EC),xC=Ve({},$o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SC=Zt(xC),IC=Ve({},$o,{data:0}),jy=Zt(IC),CC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AC[t])?!!e[t]:!1}function sm(){return PC}var RC=Ve({},Ll,{key:function(t){if(t.key){var e=CC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sm,charCode:function(t){return t.type==="keypress"?Wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kC=Zt(RC),NC=Ve({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=Zt(NC),OC=Ve({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sm}),DC=Zt(OC),LC=Ve({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),MC=Zt(LC),VC=Ve({},od,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jC=Zt(VC),FC=[9,13,27,32],om=wr&&"CompositionEvent"in window,Fa=null;wr&&"documentMode"in document&&(Fa=document.documentMode);var UC=wr&&"TextEvent"in window&&!Fa,Gw=wr&&(!om||Fa&&8<Fa&&11>=Fa),Uy=" ",zy=!1;function Qw(t,e){switch(t){case"keyup":return FC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function zC(t,e){switch(t){case"compositionend":return Yw(e);case"keypress":return e.which!==32?null:(zy=!0,Uy);case"textInput":return t=e.data,t===Uy&&zy?null:t;default:return null}}function $C(t,e){if(Hs)return t==="compositionend"||!om&&Qw(t,e)?(t=Kw(),Hc=rm=ai=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gw&&e.locale!=="ko"?null:e.data;default:return null}}var BC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BC[t.type]:e==="textarea"}function Xw(t,e,n,r){Aw(r),e=vu(e,"onChange"),0<e.length&&(n=new im("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ua=null,ol=null;function HC(t){lE(t,0)}function ad(t){var e=Ks(t);if(Ew(e))return t}function WC(t,e){if(t==="change")return e}var Jw=!1;if(wr){var Eh;if(wr){var Th="oninput"in document;if(!Th){var By=document.createElement("div");By.setAttribute("oninput","return;"),Th=typeof By.oninput=="function"}Eh=Th}else Eh=!1;Jw=Eh&&(!document.documentMode||9<document.documentMode)}function Hy(){Ua&&(Ua.detachEvent("onpropertychange",Zw),ol=Ua=null)}function Zw(t){if(t.propertyName==="value"&&ad(ol)){var e=[];Xw(e,ol,t,Jp(t)),Nw(HC,e)}}function qC(t,e,n){t==="focusin"?(Hy(),Ua=e,ol=n,Ua.attachEvent("onpropertychange",Zw)):t==="focusout"&&Hy()}function KC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ad(ol)}function GC(t,e){if(t==="click")return ad(e)}function QC(t,e){if(t==="input"||t==="change")return ad(e)}function YC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:YC;function al(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cf.call(e,i)||!In(t[i],e[i]))return!1}return!0}function Wy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qy(t,e){var n=Wy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wy(n)}}function eE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tE(){for(var t=window,e=du();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=du(t.document)}return e}function am(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XC(t){var e=tE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eE(n.ownerDocument.documentElement,n)){if(r!==null&&am(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qy(n,s);var o=qy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JC=wr&&"documentMode"in document&&11>=document.documentMode,Ws=null,Af=null,za=null,Pf=!1;function Ky(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pf||Ws==null||Ws!==du(r)||(r=Ws,"selectionStart"in r&&am(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),za&&al(za,r)||(za=r,r=vu(Af,"onSelect"),0<r.length&&(e=new im("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ws)))}function _c(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qs={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionend:_c("Transition","TransitionEnd")},xh={},nE={};wr&&(nE=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function ld(t){if(xh[t])return xh[t];if(!qs[t])return t;var e=qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nE)return xh[t]=e[n];return t}var rE=ld("animationend"),iE=ld("animationiteration"),sE=ld("animationstart"),oE=ld("transitionend"),aE=new Map,Gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(t,e){aE.set(t,e),As(e,[t])}for(var Sh=0;Sh<Gy.length;Sh++){var Ih=Gy[Sh],ZC=Ih.toLowerCase(),eb=Ih[0].toUpperCase()+Ih.slice(1);Fi(ZC,"on"+eb)}Fi(rE,"onAnimationEnd");Fi(iE,"onAnimationIteration");Fi(sE,"onAnimationStart");Fi("dblclick","onDoubleClick");Fi("focusin","onFocus");Fi("focusout","onBlur");Fi(oE,"onTransitionEnd");xo("onMouseEnter",["mouseout","mouseover"]);xo("onMouseLeave",["mouseout","mouseover"]);xo("onPointerEnter",["pointerout","pointerover"]);xo("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Qy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZI(r,e,void 0,t),t.currentTarget=null}function lE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Qy(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Qy(i,l,u),s=c}}}if(fu)throw t=Sf,fu=!1,Sf=null,t}function Ae(t,e){var n=e[Df];n===void 0&&(n=e[Df]=new Set);var r=t+"__bubble";n.has(r)||(cE(e,t,2,!1),n.add(r))}function Ch(t,e,n){var r=0;e&&(r|=4),cE(n,t,r,e)}var wc="_reactListening"+Math.random().toString(36).slice(2);function ll(t){if(!t[wc]){t[wc]=!0,gw.forEach(function(n){n!=="selectionchange"&&(tb.has(n)||Ch(n,!1,t),Ch(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wc]||(e[wc]=!0,Ch("selectionchange",!1,e))}}function cE(t,e,n,r){switch(qw(e)){case 1:var i=mC;break;case 4:i=gC;break;default:i=nm}n=i.bind(null,e,n,t),i=void 0,!xf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ns(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Nw(function(){var u=s,d=Jp(n),f=[];e:{var m=aE.get(t);if(m!==void 0){var p=im,C=t;switch(t){case"keypress":if(Wc(n)===0)break e;case"keydown":case"keyup":p=kC;break;case"focusin":C="focus",p=wh;break;case"focusout":C="blur",p=wh;break;case"beforeblur":case"afterblur":p=wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DC;break;case rE:case iE:case sE:p=TC;break;case oE:p=MC;break;case"scroll":p=yC;break;case"wheel":p=jC;break;case"copy":case"cut":case"paste":p=SC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fy}var T=(e&4)!==0,w=!T&&t==="scroll",v=T?m!==null?m+"Capture":null:m;T=[];for(var _=u,E;_!==null;){E=_;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,v!==null&&(N=nl(_,v),N!=null&&T.push(cl(_,N,E)))),w)break;_=_.return}0<T.length&&(m=new p(m,C,null,n,d),f.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Ef&&(C=n.relatedTarget||n.fromElement)&&(ns(C)||C[Er]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(C=n.relatedTarget||n.toElement,p=u,C=C?ns(C):null,C!==null&&(w=Ps(C),C!==w||C.tag!==5&&C.tag!==6)&&(C=null)):(p=null,C=u),p!==C)){if(T=Vy,N="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(T=Fy,N="onPointerLeave",v="onPointerEnter",_="pointer"),w=p==null?m:Ks(p),E=C==null?m:Ks(C),m=new T(N,_+"leave",p,n,d),m.target=w,m.relatedTarget=E,N=null,ns(d)===u&&(T=new T(v,_+"enter",C,n,d),T.target=E,T.relatedTarget=w,N=T),w=N,p&&C)t:{for(T=p,v=C,_=0,E=T;E;E=Vs(E))_++;for(E=0,N=v;N;N=Vs(N))E++;for(;0<_-E;)T=Vs(T),_--;for(;0<E-_;)v=Vs(v),E--;for(;_--;){if(T===v||v!==null&&T===v.alternate)break t;T=Vs(T),v=Vs(v)}T=null}else T=null;p!==null&&Yy(f,m,p,T,!1),C!==null&&w!==null&&Yy(f,w,C,T,!0)}}e:{if(m=u?Ks(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var D=WC;else if($y(m))if(Jw)D=QC;else{D=KC;var M=qC}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=GC);if(D&&(D=D(t,u))){Xw(f,D,n,d);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&gf(m,"number",m.value)}switch(M=u?Ks(u):window,t){case"focusin":($y(M)||M.contentEditable==="true")&&(Ws=M,Af=u,za=null);break;case"focusout":za=Af=Ws=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Ky(f,n,d);break;case"selectionchange":if(JC)break;case"keydown":case"keyup":Ky(f,n,d)}var S;if(om)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Hs?Qw(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Gw&&n.locale!=="ko"&&(Hs||x!=="onCompositionStart"?x==="onCompositionEnd"&&Hs&&(S=Kw()):(ai=d,rm="value"in ai?ai.value:ai.textContent,Hs=!0)),M=vu(u,x),0<M.length&&(x=new jy(x,t,null,n,d),f.push({event:x,listeners:M}),S?x.data=S:(S=Yw(n),S!==null&&(x.data=S)))),(S=UC?zC(t,n):$C(t,n))&&(u=vu(u,"onBeforeInput"),0<u.length&&(d=new jy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}lE(f,e)})}function cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nl(t,n),s!=null&&r.unshift(cl(t,s,i)),s=nl(t,e),s!=null&&r.push(cl(t,s,i))),t=t.return}return r}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=nl(n,s),c!=null&&o.unshift(cl(n,c,l))):i||(c=nl(n,s),c!=null&&o.push(cl(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nb=/\r\n?/g,rb=/\u0000|\uFFFD/g;function Xy(t){return(typeof t=="string"?t:""+t).replace(nb,`
`).replace(rb,"")}function Ec(t,e,n){if(e=Xy(e),Xy(t)!==e&&n)throw Error($(425))}function _u(){}var Rf=null,kf=null;function Nf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Of=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(ob)}:Of;function ob(t){setTimeout(function(){throw t})}function Ah(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sl(e)}function mi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Bo,ul="__reactProps$"+Bo,Er="__reactContainer$"+Bo,Df="__reactEvents$"+Bo,ab="__reactListeners$"+Bo,lb="__reactHandles$"+Bo;function ns(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Er]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zy(t);t!==null;){if(n=t[Hn])return n;t=Zy(t)}return e}t=n,n=t.parentNode}return null}function Ml(t){return t=t[Hn]||t[Er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function cd(t){return t[ul]||null}var Lf=[],Gs=-1;function Ui(t){return{current:t}}function Pe(t){0>Gs||(t.current=Lf[Gs],Lf[Gs]=null,Gs--)}function Ie(t,e){Gs++,Lf[Gs]=t.current,t.current=e}var Ai={},Tt=Ui(Ai),Ut=Ui(!1),vs=Ai;function So(t,e){var n=t.type.contextTypes;if(!n)return Ai;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zt(t){return t=t.childContextTypes,t!=null}function wu(){Pe(Ut),Pe(Tt)}function ev(t,e,n){if(Tt.current!==Ai)throw Error($(168));Ie(Tt,e),Ie(Ut,n)}function uE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,qI(t)||"Unknown",i));return Ve({},n,r)}function Eu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ai,vs=Tt.current,Ie(Tt,t),Ie(Ut,Ut.current),!0}function tv(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=uE(t,e,vs),r.__reactInternalMemoizedMergedChildContext=t,Pe(Ut),Pe(Tt),Ie(Tt,t)):Pe(Ut),Ie(Ut,n)}var fr=null,ud=!1,Ph=!1;function dE(t){fr===null?fr=[t]:fr.push(t)}function cb(t){ud=!0,dE(t)}function zi(){if(!Ph&&fr!==null){Ph=!0;var t=0,e=Te;try{var n=fr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fr=null,ud=!1}catch(i){throw fr!==null&&(fr=fr.slice(t+1)),Mw(Zp,zi),i}finally{Te=e,Ph=!1}}return null}var Qs=[],Ys=0,Tu=null,xu=0,rn=[],sn=0,_s=null,mr=1,gr="";function Xi(t,e){Qs[Ys++]=xu,Qs[Ys++]=Tu,Tu=t,xu=e}function hE(t,e,n){rn[sn++]=mr,rn[sn++]=gr,rn[sn++]=_s,_s=t;var r=mr;t=gr;var i=32-xn(r)-1;r&=~(1<<i),n+=1;var s=32-xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mr=1<<32-xn(e)+i|n<<i|r,gr=s+t}else mr=1<<s|n<<i|r,gr=t}function lm(t){t.return!==null&&(Xi(t,1),hE(t,1,0))}function cm(t){for(;t===Tu;)Tu=Qs[--Ys],Qs[Ys]=null,xu=Qs[--Ys],Qs[Ys]=null;for(;t===_s;)_s=rn[--sn],rn[sn]=null,gr=rn[--sn],rn[sn]=null,mr=rn[--sn],rn[sn]=null}var Qt=null,Gt=null,ke=!1,wn=null;function fE(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,Gt=mi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_s!==null?{id:mr,overflow:gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,Gt=null,!0):!1;default:return!1}}function Mf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Vf(t){if(ke){var e=Gt;if(e){var n=e;if(!nv(t,e)){if(Mf(t))throw Error($(418));e=mi(n.nextSibling);var r=Qt;e&&nv(t,e)?fE(r,n):(t.flags=t.flags&-4097|2,ke=!1,Qt=t)}}else{if(Mf(t))throw Error($(418));t.flags=t.flags&-4097|2,ke=!1,Qt=t}}}function rv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function Tc(t){if(t!==Qt)return!1;if(!ke)return rv(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nf(t.type,t.memoizedProps)),e&&(e=Gt)){if(Mf(t))throw pE(),Error($(418));for(;e;)fE(t,e),e=mi(e.nextSibling)}if(rv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=mi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Qt?mi(t.stateNode.nextSibling):null;return!0}function pE(){for(var t=Gt;t;)t=mi(t.nextSibling)}function Io(){Gt=Qt=null,ke=!1}function um(t){wn===null?wn=[t]:wn.push(t)}var ub=Pr.ReactCurrentBatchConfig;function Ta(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function xc(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iv(t){var e=t._init;return e(t._payload)}function mE(t){function e(v,_){if(t){var E=v.deletions;E===null?(v.deletions=[_],v.flags|=16):E.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=_i(v,_),v.index=0,v.sibling=null,v}function s(v,_,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<_?(v.flags|=2,_):E):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,_,E,N){return _===null||_.tag!==6?(_=Mh(E,v.mode,N),_.return=v,_):(_=i(_,E),_.return=v,_)}function c(v,_,E,N){var D=E.type;return D===Bs?d(v,_,E.props.children,N,E.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Gr&&iv(D)===_.type)?(N=i(_,E.props),N.ref=Ta(v,_,E),N.return=v,N):(N=Jc(E.type,E.key,E.props,null,v.mode,N),N.ref=Ta(v,_,E),N.return=v,N)}function u(v,_,E,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Vh(E,v.mode,N),_.return=v,_):(_=i(_,E.children||[]),_.return=v,_)}function d(v,_,E,N,D){return _===null||_.tag!==7?(_=fs(E,v.mode,N,D),_.return=v,_):(_=i(_,E),_.return=v,_)}function f(v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Mh(""+_,v.mode,E),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hc:return E=Jc(_.type,_.key,_.props,null,v.mode,E),E.ref=Ta(v,null,_),E.return=v,E;case $s:return _=Vh(_,v.mode,E),_.return=v,_;case Gr:var N=_._init;return f(v,N(_._payload),E)}if(Aa(_)||ya(_))return _=fs(_,v.mode,E,null),_.return=v,_;xc(v,_)}return null}function m(v,_,E,N){var D=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return D!==null?null:l(v,_,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hc:return E.key===D?c(v,_,E,N):null;case $s:return E.key===D?u(v,_,E,N):null;case Gr:return D=E._init,m(v,_,D(E._payload),N)}if(Aa(E)||ya(E))return D!==null?null:d(v,_,E,N,null);xc(v,E)}return null}function p(v,_,E,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(E)||null,l(_,v,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case hc:return v=v.get(N.key===null?E:N.key)||null,c(_,v,N,D);case $s:return v=v.get(N.key===null?E:N.key)||null,u(_,v,N,D);case Gr:var M=N._init;return p(v,_,E,M(N._payload),D)}if(Aa(N)||ya(N))return v=v.get(E)||null,d(_,v,N,D,null);xc(_,N)}return null}function C(v,_,E,N){for(var D=null,M=null,S=_,x=_=0,b=null;S!==null&&x<E.length;x++){S.index>x?(b=S,S=null):b=S.sibling;var A=m(v,S,E[x],N);if(A===null){S===null&&(S=b);break}t&&S&&A.alternate===null&&e(v,S),_=s(A,_,x),M===null?D=A:M.sibling=A,M=A,S=b}if(x===E.length)return n(v,S),ke&&Xi(v,x),D;if(S===null){for(;x<E.length;x++)S=f(v,E[x],N),S!==null&&(_=s(S,_,x),M===null?D=S:M.sibling=S,M=S);return ke&&Xi(v,x),D}for(S=r(v,S);x<E.length;x++)b=p(S,v,x,E[x],N),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?x:b.key),_=s(b,_,x),M===null?D=b:M.sibling=b,M=b);return t&&S.forEach(function(k){return e(v,k)}),ke&&Xi(v,x),D}function T(v,_,E,N){var D=ya(E);if(typeof D!="function")throw Error($(150));if(E=D.call(E),E==null)throw Error($(151));for(var M=D=null,S=_,x=_=0,b=null,A=E.next();S!==null&&!A.done;x++,A=E.next()){S.index>x?(b=S,S=null):b=S.sibling;var k=m(v,S,A.value,N);if(k===null){S===null&&(S=b);break}t&&S&&k.alternate===null&&e(v,S),_=s(k,_,x),M===null?D=k:M.sibling=k,M=k,S=b}if(A.done)return n(v,S),ke&&Xi(v,x),D;if(S===null){for(;!A.done;x++,A=E.next())A=f(v,A.value,N),A!==null&&(_=s(A,_,x),M===null?D=A:M.sibling=A,M=A);return ke&&Xi(v,x),D}for(S=r(v,S);!A.done;x++,A=E.next())A=p(S,v,x,A.value,N),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?x:A.key),_=s(A,_,x),M===null?D=A:M.sibling=A,M=A);return t&&S.forEach(function(O){return e(v,O)}),ke&&Xi(v,x),D}function w(v,_,E,N){if(typeof E=="object"&&E!==null&&E.type===Bs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case hc:e:{for(var D=E.key,M=_;M!==null;){if(M.key===D){if(D=E.type,D===Bs){if(M.tag===7){n(v,M.sibling),_=i(M,E.props.children),_.return=v,v=_;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Gr&&iv(D)===M.type){n(v,M.sibling),_=i(M,E.props),_.ref=Ta(v,M,E),_.return=v,v=_;break e}n(v,M);break}else e(v,M);M=M.sibling}E.type===Bs?(_=fs(E.props.children,v.mode,N,E.key),_.return=v,v=_):(N=Jc(E.type,E.key,E.props,null,v.mode,N),N.ref=Ta(v,_,E),N.return=v,v=N)}return o(v);case $s:e:{for(M=E.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(v,_.sibling),_=i(_,E.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=Vh(E,v.mode,N),_.return=v,v=_}return o(v);case Gr:return M=E._init,w(v,_,M(E._payload),N)}if(Aa(E))return C(v,_,E,N);if(ya(E))return T(v,_,E,N);xc(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,E),_.return=v,v=_):(n(v,_),_=Mh(E,v.mode,N),_.return=v,v=_),o(v)):n(v,_)}return w}var Co=mE(!0),gE=mE(!1),Su=Ui(null),Iu=null,Xs=null,dm=null;function hm(){dm=Xs=Iu=null}function fm(t){var e=Su.current;Pe(Su),t._currentValue=e}function jf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function so(t,e){Iu=t,dm=Xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function ln(t){var e=t._currentValue;if(dm!==t)if(t={context:t,memoizedValue:e,next:null},Xs===null){if(Iu===null)throw Error($(308));Xs=t,Iu.dependencies={lanes:0,firstContext:t}}else Xs=Xs.next=t;return e}var rs=null;function pm(t){rs===null?rs=[t]:rs.push(t)}function yE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qr=!1;function mm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tr(t,n)}return i=r.interleaved,i===null?(e.next=e,pm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tr(t,n)}function qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,em(t,n)}}function sv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cu(t,e,n,r){var i=t.updateQueue;Qr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,l=s;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,T=l;switch(m=e,p=n,T.tag){case 1:if(C=T.payload,typeof C=="function"){f=C.call(p,f,m);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,m=typeof C=="function"?C.call(p,f,m):C,m==null)break e;f=Ve({},f,m);break e;case 2:Qr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Es|=o,t.lanes=o,t.memoizedState=f}}function ov(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Vl={},Qn=Ui(Vl),dl=Ui(Vl),hl=Ui(Vl);function is(t){if(t===Vl)throw Error($(174));return t}function gm(t,e){switch(Ie(hl,e),Ie(dl,t),Ie(Qn,Vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vf(e,t)}Pe(Qn),Ie(Qn,e)}function bo(){Pe(Qn),Pe(dl),Pe(hl)}function _E(t){is(hl.current);var e=is(Qn.current),n=vf(e,t.type);e!==n&&(Ie(dl,t),Ie(Qn,n))}function ym(t){dl.current===t&&(Pe(Qn),Pe(dl))}var Oe=Ui(0);function bu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rh=[];function vm(){for(var t=0;t<Rh.length;t++)Rh[t]._workInProgressVersionPrimary=null;Rh.length=0}var Kc=Pr.ReactCurrentDispatcher,kh=Pr.ReactCurrentBatchConfig,ws=0,Le=null,Xe=null,at=null,Au=!1,$a=!1,fl=0,db=0;function mt(){throw Error($(321))}function _m(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!In(t[n],e[n]))return!1;return!0}function wm(t,e,n,r,i,s){if(ws=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kc.current=t===null||t.memoizedState===null?mb:gb,t=n(r,i),$a){s=0;do{if($a=!1,fl=0,25<=s)throw Error($(301));s+=1,at=Xe=null,e.updateQueue=null,Kc.current=yb,t=n(r,i)}while($a)}if(Kc.current=Pu,e=Xe!==null&&Xe.next!==null,ws=0,at=Xe=Le=null,Au=!1,e)throw Error($(300));return t}function Em(){var t=fl!==0;return fl=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Le.memoizedState=at=t:at=at.next=t,at}function cn(){if(Xe===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=at===null?Le.memoizedState:at.next;if(e!==null)at=e,Xe=t;else{if(t===null)throw Error($(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},at===null?Le.memoizedState=at=t:at=at.next=t}return at}function pl(t,e){return typeof e=="function"?e(t):e}function Nh(t){var e=cn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((ws&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,Le.lanes|=d,Es|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,In(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,Es|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oh(t){var e=cn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);In(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function wE(){}function EE(t,e){var n=Le,r=cn(),i=e(),s=!In(r.memoizedState,i);if(s&&(r.memoizedState=i,Ft=!0),r=r.queue,Tm(SE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,ml(9,xE.bind(null,n,r,i,e),void 0,null),lt===null)throw Error($(349));ws&30||TE(n,e,i)}return i}function TE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xE(t,e,n,r){e.value=n,e.getSnapshot=r,IE(e)&&CE(t)}function SE(t,e,n){return n(function(){IE(e)&&CE(t)})}function IE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!In(t,n)}catch{return!0}}function CE(t){var e=Tr(t,1);e!==null&&Sn(e,t,1,-1)}function av(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:t},e.queue=t,t=t.dispatch=pb.bind(null,Le,t),[e.memoizedState,t]}function ml(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bE(){return cn().memoizedState}function Gc(t,e,n,r){var i=Fn();Le.flags|=t,i.memoizedState=ml(1|e,n,void 0,r===void 0?null:r)}function dd(t,e,n,r){var i=cn();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,r!==null&&_m(r,o.deps)){i.memoizedState=ml(e,n,s,r);return}}Le.flags|=t,i.memoizedState=ml(1|e,n,s,r)}function lv(t,e){return Gc(8390656,8,t,e)}function Tm(t,e){return dd(2048,8,t,e)}function AE(t,e){return dd(4,2,t,e)}function PE(t,e){return dd(4,4,t,e)}function RE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kE(t,e,n){return n=n!=null?n.concat([t]):null,dd(4,4,RE.bind(null,e,t),n)}function xm(){}function NE(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_m(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OE(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_m(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DE(t,e,n){return ws&21?(In(n,e)||(n=Fw(),Le.lanes|=n,Es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function hb(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=kh.transition;kh.transition={};try{t(!1),e()}finally{Te=n,kh.transition=r}}function LE(){return cn().memoizedState}function fb(t,e,n){var r=vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ME(t))VE(e,n);else if(n=yE(t,e,n,r),n!==null){var i=Rt();Sn(n,t,r,i),jE(n,e,r)}}function pb(t,e,n){var r=vi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ME(t))VE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,In(l,o)){var c=e.interleaved;c===null?(i.next=i,pm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=yE(t,e,i,r),n!==null&&(i=Rt(),Sn(n,t,r,i),jE(n,e,r))}}function ME(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function VE(t,e){$a=Au=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,em(t,n)}}var Pu={readContext:ln,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},mb={readContext:ln,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:ln,useEffect:lv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gc(4194308,4,RE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gc(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fb.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:av,useDebugValue:xm,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=av(!1),e=t[0];return t=hb.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=Fn();if(ke){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),lt===null)throw Error($(349));ws&30||TE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,lv(SE.bind(null,r,s,t),[t]),r.flags|=2048,ml(9,xE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Fn(),e=lt.identifierPrefix;if(ke){var n=gr,r=mr;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=db++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gb={readContext:ln,useCallback:NE,useContext:ln,useEffect:Tm,useImperativeHandle:kE,useInsertionEffect:AE,useLayoutEffect:PE,useMemo:OE,useReducer:Nh,useRef:bE,useState:function(){return Nh(pl)},useDebugValue:xm,useDeferredValue:function(t){var e=cn();return DE(e,Xe.memoizedState,t)},useTransition:function(){var t=Nh(pl)[0],e=cn().memoizedState;return[t,e]},useMutableSource:wE,useSyncExternalStore:EE,useId:LE,unstable_isNewReconciler:!1},yb={readContext:ln,useCallback:NE,useContext:ln,useEffect:Tm,useImperativeHandle:kE,useInsertionEffect:AE,useLayoutEffect:PE,useMemo:OE,useReducer:Oh,useRef:bE,useState:function(){return Oh(pl)},useDebugValue:xm,useDeferredValue:function(t){var e=cn();return Xe===null?e.memoizedState=t:DE(e,Xe.memoizedState,t)},useTransition:function(){var t=Oh(pl)[0],e=cn().memoizedState;return[t,e]},useMutableSource:wE,useSyncExternalStore:EE,useId:LE,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ff(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hd={isMounted:function(t){return(t=t._reactInternals)?Ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=vi(t),s=_r(r,i);s.payload=e,n!=null&&(s.callback=n),e=gi(t,s,i),e!==null&&(Sn(e,t,i,r),qc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=vi(t),s=_r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gi(t,s,i),e!==null&&(Sn(e,t,i,r),qc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=vi(t),i=_r(n,r);i.tag=2,e!=null&&(i.callback=e),e=gi(t,i,r),e!==null&&(Sn(e,t,r,n),qc(e,t,r))}};function cv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!al(n,r)||!al(i,s):!0}function FE(t,e,n){var r=!1,i=Ai,s=e.contextType;return typeof s=="object"&&s!==null?s=ln(s):(i=zt(e)?vs:Tt.current,r=e.contextTypes,s=(r=r!=null)?So(t,i):Ai),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function uv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hd.enqueueReplaceState(e,e.state,null)}function Uf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ln(s):(s=zt(e)?vs:Tt.current,i.context=So(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ff(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hd.enqueueReplaceState(i,i.state,null),Cu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ao(t,e){try{var n="",r=e;do n+=WI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Dh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vb=typeof WeakMap=="function"?WeakMap:Map;function UE(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ku||(ku=!0,Xf=r),zf(t,e)},n}function zE(t,e,n){n=_r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zf(t,e),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Nb.bind(null,t,e,n),e.then(t,t))}function hv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,gi(n,e,1))),n.lanes|=1),t)}var _b=Pr.ReactCurrentOwner,Ft=!1;function Ct(t,e,n,r){e.child=t===null?gE(e,null,n,r):Co(e,t.child,n,r)}function pv(t,e,n,r,i){n=n.render;var s=e.ref;return so(e,i),r=wm(t,e,n,r,s,i),n=Em(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xr(t,e,i)):(ke&&n&&lm(e),e.flags|=1,Ct(t,e,r,i),e.child)}function mv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!km(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$E(t,e,s,r,i)):(t=Jc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:al,n(o,r)&&t.ref===e.ref)return xr(t,e,i)}return e.flags|=1,t=_i(s,r),t.ref=e.ref,t.return=e,e.child=t}function $E(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(al(s,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,xr(t,e,i)}return $f(t,e,n,r,i)}function BE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Zs,qt),qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Zs,qt),qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(Zs,qt),qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(Zs,qt),qt|=r;return Ct(t,e,i,n),e.child}function HE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $f(t,e,n,r,i){var s=zt(n)?vs:Tt.current;return s=So(e,s),so(e,i),n=wm(t,e,n,r,s,i),r=Em(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xr(t,e,i)):(ke&&r&&lm(e),e.flags|=1,Ct(t,e,n,i),e.child)}function gv(t,e,n,r,i){if(zt(n)){var s=!0;Eu(e)}else s=!1;if(so(e,i),e.stateNode===null)Qc(t,e),FE(e,n,r),Uf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ln(u):(u=zt(n)?vs:Tt.current,u=So(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&uv(e,o,r,u),Qr=!1;var m=e.memoizedState;o.state=m,Cu(e,r,o,i),c=e.memoizedState,l!==r||m!==c||Ut.current||Qr?(typeof d=="function"&&(Ff(e,n,d,r),c=e.memoizedState),(l=Qr||cv(e,n,l,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vE(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:mn(e.type,l),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ln(c):(c=zt(n)?vs:Tt.current,c=So(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&uv(e,o,r,c),Qr=!1,m=e.memoizedState,o.state=m,Cu(e,r,o,i);var C=e.memoizedState;l!==f||m!==C||Ut.current||Qr?(typeof p=="function"&&(Ff(e,n,p,r),C=e.memoizedState),(u=Qr||cv(e,n,u,r,m,C,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Bf(t,e,n,r,s,i)}function Bf(t,e,n,r,i,s){HE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tv(e,n,!1),xr(t,e,s);r=e.stateNode,_b.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Co(e,t.child,null,s),e.child=Co(e,null,l,s)):Ct(t,e,l,s),e.memoizedState=r.state,i&&tv(e,n,!0),e.child}function WE(t){var e=t.stateNode;e.pendingContext?ev(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ev(t,e.context,!1),gm(t,e.containerInfo)}function yv(t,e,n,r,i){return Io(),um(i),e.flags|=256,Ct(t,e,n,r),e.child}var Hf={dehydrated:null,treeContext:null,retryLane:0};function Wf(t){return{baseLanes:t,cachePool:null,transitions:null}}function qE(t,e,n){var r=e.pendingProps,i=Oe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Oe,i&1),t===null)return Vf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=md(o,r,0,null),t=fs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Wf(n),e.memoizedState=Hf,t):Sm(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return wb(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=_i(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=_i(l,s):(s=fs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Wf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hf,r}return s=t.child,t=s.sibling,r=_i(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sm(t,e){return e=md({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sc(t,e,n,r){return r!==null&&um(r),Co(e,t.child,null,n),t=Sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Dh(Error($(422))),Sc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=md({mode:"visible",children:r.children},i,0,null),s=fs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Co(e,t.child,null,o),e.child.memoizedState=Wf(o),e.memoizedState=Hf,s);if(!(e.mode&1))return Sc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error($(419)),r=Dh(s,r,void 0),Sc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ft||l){if(r=lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Tr(t,i),Sn(r,t,i,-1))}return Rm(),r=Dh(Error($(421))),Sc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ob.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gt=mi(i.nextSibling),Qt=e,ke=!0,wn=null,t!==null&&(rn[sn++]=mr,rn[sn++]=gr,rn[sn++]=_s,mr=t.id,gr=t.overflow,_s=e),e=Sm(e,r.children),e.flags|=4096,e)}function vv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jf(t.return,e,n)}function Lh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function KE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vv(t,n,e);else if(t.tag===19)vv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lh(e,!0,n,null,s);break;case"together":Lh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=_i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Eb(t,e,n){switch(e.tag){case 3:WE(e),Io();break;case 5:_E(e);break;case 1:zt(e.type)&&Eu(e);break;case 4:gm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(Su,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?qE(t,e,n):(Ie(Oe,Oe.current&1),t=xr(t,e,n),t!==null?t.sibling:null);Ie(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return KE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,BE(t,e,n)}return xr(t,e,n)}var GE,qf,QE,YE;GE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qf=function(){};QE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,is(Qn.current);var s=null;switch(n){case"input":i=pf(t,i),r=pf(t,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=yf(t,i),r=yf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_u)}_f(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(el.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(el.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ae("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};YE=function(t,e,n,r){n!==r&&(e.flags|=4)};function xa(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Tb(t,e,n){var r=e.pendingProps;switch(cm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return zt(e.type)&&wu(),gt(e),null;case 3:return r=e.stateNode,bo(),Pe(Ut),Pe(Tt),vm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(ep(wn),wn=null))),qf(t,e),gt(e),null;case 5:ym(e);var i=is(hl.current);if(n=e.type,t!==null&&e.stateNode!=null)QE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return gt(e),null}if(t=is(Qn.current),Tc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Hn]=e,r[ul]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<Ra.length;i++)Ae(Ra[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":by(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":Py(r,s),Ae("invalid",r)}_f(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,l,t),i=["children",""+l]):el.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":fc(r),Ay(r,s,!0);break;case"textarea":fc(r),Ry(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_u)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hn]=e,t[ul]=r,GE(t,e,!1,!1),e.stateNode=t;e:{switch(o=wf(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ra.length;i++)Ae(Ra[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":by(t,r),i=pf(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":Py(t,r),i=yf(t,r),Ae("invalid",t);break;default:i=r}_f(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?bw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Iw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&tl(t,c):typeof c=="number"&&tl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(el.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ae("scroll",t):c!=null&&Gp(t,s,c,o))}switch(n){case"input":fc(t),Ay(t,r,!1);break;case"textarea":fc(t),Ry(t);break;case"option":r.value!=null&&t.setAttribute("value",""+bi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?to(t,!!r.multiple,s,!1):r.defaultValue!=null&&to(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)YE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=is(hl.current),is(Qn.current),Tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hn]=e,(s=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:Ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ec(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=e,e.stateNode=r}return gt(e),null;case 13:if(Pe(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Gt!==null&&e.mode&1&&!(e.flags&128))pE(),Io(),e.flags|=98560,s=!1;else if(s=Tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[Hn]=e}else Io(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),s=!1}else wn!==null&&(ep(wn),wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?et===0&&(et=3):Rm())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return bo(),qf(t,e),t===null&&ll(e.stateNode.containerInfo),gt(e),null;case 10:return fm(e.type._context),gt(e),null;case 17:return zt(e.type)&&wu(),gt(e),null;case 19:if(Pe(Oe),s=e.memoizedState,s===null)return gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xa(s,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bu(t),o!==null){for(e.flags|=128,xa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Oe,Oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&$e()>Po&&(e.flags|=128,r=!0,xa(s,!1),e.lanes=4194304)}else{if(!r)if(t=bu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return gt(e),null}else 2*$e()-s.renderingStartTime>Po&&n!==1073741824&&(e.flags|=128,r=!0,xa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$e(),e.sibling=null,n=Oe.current,Ie(Oe,r?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return Pm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qt&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function xb(t,e){switch(cm(e),e.tag){case 1:return zt(e.type)&&wu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),Pe(Ut),Pe(Tt),vm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ym(e),null;case 13:if(Pe(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Io()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Oe),null;case 4:return bo(),null;case 10:return fm(e.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var Ic=!1,wt=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function Kf(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var _v=!1;function Ib(t,e){if(Rf=gu,t=tE(),am(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===i&&(l=o),m===s&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kf={focusedElem:t,selectionRange:n},gu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,w=C.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?T:mn(e.type,T),w);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(N){Ue(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return C=_v,_v=!1,C}function Ba(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Kf(e,n,s)}i=i.next}while(i!==r)}}function fd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XE(t){var e=t.alternate;e!==null&&(t.alternate=null,XE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[ul],delete e[Df],delete e[ab],delete e[lb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JE(t){return t.tag===5||t.tag===3||t.tag===4}function wv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_u));else if(r!==4&&(t=t.child,t!==null))for(Qf(t,e,n),t=t.sibling;t!==null;)Qf(t,e,n),t=t.sibling}function Yf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yf(t,e,n),t=t.sibling;t!==null;)Yf(t,e,n),t=t.sibling}var ct=null,_n=!1;function Ur(t,e,n){for(n=n.child;n!==null;)ZE(t,e,n),n=n.sibling}function ZE(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(sd,n)}catch{}switch(n.tag){case 5:wt||Js(n,e);case 6:var r=ct,i=_n;ct=null,Ur(t,e,n),ct=r,_n=i,ct!==null&&(_n?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(_n?(t=ct,n=n.stateNode,t.nodeType===8?Ah(t.parentNode,n):t.nodeType===1&&Ah(t,n),sl(t)):Ah(ct,n.stateNode));break;case 4:r=ct,i=_n,ct=n.stateNode.containerInfo,_n=!0,Ur(t,e,n),ct=r,_n=i;break;case 0:case 11:case 14:case 15:if(!wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Kf(n,e,o),i=i.next}while(i!==r)}Ur(t,e,n);break;case 1:if(!wt&&(Js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ue(n,e,l)}Ur(t,e,n);break;case 21:Ur(t,e,n);break;case 22:n.mode&1?(wt=(r=wt)||n.memoizedState!==null,Ur(t,e,n),wt=r):Ur(t,e,n);break;default:Ur(t,e,n)}}function Ev(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sb),e.forEach(function(r){var i=Db.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ct=l.stateNode,_n=!1;break e;case 3:ct=l.stateNode.containerInfo,_n=!0;break e;case 4:ct=l.stateNode.containerInfo,_n=!0;break e}l=l.return}if(ct===null)throw Error($(160));ZE(s,o,i),ct=null,_n=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ue(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e1(e,t),e=e.sibling}function e1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),jn(t),r&4){try{Ba(3,t,t.return),fd(3,t)}catch(T){Ue(t,t.return,T)}try{Ba(5,t,t.return)}catch(T){Ue(t,t.return,T)}}break;case 1:fn(e,t),jn(t),r&512&&n!==null&&Js(n,n.return);break;case 5:if(fn(e,t),jn(t),r&512&&n!==null&&Js(n,n.return),t.flags&32){var i=t.stateNode;try{tl(i,"")}catch(T){Ue(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Tw(i,s),wf(l,o);var u=wf(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?bw(i,f):d==="dangerouslySetInnerHTML"?Iw(i,f):d==="children"?tl(i,f):Gp(i,d,f,u)}switch(l){case"input":mf(i,s);break;case"textarea":xw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?to(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?to(i,!!s.multiple,s.defaultValue,!0):to(i,!!s.multiple,s.multiple?[]:"",!1))}i[ul]=s}catch(T){Ue(t,t.return,T)}}break;case 6:if(fn(e,t),jn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Ue(t,t.return,T)}}break;case 3:if(fn(e,t),jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sl(e.containerInfo)}catch(T){Ue(t,t.return,T)}break;case 4:fn(e,t),jn(t);break;case 13:fn(e,t),jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bm=$e())),r&4&&Ev(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(wt=(u=wt)||d,fn(e,t),wt=u):fn(e,t),jn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(f=Q=d;Q!==null;){switch(m=Q,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ba(4,m,m.return);break;case 1:Js(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(T){Ue(r,n,T)}}break;case 5:Js(m,m.return);break;case 22:if(m.memoizedState!==null){xv(f);continue}}p!==null?(p.return=m,Q=p):xv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Cw("display",o))}catch(T){Ue(t,t.return,T)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(T){Ue(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fn(e,t),jn(t),r&4&&Ev(t);break;case 21:break;default:fn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(JE(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(tl(i,""),r.flags&=-33);var s=wv(t);Yf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=wv(t);Qf(t,l,o);break;default:throw Error($(161))}}catch(c){Ue(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cb(t,e,n){Q=t,t1(t)}function t1(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ic;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||wt;l=Ic;var u=wt;if(Ic=o,(wt=c)&&!u)for(Q=i;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?Sv(i):c!==null?(c.return=o,Q=c):Sv(i);for(;s!==null;)Q=s,t1(s),s=s.sibling;Q=i,Ic=l,wt=u}Tv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):Tv(t)}}function Tv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wt||fd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ov(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ov(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}wt||e.flags&512&&Gf(e)}catch(m){Ue(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function xv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Sv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fd(4,e)}catch(c){Ue(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ue(e,i,c)}}var s=e.return;try{Gf(e)}catch(c){Ue(e,s,c)}break;case 5:var o=e.return;try{Gf(e)}catch(c){Ue(e,o,c)}}}catch(c){Ue(e,e.return,c)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var bb=Math.ceil,Ru=Pr.ReactCurrentDispatcher,Im=Pr.ReactCurrentOwner,an=Pr.ReactCurrentBatchConfig,_e=0,lt=null,Ke=null,dt=0,qt=0,Zs=Ui(0),et=0,gl=null,Es=0,pd=0,Cm=0,Ha=null,jt=null,bm=0,Po=1/0,hr=null,ku=!1,Xf=null,yi=null,Cc=!1,li=null,Nu=0,Wa=0,Jf=null,Yc=-1,Xc=0;function Rt(){return _e&6?$e():Yc!==-1?Yc:Yc=$e()}function vi(t){return t.mode&1?_e&2&&dt!==0?dt&-dt:ub.transition!==null?(Xc===0&&(Xc=Fw()),Xc):(t=Te,t!==0||(t=window.event,t=t===void 0?16:qw(t.type)),t):1}function Sn(t,e,n,r){if(50<Wa)throw Wa=0,Jf=null,Error($(185));Dl(t,n,r),(!(_e&2)||t!==lt)&&(t===lt&&(!(_e&2)&&(pd|=n),et===4&&Xr(t,dt)),$t(t,r),n===1&&_e===0&&!(e.mode&1)&&(Po=$e()+500,ud&&zi()))}function $t(t,e){var n=t.callbackNode;uC(t,e);var r=mu(t,t===lt?dt:0);if(r===0)n!==null&&Oy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Oy(n),e===1)t.tag===0?cb(Iv.bind(null,t)):dE(Iv.bind(null,t)),sb(function(){!(_e&6)&&zi()}),n=null;else{switch(Uw(r)){case 1:n=Zp;break;case 4:n=Vw;break;case 16:n=pu;break;case 536870912:n=jw;break;default:n=pu}n=c1(n,n1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function n1(t,e){if(Yc=-1,Xc=0,_e&6)throw Error($(327));var n=t.callbackNode;if(oo()&&t.callbackNode!==n)return null;var r=mu(t,t===lt?dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ou(t,r);else{e=r;var i=_e;_e|=2;var s=i1();(lt!==t||dt!==e)&&(hr=null,Po=$e()+500,hs(t,e));do try{Rb();break}catch(l){r1(t,l)}while(!0);hm(),Ru.current=s,_e=i,Ke!==null?e=0:(lt=null,dt=0,e=et)}if(e!==0){if(e===2&&(i=If(t),i!==0&&(r=i,e=Zf(t,i))),e===1)throw n=gl,hs(t,0),Xr(t,r),$t(t,$e()),n;if(e===6)Xr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Ab(i)&&(e=Ou(t,r),e===2&&(s=If(t),s!==0&&(r=s,e=Zf(t,s))),e===1))throw n=gl,hs(t,0),Xr(t,r),$t(t,$e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Ji(t,jt,hr);break;case 3:if(Xr(t,r),(r&130023424)===r&&(e=bm+500-$e(),10<e)){if(mu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Of(Ji.bind(null,t,jt,hr),e);break}Ji(t,jt,hr);break;case 4:if(Xr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bb(r/1960))-r,10<r){t.timeoutHandle=Of(Ji.bind(null,t,jt,hr),r);break}Ji(t,jt,hr);break;case 5:Ji(t,jt,hr);break;default:throw Error($(329))}}}return $t(t,$e()),t.callbackNode===n?n1.bind(null,t):null}function Zf(t,e){var n=Ha;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=Ou(t,e),t!==2&&(e=jt,jt=n,e!==null&&ep(e)),t}function ep(t){jt===null?jt=t:jt.push.apply(jt,t)}function Ab(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!In(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xr(t,e){for(e&=~Cm,e&=~pd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function Iv(t){if(_e&6)throw Error($(327));oo();var e=mu(t,0);if(!(e&1))return $t(t,$e()),null;var n=Ou(t,e);if(t.tag!==0&&n===2){var r=If(t);r!==0&&(e=r,n=Zf(t,r))}if(n===1)throw n=gl,hs(t,0),Xr(t,e),$t(t,$e()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ji(t,jt,hr),$t(t,$e()),null}function Am(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Po=$e()+500,ud&&zi())}}function Ts(t){li!==null&&li.tag===0&&!(_e&6)&&oo();var e=_e;_e|=1;var n=an.transition,r=Te;try{if(an.transition=null,Te=1,t)return t()}finally{Te=r,an.transition=n,_e=e,!(_e&6)&&zi()}}function Pm(){qt=Zs.current,Pe(Zs)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ib(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(cm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wu();break;case 3:bo(),Pe(Ut),Pe(Tt),vm();break;case 5:ym(r);break;case 4:bo();break;case 13:Pe(Oe);break;case 19:Pe(Oe);break;case 10:fm(r.type._context);break;case 22:case 23:Pm()}n=n.return}if(lt=t,Ke=t=_i(t.current,null),dt=qt=e,et=0,gl=null,Cm=pd=Es=0,jt=Ha=null,rs!==null){for(e=0;e<rs.length;e++)if(n=rs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}rs=null}return t}function r1(t,e){do{var n=Ke;try{if(hm(),Kc.current=Pu,Au){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Au=!1}if(ws=0,at=Xe=Le=null,$a=!1,fl=0,Im.current=null,n===null||n.return===null){et=1,gl=e,Ke=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=dt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=hv(o);if(p!==null){p.flags&=-257,fv(p,o,l,s,e),p.mode&1&&dv(s,u,e),e=p,c=u;var C=e.updateQueue;if(C===null){var T=new Set;T.add(c),e.updateQueue=T}else C.add(c);break e}else{if(!(e&1)){dv(s,u,e),Rm();break e}c=Error($(426))}}else if(ke&&l.mode&1){var w=hv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),fv(w,o,l,s,e),um(Ao(c,l));break e}}s=c=Ao(c,l),et!==4&&(et=2),Ha===null?Ha=[s]:Ha.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=UE(s,c,e);sv(s,v);break e;case 1:l=c;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(yi===null||!yi.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=zE(s,l,e);sv(s,N);break e}}s=s.return}while(s!==null)}o1(n)}catch(D){e=D,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function i1(){var t=Ru.current;return Ru.current=Pu,t===null?Pu:t}function Rm(){(et===0||et===3||et===2)&&(et=4),lt===null||!(Es&268435455)&&!(pd&268435455)||Xr(lt,dt)}function Ou(t,e){var n=_e;_e|=2;var r=i1();(lt!==t||dt!==e)&&(hr=null,hs(t,e));do try{Pb();break}catch(i){r1(t,i)}while(!0);if(hm(),_e=n,Ru.current=r,Ke!==null)throw Error($(261));return lt=null,dt=0,et}function Pb(){for(;Ke!==null;)s1(Ke)}function Rb(){for(;Ke!==null&&!tC();)s1(Ke)}function s1(t){var e=l1(t.alternate,t,qt);t.memoizedProps=t.pendingProps,e===null?o1(t):Ke=e,Im.current=null}function o1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xb(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ke=null;return}}else if(n=Tb(n,e,qt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);et===0&&(et=5)}function Ji(t,e,n){var r=Te,i=an.transition;try{an.transition=null,Te=1,kb(t,e,n,r)}finally{an.transition=i,Te=r}return null}function kb(t,e,n,r){do oo();while(li!==null);if(_e&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(dC(t,s),t===lt&&(Ke=lt=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cc||(Cc=!0,c1(pu,function(){return oo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=an.transition,an.transition=null;var o=Te;Te=1;var l=_e;_e|=4,Im.current=null,Ib(t,n),e1(n,t),XC(kf),gu=!!Rf,kf=Rf=null,t.current=n,Cb(n),nC(),_e=l,Te=o,an.transition=s}else t.current=n;if(Cc&&(Cc=!1,li=t,Nu=i),s=t.pendingLanes,s===0&&(yi=null),sC(n.stateNode),$t(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ku)throw ku=!1,t=Xf,Xf=null,t;return Nu&1&&t.tag!==0&&oo(),s=t.pendingLanes,s&1?t===Jf?Wa++:(Wa=0,Jf=t):Wa=0,zi(),null}function oo(){if(li!==null){var t=Uw(Nu),e=an.transition,n=Te;try{if(an.transition=null,Te=16>t?16:t,li===null)var r=!1;else{if(t=li,li=null,Nu=0,_e&6)throw Error($(331));var i=_e;for(_e|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Ba(8,d,s)}var f=d.child;if(f!==null)f.return=d,Q=f;else for(;Q!==null;){d=Q;var m=d.sibling,p=d.return;if(XE(d),d===u){Q=null;break}if(m!==null){m.return=p,Q=m;break}Q=p}}}var C=s.alternate;if(C!==null){var T=C.child;if(T!==null){C.child=null;do{var w=T.sibling;T.sibling=null,T=w}while(T!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ba(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Q=v;break e}Q=s.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Q=E;else e:for(o=_;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fd(9,l)}}catch(D){Ue(l,l.return,D)}if(l===o){Q=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Q=N;break e}Q=l.return}}if(_e=i,zi(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(sd,t)}catch{}r=!0}return r}finally{Te=n,an.transition=e}}return!1}function Cv(t,e,n){e=Ao(n,e),e=UE(t,e,1),t=gi(t,e,1),e=Rt(),t!==null&&(Dl(t,1,e),$t(t,e))}function Ue(t,e,n){if(t.tag===3)Cv(t,t,n);else for(;e!==null;){if(e.tag===3){Cv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){t=Ao(n,t),t=zE(e,t,1),e=gi(e,t,1),t=Rt(),e!==null&&(Dl(e,1,t),$t(e,t));break}}e=e.return}}function Nb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(dt&n)===n&&(et===4||et===3&&(dt&130023424)===dt&&500>$e()-bm?hs(t,0):Cm|=n),$t(t,e)}function a1(t,e){e===0&&(t.mode&1?(e=gc,gc<<=1,!(gc&130023424)&&(gc=4194304)):e=1);var n=Rt();t=Tr(t,e),t!==null&&(Dl(t,e,n),$t(t,n))}function Ob(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),a1(t,n)}function Db(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),a1(t,n)}var l1;l1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,Eb(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,ke&&e.flags&1048576&&hE(e,xu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qc(t,e),t=e.pendingProps;var i=So(e,Tt.current);so(e,n),i=wm(null,e,r,t,i,n);var s=Em();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(s=!0,Eu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mm(e),i.updater=hd,e.stateNode=i,i._reactInternals=e,Uf(e,r,t,n),e=Bf(null,e,r,!0,s,n)):(e.tag=0,ke&&s&&lm(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Mb(r),t=mn(r,t),i){case 0:e=$f(null,e,r,t,n);break e;case 1:e=gv(null,e,r,t,n);break e;case 11:e=pv(null,e,r,t,n);break e;case 14:e=mv(null,e,r,mn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),$f(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),gv(t,e,r,i,n);case 3:e:{if(WE(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,vE(t,e),Cu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ao(Error($(423)),e),e=yv(t,e,r,n,i);break e}else if(r!==i){i=Ao(Error($(424)),e),e=yv(t,e,r,n,i);break e}else for(Gt=mi(e.stateNode.containerInfo.firstChild),Qt=e,ke=!0,wn=null,n=gE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Io(),r===i){e=xr(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return _E(e),t===null&&Vf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Nf(r,i)?o=null:s!==null&&Nf(r,s)&&(e.flags|=32),HE(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&Vf(e),null;case 13:return qE(t,e,n);case 4:return gm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Co(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),pv(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(Su,r._currentValue),r._currentValue=o,s!==null)if(In(s.value,o)){if(s.children===i.children&&!Ut.current){e=xr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=_r(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),jf(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),jf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,so(e,n),i=ln(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=mn(r,e.pendingProps),i=mn(r.type,i),mv(t,e,r,i,n);case 15:return $E(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Qc(t,e),e.tag=1,zt(r)?(t=!0,Eu(e)):t=!1,so(e,n),FE(e,r,i),Uf(e,r,i,n),Bf(null,e,r,!0,t,n);case 19:return KE(t,e,n);case 22:return BE(t,e,n)}throw Error($(156,e.tag))};function c1(t,e){return Mw(t,e)}function Lb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new Lb(t,e,n,r)}function km(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mb(t){if(typeof t=="function")return km(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yp)return 11;if(t===Xp)return 14}return 2}function _i(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")km(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bs:return fs(n.children,i,s,e);case Qp:o=8,i|=8;break;case uf:return t=on(12,n,e,i|2),t.elementType=uf,t.lanes=s,t;case df:return t=on(13,n,e,i),t.elementType=df,t.lanes=s,t;case hf:return t=on(19,n,e,i),t.elementType=hf,t.lanes=s,t;case _w:return md(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yw:o=10;break e;case vw:o=9;break e;case Yp:o=11;break e;case Xp:o=14;break e;case Gr:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=on(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fs(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function md(t,e,n,r){return t=on(22,t,r,e),t.elementType=_w,t.lanes=n,t.stateNode={isHidden:!1},t}function Mh(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function Vh(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yh(0),this.expirationTimes=yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nm(t,e,n,r,i,s,o,l,c){return t=new Vb(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=on(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mm(s),t}function jb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function u1(t){if(!t)return Ai;t=t._reactInternals;e:{if(Ps(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(zt(n))return uE(t,n,e)}return e}function d1(t,e,n,r,i,s,o,l,c){return t=Nm(n,r,!0,t,i,s,o,l,c),t.context=u1(null),n=t.current,r=Rt(),i=vi(n),s=_r(r,i),s.callback=e??null,gi(n,s,i),t.current.lanes=i,Dl(t,i,r),$t(t,r),t}function gd(t,e,n,r){var i=e.current,s=Rt(),o=vi(i);return n=u1(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gi(i,e,o),t!==null&&(Sn(t,i,o,s),qc(t,i,o)),o}function Du(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Om(t,e){bv(t,e),(t=t.alternate)&&bv(t,e)}function Fb(){return null}var h1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dm(t){this._internalRoot=t}yd.prototype.render=Dm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));gd(t,e,null,null)};yd.prototype.unmount=Dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){gd(null,t,null,null)}),e[Er]=null}};function yd(t){this._internalRoot=t}yd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yr.length&&e!==0&&e<Yr[n].priority;n++);Yr.splice(n,0,t),n===0&&Ww(t)}};function Lm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Av(){}function Ub(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Du(o);s.call(u)}}var o=d1(e,r,t,0,null,!1,!1,"",Av);return t._reactRootContainer=o,t[Er]=o.current,ll(t.nodeType===8?t.parentNode:t),Ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Du(c);l.call(u)}}var c=Nm(t,0,!1,null,null,!1,!1,"",Av);return t._reactRootContainer=c,t[Er]=c.current,ll(t.nodeType===8?t.parentNode:t),Ts(function(){gd(e,c,n,r)}),c}function _d(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Du(o);l.call(c)}}gd(e,o,t,i)}else o=Ub(n,e,t,i,r);return Du(o)}zw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Pa(e.pendingLanes);n!==0&&(em(e,n|1),$t(e,$e()),!(_e&6)&&(Po=$e()+500,zi()))}break;case 13:Ts(function(){var r=Tr(t,1);if(r!==null){var i=Rt();Sn(r,t,1,i)}}),Om(t,1)}};tm=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=Rt();Sn(e,t,134217728,n)}Om(t,134217728)}};$w=function(t){if(t.tag===13){var e=vi(t),n=Tr(t,e);if(n!==null){var r=Rt();Sn(n,t,e,r)}Om(t,e)}};Bw=function(){return Te};Hw=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Tf=function(t,e,n){switch(e){case"input":if(mf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=cd(r);if(!i)throw Error($(90));Ew(r),mf(r,i)}}}break;case"textarea":xw(t,n);break;case"select":e=n.value,e!=null&&to(t,!!n.multiple,e,!1)}};Rw=Am;kw=Ts;var zb={usingClientEntryPoint:!1,Events:[Ml,Ks,cd,Aw,Pw,Am]},Sa={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$b={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dw(t),t===null?null:t.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance||Fb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{sd=bc.inject($b),Gn=bc}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zb;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lm(e))throw Error($(200));return jb(t,e,null,n)};Jt.createRoot=function(t,e){if(!Lm(t))throw Error($(299));var n=!1,r="",i=h1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Nm(t,1,!1,null,null,n,!1,r,i),t[Er]=e.current,ll(t.nodeType===8?t.parentNode:t),new Dm(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Dw(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Ts(t)};Jt.hydrate=function(t,e,n){if(!vd(e))throw Error($(200));return _d(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Lm(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=h1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=d1(e,null,t,1,n??null,i,!1,s,o),t[Er]=e.current,ll(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yd(e)};Jt.render=function(t,e,n){if(!vd(e))throw Error($(200));return _d(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!vd(t))throw Error($(40));return t._reactRootContainer?(Ts(function(){_d(null,null,t,!1,function(){t._reactRootContainer=null,t[Er]=null})}),!0):!1};Jt.unstable_batchedUpdates=Am;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vd(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return _d(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function f1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f1)}catch(t){console.error(t)}}f1(),fw.exports=Jt;var jl=fw.exports;const p1=ew(jl);var m1,Pv=jl;m1=Pv.createRoot,Pv.hydrateRoot;const Bb=1,Hb=1e6;let jh=0;function Wb(){return jh=(jh+1)%Number.MAX_SAFE_INTEGER,jh.toString()}const Fh=new Map,Rv=t=>{if(Fh.has(t))return;const e=setTimeout(()=>{Fh.delete(t),qa({type:"REMOVE_TOAST",toastId:t})},Hb);Fh.set(t,e)},qb=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Bb)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Rv(n):t.toasts.forEach(r=>{Rv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Zc=[];let eu={toasts:[]};function qa(t){eu=qb(eu,t),Zc.forEach(e=>{e(eu)})}function Kb({...t}){const e=Wb(),n=i=>qa({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>qa({type:"DISMISS_TOAST",toastId:e});return qa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Gb(){const[t,e]=P.useState(eu);return P.useEffect(()=>(Zc.push(e),()=>{const n=Zc.indexOf(e);n>-1&&Zc.splice(n,1)}),[t]),{...t,toast:Kb,dismiss:n=>qa({type:"DISMISS_TOAST",toastId:n})}}function Je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function kv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function g1(...t){return e=>{let n=!1;const r=t.map(i=>{const s=kv(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():kv(t[i],null)}}}}function Cn(...t){return P.useCallback(g1(...t),t)}function wd(t,e=[]){let n=[];function r(s,o){const l=P.createContext(o),c=n.length;n=[...n,o];const u=f=>{var v;const{scope:m,children:p,...C}=f,T=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,w=P.useMemo(()=>C,Object.values(C));return y.jsx(T.Provider,{value:w,children:p})};u.displayName=s+"Provider";function d(f,m){var T;const p=((T=m==null?void 0:m[t])==null?void 0:T[c])||l,C=P.useContext(p);if(C)return C;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>P.createContext(o));return function(l){const c=(l==null?void 0:l[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,Qb(i,...e)]}function Qb(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Lu(t){const e=Xb(t),n=P.forwardRef((r,i)=>{const{children:s,...o}=r,l=P.Children.toArray(s),c=l.find(Zb);if(c){const u=c.props.children,d=l.map(f=>f===c?P.Children.count(u)>1?P.Children.only(null):P.isValidElement(u)?u.props.children:null:f);return y.jsx(e,{...o,ref:i,children:P.isValidElement(u)?P.cloneElement(u,void 0,d):null})}return y.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Yb=Lu("Slot");function Xb(t){const e=P.forwardRef((n,r)=>{const{children:i,...s}=n;if(P.isValidElement(i)){const o=tA(i),l=eA(s,i.props);return i.type!==P.Fragment&&(l.ref=r?g1(r,o):o),P.cloneElement(i,l)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var y1=Symbol("radix.slottable");function Jb(t){const e=({children:n})=>y.jsx(y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=y1,e}function Zb(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===y1}function eA(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function tA(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function nA(t){const e=t+"CollectionProvider",[n,r]=wd(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=T=>{const{scope:w,children:v}=T,_=H.useRef(null),E=H.useRef(new Map).current;return y.jsx(i,{scope:w,itemMap:E,collectionRef:_,children:v})};o.displayName=e;const l=t+"CollectionSlot",c=Lu(l),u=H.forwardRef((T,w)=>{const{scope:v,children:_}=T,E=s(l,v),N=Cn(w,E.collectionRef);return y.jsx(c,{ref:N,children:_})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=Lu(d),p=H.forwardRef((T,w)=>{const{scope:v,children:_,...E}=T,N=H.useRef(null),D=Cn(w,N),M=s(d,v);return H.useEffect(()=>(M.itemMap.set(N,{ref:N,...E}),()=>void M.itemMap.delete(N))),y.jsx(m,{[f]:"",ref:D,children:_})});p.displayName=d;function C(T){const w=s(t+"CollectionConsumer",T);return H.useCallback(()=>{const _=w.collectionRef.current;if(!_)return[];const E=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((M,S)=>E.indexOf(M.ref.current)-E.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},C,r]}var rA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=rA.reduce((t,e)=>{const n=Lu(`Primitive.${e}`),r=P.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function v1(t,e){t&&jl.flushSync(()=>t.dispatchEvent(e))}function Pi(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function iA(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var sA="DismissableLayer",tp="dismissableLayer.update",oA="dismissableLayer.pointerDownOutside",aA="dismissableLayer.focusOutside",Nv,_1=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mm=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=P.useContext(_1),[d,f]=P.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=P.useState({}),C=Cn(e,S=>f(S)),T=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=T.indexOf(w),_=d?T.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,N=_>=v,D=cA(S=>{const x=S.target,b=[...u.branches].some(A=>A.contains(x));!N||b||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),M=uA(S=>{const x=S.target;[...u.branches].some(A=>A.contains(x))||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return iA(S=>{_===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),P.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Nv=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ov(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Nv)}},[d,m,n,u]),P.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ov())},[d,u]),P.useEffect(()=>{const S=()=>p({});return document.addEventListener(tp,S),()=>document.removeEventListener(tp,S)},[]),y.jsx(Bt.div,{...c,ref:C,style:{pointerEvents:E?N?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,D.onPointerDownCapture)})});Mm.displayName=sA;var lA="DismissableLayerBranch",w1=P.forwardRef((t,e)=>{const n=P.useContext(_1),r=P.useRef(null),i=Cn(e,r);return P.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),y.jsx(Bt.div,{...t,ref:i})});w1.displayName=lA;function cA(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){E1(oA,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function uA(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t),r=P.useRef(!1);return P.useEffect(()=>{const i=s=>{s.target&&!r.current&&E1(aA,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ov(){const t=new CustomEvent(tp);document.dispatchEvent(t)}function E1(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?v1(i,s):i.dispatchEvent(s)}var dA=Mm,hA=w1,Ri=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},fA="Portal",T1=P.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=P.useState(!1);Ri(()=>s(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?p1.createPortal(y.jsx(Bt.div,{...r,ref:e}),o):null});T1.displayName=fA;function pA(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var Vm=t=>{const{present:e,children:n}=t,r=mA(e),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),s=Cn(r.ref,gA(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:s}):null};Vm.displayName="Presence";function mA(t){const[e,n]=P.useState(),r=P.useRef(null),i=P.useRef(t),s=P.useRef("none"),o=t?"mounted":"unmounted",[l,c]=pA(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const u=Ac(r.current);s.current=l==="mounted"?u:"none"},[l]),Ri(()=>{const u=r.current,d=i.current;if(d!==t){const m=s.current,p=Ac(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Ri(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const T=Ac(r.current).includes(p.animationName);if(p.target===e&&T&&(c("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=p=>{p.target===e&&(s.current=Ac(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:P.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Ac(t){return(t==null?void 0:t.animationName)||"none"}function gA(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var yA=dw[" useInsertionEffect ".trim().toString()]||Ri;function vA({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=_A({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const d=P.useRef(t!==void 0);P.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=P.useCallback(d=>{var f;if(l){const m=wA(d)?d(t):d;m!==t&&((f=o.current)==null||f.call(o,m))}else s(d)},[l,t,s,o]);return[c,u]}function _A({defaultProp:t,onChange:e}){const[n,r]=P.useState(t),i=P.useRef(n),s=P.useRef(e);return yA(()=>{s.current=e},[e]),P.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function wA(t){return typeof t=="function"}var EA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TA="VisuallyHidden",Ed=P.forwardRef((t,e)=>y.jsx(Bt.span,{...t,ref:e,style:{...EA,...t.style}}));Ed.displayName=TA;var xA=Ed,jm="ToastProvider",[Fm,SA,IA]=nA("Toast"),[x1,jj]=wd("Toast",[IA]),[CA,Td]=x1(jm),S1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[l,c]=P.useState(null),[u,d]=P.useState(0),f=P.useRef(!1),m=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${jm}\`. Expected non-empty \`string\`.`),y.jsx(Fm.Provider,{scope:e,children:y.jsx(CA,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:P.useCallback(()=>d(p=>p+1),[]),onToastRemove:P.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};S1.displayName=jm;var I1="ToastViewport",bA=["F8"],np="toast.viewportPause",rp="toast.viewportResume",C1=P.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=bA,label:i="Notifications ({hotkey})",...s}=t,o=Td(I1,n),l=SA(n),c=P.useRef(null),u=P.useRef(null),d=P.useRef(null),f=P.useRef(null),m=Cn(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=o.toastCount>0;P.useEffect(()=>{const w=v=>{var E;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),P.useEffect(()=>{const w=c.current,v=f.current;if(C&&w&&v){const _=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(np);v.dispatchEvent(M),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(rp);v.dispatchEvent(M),o.isClosePausedRef.current=!1}},N=M=>{!w.contains(M.relatedTarget)&&E()},D=()=>{w.contains(document.activeElement)||E()};return w.addEventListener("focusin",_),w.addEventListener("focusout",N),w.addEventListener("pointermove",_),w.addEventListener("pointerleave",D),window.addEventListener("blur",_),window.addEventListener("focus",E),()=>{w.removeEventListener("focusin",_),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",_),w.removeEventListener("pointerleave",D),window.removeEventListener("blur",_),window.removeEventListener("focus",E)}}},[C,o.isClosePausedRef]);const T=P.useCallback(({tabbingDirection:w})=>{const _=l().map(E=>{const N=E.ref.current,D=[N,...UA(N)];return w==="forwards"?D:D.reverse()});return(w==="forwards"?_.reverse():_).flat()},[l]);return P.useEffect(()=>{const w=f.current;if(w){const v=_=>{var D,M,S;const E=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!E){const x=document.activeElement,b=_.shiftKey;if(_.target===w&&b){(D=u.current)==null||D.focus();return}const O=T({tabbingDirection:b?"backwards":"forwards"}),R=O.findIndex(B=>B===x);Uh(O.slice(R+1))?_.preventDefault():b?(M=u.current)==null||M.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,T]),y.jsxs(hA,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&y.jsx(ip,{ref:u,onFocusFromOutsideViewport:()=>{const w=T({tabbingDirection:"forwards"});Uh(w)}}),y.jsx(Fm.Slot,{scope:n,children:y.jsx(Bt.ol,{tabIndex:-1,...s,ref:m})}),C&&y.jsx(ip,{ref:d,onFocusFromOutsideViewport:()=>{const w=T({tabbingDirection:"backwards"});Uh(w)}})]})});C1.displayName=I1;var b1="ToastFocusProxy",ip=P.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Td(b1,n);return y.jsx(Ed,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});ip.displayName=b1;var Fl="Toast",AA="toast.swipeStart",PA="toast.swipeMove",RA="toast.swipeCancel",kA="toast.swipeEnd",A1=P.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[l,c]=vA({prop:r,defaultProp:i??!0,onChange:s,caller:Fl});return y.jsx(Vm,{present:n||l,children:y.jsx(DA,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Pi(t.onPause),onResume:Pi(t.onResume),onSwipeStart:Je(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Je(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Je(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Je(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});A1.displayName=Fl;var[NA,OA]=x1(Fl,{onClose(){}}),DA=P.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...C}=t,T=Td(Fl,n),[w,v]=P.useState(null),_=Cn(e,B=>v(B)),E=P.useRef(null),N=P.useRef(null),D=i||T.duration,M=P.useRef(0),S=P.useRef(D),x=P.useRef(0),{onToastAdd:b,onToastRemove:A}=T,k=Pi(()=>{var re;(w==null?void 0:w.contains(document.activeElement))&&((re=T.viewport)==null||re.focus()),o()}),O=P.useCallback(B=>{!B||B===1/0||(window.clearTimeout(x.current),M.current=new Date().getTime(),x.current=window.setTimeout(k,B))},[k]);P.useEffect(()=>{const B=T.viewport;if(B){const re=()=>{O(S.current),u==null||u()},te=()=>{const ie=new Date().getTime()-M.current;S.current=S.current-ie,window.clearTimeout(x.current),c==null||c()};return B.addEventListener(np,te),B.addEventListener(rp,re),()=>{B.removeEventListener(np,te),B.removeEventListener(rp,re)}}},[T.viewport,D,c,u,O]),P.useEffect(()=>{s&&!T.isClosePausedRef.current&&O(D)},[s,D,T.isClosePausedRef,O]),P.useEffect(()=>(b(),()=>A()),[b,A]);const R=P.useMemo(()=>w?L1(w):null,[w]);return T.viewport?y.jsxs(y.Fragment,{children:[R&&y.jsx(LA,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),y.jsx(NA,{scope:n,onClose:k,children:jl.createPortal(y.jsx(Fm.ItemSlot,{scope:n,children:y.jsx(dA,{asChild:!0,onEscapeKeyDown:Je(l,()=>{T.isFocusedToastEscapeKeyDownRef.current||k(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(Bt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":T.swipeDirection,...C,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Je(t.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Je(t.onPointerDown,B=>{B.button===0&&(E.current={x:B.clientX,y:B.clientY})}),onPointerMove:Je(t.onPointerMove,B=>{if(!E.current)return;const re=B.clientX-E.current.x,te=B.clientY-E.current.y,ie=!!N.current,j=["left","right"].includes(T.swipeDirection),z=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,K=j?z(0,re):0,ne=j?0:z(0,te),X=B.pointerType==="touch"?10:2,ue={x:K,y:ne},le={originalEvent:B,delta:ue};ie?(N.current=ue,Pc(PA,f,le,{discrete:!1})):Dv(ue,T.swipeDirection,X)?(N.current=ue,Pc(AA,d,le,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(re)>X||Math.abs(te)>X)&&(E.current=null)}),onPointerUp:Je(t.onPointerUp,B=>{const re=N.current,te=B.target;if(te.hasPointerCapture(B.pointerId)&&te.releasePointerCapture(B.pointerId),N.current=null,E.current=null,re){const ie=B.currentTarget,j={originalEvent:B,delta:re};Dv(re,T.swipeDirection,T.swipeThreshold)?Pc(kA,p,j,{discrete:!0}):Pc(RA,m,j,{discrete:!0}),ie.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),LA=t=>{const{__scopeToast:e,children:n,...r}=t,i=Td(Fl,e),[s,o]=P.useState(!1),[l,c]=P.useState(!1);return jA(()=>o(!0)),P.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:y.jsx(T1,{asChild:!0,children:y.jsx(Ed,{...r,children:s&&y.jsxs(y.Fragment,{children:[i.label," ",n]})})})},MA="ToastTitle",P1=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(Bt.div,{...r,ref:e})});P1.displayName=MA;var VA="ToastDescription",R1=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(Bt.div,{...r,ref:e})});R1.displayName=VA;var k1="ToastAction",N1=P.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?y.jsx(D1,{altText:n,asChild:!0,children:y.jsx(Um,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${k1}\`. Expected non-empty \`string\`.`),null)});N1.displayName=k1;var O1="ToastClose",Um=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=OA(O1,n);return y.jsx(D1,{asChild:!0,children:y.jsx(Bt.button,{type:"button",...r,ref:e,onClick:Je(t.onClick,i.onClose)})})});Um.displayName=O1;var D1=P.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return y.jsx(Bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function L1(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),FA(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...L1(r))}}),e}function Pc(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?v1(i,s):i.dispatchEvent(s)}var Dv=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function jA(t=()=>{}){const e=Pi(t);Ri(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function FA(t){return t.nodeType===t.ELEMENT_NODE}function UA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Uh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var zA=S1,M1=C1,V1=A1,j1=P1,F1=R1,U1=N1,z1=Um;function $1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function B1(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$1(t))&&(r&&(r+=" "),r+=e);return r}const Lv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Mv=B1,H1=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Mv(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const m=Lv(d)||Lv(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(C=>{let[T,w]=C;return Array.isArray(w)?w.includes({...s,...l}[T]):{...s,...l}[T]===w})?[...u,f,m]:u},[]);return Mv(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>P.createElement("svg",{ref:c,...BA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:W1("lucide",i),...l},[...o.map(([u,d])=>P.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(t,e)=>{const n=P.forwardRef(({className:r,...i},s)=>P.createElement(HA,{ref:s,iconNode:e,className:W1(`lucide-${$A(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=rr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=rr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=rr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=rr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=rr("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=rr("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=rr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=rr("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=rr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=rr("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),zm="-",XA=t=>{const e=ZA(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(zm);return l[0]===""&&l.length!==1&&l.shift(),q1(l,e)||JA(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},q1=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?q1(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(zm);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},Fv=/^\[(.+)\]$/,JA=t=>{if(Fv.test(t)){const e=Fv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ZA=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return tP(Object.entries(t.classGroups),n).forEach(([s,o])=>{sp(o,r,s,e)}),r},sp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Uv(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(eP(i)){sp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{sp(o,Uv(e,s),n,r)})})},Uv=(t,e)=>{let n=t;return e.split(zm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},eP=t=>t.isThemeGetter,tP=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,nP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},K1="!",rP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let w=0;w<l.length;w++){let v=l[w];if(u===0){if(v===i&&(r||l.slice(w,w+s)===e)){c.push(l.slice(d,w)),d=w+s;continue}if(v==="/"){f=w;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(K1),C=p?m.substring(1):m,T=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:C,maybePostfixModifierPosition:T}};return n?l=>n({className:l,parseClassName:o}):o},iP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},sP=t=>({cache:nP(t.cacheSize),parseClassName:rP(t),...XA(t)}),oP=/\s+/,aP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(oP);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let C=!!p,T=r(C?m.substring(0,p):m);if(!T){if(!C){l=u+(l.length>0?" "+l:l);continue}if(T=r(m),!T){l=u+(l.length>0?" "+l:l);continue}C=!1}const w=iP(d).join(":"),v=f?w+K1:w,_=v+T;if(s.includes(_))continue;s.push(_);const E=i(T,C);for(let N=0;N<E.length;++N){const D=E[N];s.push(v+D)}l=u+(l.length>0?" "+l:l)}return l};function lP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=G1(e))&&(r&&(r+=" "),r+=n);return r}const G1=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=G1(t[r]))&&(n&&(n+=" "),n+=e);return n};function cP(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=sP(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=aP(c,n);return i(c,d),d}return function(){return s(lP.apply(null,arguments))}}const be=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Q1=/^\[(?:([a-z-]+):)?(.+)\]$/i,uP=/^\d+\/\d+$/,dP=new Set(["px","full","screen"]),hP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ur=t=>ao(t)||dP.has(t)||uP.test(t),zr=t=>Ho(t,"length",SP),ao=t=>!!t&&!Number.isNaN(Number(t)),$h=t=>Ho(t,"number",ao),Ia=t=>!!t&&Number.isInteger(Number(t)),yP=t=>t.endsWith("%")&&ao(t.slice(0,-1)),ce=t=>Q1.test(t),$r=t=>hP.test(t),vP=new Set(["length","size","percentage"]),_P=t=>Ho(t,vP,Y1),wP=t=>Ho(t,"position",Y1),EP=new Set(["image","url"]),TP=t=>Ho(t,EP,CP),xP=t=>Ho(t,"",IP),Ca=()=>!0,Ho=(t,e,n)=>{const r=Q1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},SP=t=>fP.test(t)&&!pP.test(t),Y1=()=>!1,IP=t=>mP.test(t),CP=t=>gP.test(t),bP=()=>{const t=be("colors"),e=be("spacing"),n=be("blur"),r=be("brightness"),i=be("borderColor"),s=be("borderRadius"),o=be("borderSpacing"),l=be("borderWidth"),c=be("contrast"),u=be("grayscale"),d=be("hueRotate"),f=be("invert"),m=be("gap"),p=be("gradientColorStops"),C=be("gradientColorStopPositions"),T=be("inset"),w=be("margin"),v=be("opacity"),_=be("padding"),E=be("saturate"),N=be("scale"),D=be("sepia"),M=be("skew"),S=be("space"),x=be("translate"),b=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ce,e],O=()=>[ce,e],R=()=>["",ur,zr],B=()=>["auto",ao,ce],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ce],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[ao,ce];return{cacheSize:500,separator:":",theme:{colors:[Ca],spacing:[ur,zr],blur:["none","",$r,ce],brightness:ne(),borderColor:[t],borderRadius:["none","","full",$r,ce],borderSpacing:O(),borderWidth:R(),contrast:ne(),grayscale:z(),hueRotate:ne(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[yP,zr],inset:k(),margin:k(),opacity:ne(),padding:O(),saturate:ne(),scale:ne(),sepia:z(),skew:ne(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[$r]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),ce]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ia,ce]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Ia,ce]}],"grid-cols":[{"grid-cols":[Ca]}],"col-start-end":[{col:["auto",{span:["full",Ia,ce]},ce]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Ca]}],"row-start-end":[{row:["auto",{span:[Ia,ce]},ce]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[$r]},$r]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$r,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$h]}],"font-family":[{font:[Ca]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",ao,$h]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ur,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ur,zr]}],"underline-offset":[{"underline-offset":["auto",ur,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),wP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_P]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TP]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[ur,ce]}],"outline-w":[{outline:[ur,zr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ur,zr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$r,xP]}],"shadow-color":[{shadow:[Ca]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$r,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ia,ce]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ur,zr,$h]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AP=cP(bP);function Ot(...t){return AP(B1(t))}const PP=zA,X1=P.forwardRef(({className:t,...e},n)=>y.jsx(M1,{ref:n,className:Ot("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));X1.displayName=M1.displayName;const RP=H1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),J1=P.forwardRef(({className:t,variant:e,...n},r)=>y.jsx(V1,{ref:r,className:Ot(RP({variant:e}),t),...n}));J1.displayName=V1.displayName;const kP=P.forwardRef(({className:t,...e},n)=>y.jsx(U1,{ref:n,className:Ot("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));kP.displayName=U1.displayName;const Z1=P.forwardRef(({className:t,...e},n)=>y.jsx(z1,{ref:n,className:Ot("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(QA,{className:"h-4 w-4"})}));Z1.displayName=z1.displayName;const eT=P.forwardRef(({className:t,...e},n)=>y.jsx(j1,{ref:n,className:Ot("text-sm font-semibold",t),...e}));eT.displayName=j1.displayName;const tT=P.forwardRef(({className:t,...e},n)=>y.jsx(F1,{ref:n,className:Ot("text-sm opacity-90",t),...e}));tT.displayName=F1.displayName;function NP(){const{toasts:t}=Gb();return y.jsxs(PP,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return y.jsxs(J1,{...s,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(eT,{children:n}),r&&y.jsx(tT,{children:r})]}),i,y.jsx(Z1,{})]},e)}),y.jsx(X1,{})]})}var zv=["light","dark"],OP="(prefers-color-scheme: dark)",DP=P.createContext(void 0),LP={setTheme:t=>{},themes:[]},MP=()=>{var t;return(t=P.useContext(DP))!=null?t:LP};P.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(C=>`'${C}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?zv.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(C,T=!1,w=!0)=>{let v=o?o[C]:C,_=T?C+"|| ''":`'${v}'`,E="";return i&&w&&!T&&zv.includes(C)&&(E+=`d.style.colorScheme = '${C}';`),n==="class"?T||v?E+=`c.add(${_})`:E+="null":v&&(E+=`d[s](n,${_})`),E},p=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${OP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(s,!1,!1)};}${f}}catch(t){}}();`;return P.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var VP=t=>{switch(t){case"success":return UP;case"info":return $P;case"warning":return zP;case"error":return BP;default:return null}},jP=Array(12).fill(0),FP=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},jP.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),UP=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zP=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$P=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),BP=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),HP=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),WP=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},op=1,qP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:op++,o=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,o,l=i.then(async u=>{if(o=["resolve",u],H.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(GP(u)&&!u.ok){s=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){s=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){s=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;s&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||op++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mt=new qP,KP=(t,e)=>{let n=(e==null?void 0:e.id)||op++;return Mt.addToast({title:t,...e,id:n}),n},GP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",QP=KP,YP=()=>Mt.toasts,XP=()=>Mt.getActiveToasts();Object.assign(QP,{success:Mt.success,info:Mt.info,warning:Mt.warning,error:Mt.error,custom:Mt.custom,message:Mt.message,promise:Mt.promise,dismiss:Mt.dismiss,loading:Mt.loading},{getHistory:YP,getToasts:XP});function JP(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}JP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function kc(t){return t.label!==void 0}var ZP=3,eR="32px",tR="16px",$v=4e3,nR=356,rR=14,iR=20,sR=200;function pn(...t){return t.filter(Boolean).join(" ")}function oR(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var aR=t=>{var e,n,r,i,s,o,l,c,u,d,f;let{invert:m,toast:p,unstyled:C,interacting:T,setHeights:w,visibleToasts:v,heights:_,index:E,toasts:N,expanded:D,removeToast:M,defaultRichColors:S,closeButton:x,style:b,cancelButtonStyle:A,actionButtonStyle:k,className:O="",descriptionClassName:R="",duration:B,position:re,gap:te,loadingIcon:ie,expandByDefault:j,classNames:z,icons:K,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:X}=t,[ue,le]=H.useState(null),[Re,He]=H.useState(null),[me,Rn]=H.useState(!1),[un,or]=H.useState(!1),[kn,ar]=H.useState(!1),[en,Bi]=H.useState(!1),[na,kr]=H.useState(!1),[Hi,Nr]=H.useState(0),[Ne,rt]=H.useState(0),Nn=H.useRef(p.duration||B||$v),Xl=H.useRef(null),On=H.useRef(null),Qd=E===0,Wi=E+1<=v,St=p.type,lr=p.dismissible!==!1,ra=p.className||"",Yd=p.descriptionClassName||"",Ns=H.useMemo(()=>_.findIndex(Z=>Z.toastId===p.id)||0,[_,p.id]),Jl=H.useMemo(()=>{var Z;return(Z=p.closeButton)!=null?Z:x},[p.closeButton,x]),ia=H.useMemo(()=>p.duration||B||$v,[p.duration,B]),cr=H.useRef(0),Dn=H.useRef(0),Os=H.useRef(0),Dt=H.useRef(null),[Zl,Ds]=re.split("-"),sa=H.useMemo(()=>_.reduce((Z,Ee,Se)=>Se>=Ns?Z:Z+Ee.height,0),[_,Ns]),Or=WP(),ec=p.invert||m,Qe=St==="loading";Dn.current=H.useMemo(()=>Ns*te+sa,[Ns,sa]),H.useEffect(()=>{Nn.current=ia},[ia]),H.useEffect(()=>{Rn(!0)},[]),H.useEffect(()=>{let Z=On.current;if(Z){let Ee=Z.getBoundingClientRect().height;return rt(Ee),w(Se=>[{toastId:p.id,height:Ee,position:p.position},...Se]),()=>w(Se=>Se.filter(it=>it.toastId!==p.id))}},[w,p.id]),H.useLayoutEffect(()=>{if(!me)return;let Z=On.current,Ee=Z.style.height;Z.style.height="auto";let Se=Z.getBoundingClientRect().height;Z.style.height=Ee,rt(Se),w(it=>it.find(Ht=>Ht.toastId===p.id)?it.map(Ht=>Ht.toastId===p.id?{...Ht,height:Se}:Ht):[{toastId:p.id,height:Se,position:p.position},...it])},[me,p.title,p.description,w,p.id]);let dn=H.useCallback(()=>{or(!0),Nr(Dn.current),w(Z=>Z.filter(Ee=>Ee.toastId!==p.id)),setTimeout(()=>{M(p)},sR)},[p,M,w,Dn]);H.useEffect(()=>{if(p.promise&&St==="loading"||p.duration===1/0||p.type==="loading")return;let Z;return D||T||X&&Or?(()=>{if(Os.current<cr.current){let Ee=new Date().getTime()-cr.current;Nn.current=Nn.current-Ee}Os.current=new Date().getTime()})():Nn.current!==1/0&&(cr.current=new Date().getTime(),Z=setTimeout(()=>{var Ee;(Ee=p.onAutoClose)==null||Ee.call(p,p),dn()},Nn.current)),()=>clearTimeout(Z)},[D,T,p,St,X,Or,dn]),H.useEffect(()=>{p.delete&&dn()},[dn,p.delete]);function qi(){var Z,Ee,Se;return K!=null&&K.loading?H.createElement("div",{className:pn(z==null?void 0:z.loader,(Z=p==null?void 0:p.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":St==="loading"},K.loading):ie?H.createElement("div",{className:pn(z==null?void 0:z.loader,(Ee=p==null?void 0:p.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":St==="loading"},ie):H.createElement(FP,{className:pn(z==null?void 0:z.loader,(Se=p==null?void 0:p.classNames)==null?void 0:Se.loader),visible:St==="loading"})}return H.createElement("li",{tabIndex:0,ref:On,className:pn(O,ra,z==null?void 0:z.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[St],(n=p==null?void 0:p.classNames)==null?void 0:n[St]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:S,"data-styled":!(p.jsx||p.unstyled||C),"data-mounted":me,"data-promise":!!p.promise,"data-swiped":na,"data-removed":un,"data-visible":Wi,"data-y-position":Zl,"data-x-position":Ds,"data-index":E,"data-front":Qd,"data-swiping":kn,"data-dismissible":lr,"data-type":St,"data-invert":ec,"data-swipe-out":en,"data-swipe-direction":Re,"data-expanded":!!(D||j&&me),style:{"--index":E,"--toasts-before":E,"--z-index":N.length-E,"--offset":`${un?Hi:Dn.current}px`,"--initial-height":j?"auto":`${Ne}px`,...b,...p.style},onDragEnd:()=>{ar(!1),le(null),Dt.current=null},onPointerDown:Z=>{Qe||!lr||(Xl.current=new Date,Nr(Dn.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(ar(!0),Dt.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,Ee,Se,it;if(en||!lr)return;Dt.current=null;let Ht=Number(((Z=On.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ln=Number(((Ee=On.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tn=new Date().getTime()-((Se=Xl.current)==null?void 0:Se.getTime()),Lt=ue==="x"?Ht:Ln,hn=Math.abs(Lt)/tn;if(Math.abs(Lt)>=iR||hn>.11){Nr(Dn.current),(it=p.onDismiss)==null||it.call(p,p),He(ue==="x"?Ht>0?"right":"left":Ln>0?"down":"up"),dn(),Bi(!0),kr(!1);return}ar(!1),le(null)},onPointerMove:Z=>{var Ee,Se,it,Ht;if(!Dt.current||!lr||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Ln=Z.clientY-Dt.current.y,tn=Z.clientX-Dt.current.x,Lt=(Se=t.swipeDirections)!=null?Se:oR(re);!ue&&(Math.abs(tn)>1||Math.abs(Ln)>1)&&le(Math.abs(tn)>Math.abs(Ln)?"x":"y");let hn={x:0,y:0};ue==="y"?(Lt.includes("top")||Lt.includes("bottom"))&&(Lt.includes("top")&&Ln<0||Lt.includes("bottom")&&Ln>0)&&(hn.y=Ln):ue==="x"&&(Lt.includes("left")||Lt.includes("right"))&&(Lt.includes("left")&&tn<0||Lt.includes("right")&&tn>0)&&(hn.x=tn),(Math.abs(hn.x)>0||Math.abs(hn.y)>0)&&kr(!0),(it=On.current)==null||it.style.setProperty("--swipe-amount-x",`${hn.x}px`),(Ht=On.current)==null||Ht.style.setProperty("--swipe-amount-y",`${hn.y}px`)}},Jl&&!p.jsx?H.createElement("button",{"aria-label":ne,"data-disabled":Qe,"data-close-button":!0,onClick:Qe||!lr?()=>{}:()=>{var Z;dn(),(Z=p.onDismiss)==null||Z.call(p,p)},className:pn(z==null?void 0:z.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=K==null?void 0:K.close)!=null?s:HP):null,p.jsx||P.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,St||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:pn(z==null?void 0:z.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||qi():null,p.type!=="loading"?p.icon||(K==null?void 0:K[St])||VP(St):null):null,H.createElement("div",{"data-content":"",className:pn(z==null?void 0:z.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:pn(z==null?void 0:z.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:pn(R,Yd,z==null?void 0:z.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),P.isValidElement(p.cancel)?p.cancel:p.cancel&&kc(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:Z=>{var Ee,Se;kc(p.cancel)&&lr&&((Se=(Ee=p.cancel).onClick)==null||Se.call(Ee,Z),dn())},className:pn(z==null?void 0:z.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,P.isValidElement(p.action)?p.action:p.action&&kc(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:Z=>{var Ee,Se;kc(p.action)&&((Se=(Ee=p.action).onClick)==null||Se.call(Ee,Z),!Z.defaultPrevented&&dn())},className:pn(z==null?void 0:z.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function Bv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function lR(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?tR:eR;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var cR=P.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:C=ZP,toastOptions:T,dir:w=Bv(),gap:v=rR,loadingIcon:_,icons:E,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:D}=t,[M,S]=H.useState([]),x=H.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[b,A]=H.useState([]),[k,O]=H.useState(!1),[R,B]=H.useState(!1),[re,te]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=H.useRef(null),j=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=H.useRef(null),K=H.useRef(!1),ne=H.useCallback(X=>{S(ue=>{var le;return(le=ue.find(Re=>Re.id===X.id))!=null&&le.delete||Mt.dismiss(X.id),ue.filter(({id:Re})=>Re!==X.id)})},[]);return H.useEffect(()=>Mt.subscribe(X=>{if(X.dismiss){S(ue=>ue.map(le=>le.id===X.id?{...le,delete:!0}:le));return}setTimeout(()=>{p1.flushSync(()=>{S(ue=>{let le=ue.findIndex(Re=>Re.id===X.id);return le!==-1?[...ue.slice(0,le),{...ue[le],...X},...ue.slice(le+1)]:[X,...ue]})})})}),[]),H.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ue})=>{te(ue?"dark":"light")})}catch{X.addListener(({matches:le})=>{try{te(le?"dark":"light")}catch(Re){console.error(Re)}})}},[d]),H.useEffect(()=>{M.length<=1&&O(!1)},[M]),H.useEffect(()=>{let X=ue=>{var le,Re;i.every(He=>ue[He]||ue.code===He)&&(O(!0),(le=ie.current)==null||le.focus()),ue.code==="Escape"&&(document.activeElement===ie.current||(Re=ie.current)!=null&&Re.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[i]),H.useEffect(()=>{if(ie.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,K.current=!1)}},[ie.current]),H.createElement("section",{ref:e,"aria-label":`${N} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},x.map((X,ue)=>{var le;let[Re,He]=X.split("-");return M.length?H.createElement("ol",{key:X,dir:w==="auto"?Bv():w,tabIndex:-1,ref:ie,className:l,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":Re,"data-lifted":k&&M.length>1&&!s,"data-x-position":He,style:{"--front-toast-height":`${((le=b[0])==null?void 0:le.height)||0}px`,"--width":`${nR}px`,"--gap":`${v}px`,...p,...lR(c,u)},onBlur:me=>{K.current&&!me.currentTarget.contains(me.relatedTarget)&&(K.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||K.current||(K.current=!0,z.current=me.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{R||O(!1)},onDragEnd:()=>O(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},M.filter(me=>!me.position&&ue===0||me.position===X).map((me,Rn)=>{var un,or;return H.createElement(aR,{key:me.id,icons:E,index:Rn,toast:me,defaultRichColors:f,duration:(un=T==null?void 0:T.duration)!=null?un:m,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:n,visibleToasts:C,closeButton:(or=T==null?void 0:T.closeButton)!=null?or:o,interacting:R,position:X,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,removeToast:ne,toasts:M.filter(kn=>kn.position==me.position),heights:b.filter(kn=>kn.position==me.position),setHeights:A,expandByDefault:s,gap:v,loadingIcon:_,expanded:k,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const uR=({...t})=>{const{theme:e="system"}=MP();return y.jsx(cR,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},dR=["top","right","bottom","left"],ki=Math.min,Kt=Math.max,Mu=Math.round,Nc=Math.floor,Yn=t=>({x:t,y:t}),hR={left:"right",right:"left",bottom:"top",top:"bottom"},fR={start:"end",end:"start"};function ap(t,e,n){return Kt(t,ki(e,n))}function Sr(t,e){return typeof t=="function"?t(e):t}function Ir(t){return t.split("-")[0]}function Wo(t){return t.split("-")[1]}function $m(t){return t==="x"?"y":"x"}function Bm(t){return t==="y"?"height":"width"}const pR=new Set(["top","bottom"]);function Kn(t){return pR.has(Ir(t))?"y":"x"}function Hm(t){return $m(Kn(t))}function mR(t,e,n){n===void 0&&(n=!1);const r=Wo(t),i=Hm(t),s=Bm(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Vu(o)),[o,Vu(o)]}function gR(t){const e=Vu(t);return[lp(t),e,lp(e)]}function lp(t){return t.replace(/start|end/g,e=>fR[e])}const Hv=["left","right"],Wv=["right","left"],yR=["top","bottom"],vR=["bottom","top"];function _R(t,e,n){switch(t){case"top":case"bottom":return n?e?Wv:Hv:e?Hv:Wv;case"left":case"right":return e?yR:vR;default:return[]}}function wR(t,e,n,r){const i=Wo(t);let s=_R(Ir(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(lp)))),s}function Vu(t){return t.replace(/left|right|bottom|top/g,e=>hR[e])}function ER(t){return{top:0,right:0,bottom:0,left:0,...t}}function nT(t){return typeof t!="number"?ER(t):{top:t,right:t,bottom:t,left:t}}function ju(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function qv(t,e,n){let{reference:r,floating:i}=t;const s=Kn(e),o=Hm(e),l=Bm(o),c=Ir(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Wo(e)){case"start":p[o]-=m*(n&&u?-1:1);break;case"end":p[o]+=m*(n&&u?-1:1);break}return p}const TR=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=qv(u,r,c),m=r,p={},C=0;for(let T=0;T<l.length;T++){const{name:w,fn:v}=l[T],{x:_,y:E,data:N,reset:D}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,f=E??f,p={...p,[w]:{...p[w],...N}},D&&C<=50&&(C++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:d,y:f}=qv(u,m,c)),T=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:p}};async function yl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=Sr(e,t),C=nT(p),w=l[m?f==="floating"?"reference":"floating":f],v=ju(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),_=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),N=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},D=ju(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:E,strategy:c}):_);return{top:(v.top-D.top+C.top)/N.y,bottom:(D.bottom-v.bottom+C.bottom)/N.y,left:(v.left-D.left+C.left)/N.x,right:(D.right-v.right+C.right)/N.x}}const xR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Sr(t,e)||{};if(u==null)return{};const f=nT(d),m={x:n,y:r},p=Hm(i),C=Bm(p),T=await o.getDimensions(u),w=p==="y",v=w?"top":"left",_=w?"bottom":"right",E=w?"clientHeight":"clientWidth",N=s.reference[C]+s.reference[p]-m[p]-s.floating[C],D=m[p]-s.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=M?M[E]:0;(!S||!await(o.isElement==null?void 0:o.isElement(M)))&&(S=l.floating[E]||s.floating[C]);const x=N/2-D/2,b=S/2-T[C]/2-1,A=ki(f[v],b),k=ki(f[_],b),O=A,R=S-T[C]-k,B=S/2-T[C]/2+x,re=ap(O,B,R),te=!c.arrow&&Wo(i)!=null&&B!==re&&s.reference[C]/2-(B<O?A:k)-T[C]/2<0,ie=te?B<O?B-O:B-R:0;return{[p]:m[p]+ie,data:{[p]:re,centerOffset:B-re-ie,...te&&{alignmentOffset:ie}},reset:te}}}),SR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:T=!0,...w}=Sr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Ir(i),_=Kn(l),E=Ir(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=m||(E||!T?[Vu(l)]:gR(l)),M=C!=="none";!m&&M&&D.push(...wR(l,T,C,N));const S=[l,...D],x=await yl(e,w),b=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&b.push(x[v]),f){const B=mR(i,o,N);b.push(x[B[0]],x[B[1]])}if(A=[...A,{placement:i,overflows:b}],!b.every(B=>B<=0)){var k,O;const B=(((k=s.flip)==null?void 0:k.index)||0)+1,re=S[B];if(re&&(!(f==="alignment"?_!==Kn(re):!1)||A.every(j=>j.overflows[0]>0&&Kn(j.placement)===_)))return{data:{index:B,overflows:A},reset:{placement:re}};let te=(O=A.filter(ie=>ie.overflows[0]<=0).sort((ie,j)=>ie.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!te)switch(p){case"bestFit":{var R;const ie=(R=A.filter(j=>{if(M){const z=Kn(j.placement);return z===_||z==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(z=>z>0).reduce((z,K)=>z+K,0)]).sort((j,z)=>j[1]-z[1])[0])==null?void 0:R[0];ie&&(te=ie);break}case"initialPlacement":te=l;break}if(i!==te)return{reset:{placement:te}}}return{}}}};function Kv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Gv(t){return dR.some(e=>t[e]>=0)}const IR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Sr(t,e);switch(r){case"referenceHidden":{const s=await yl(e,{...i,elementContext:"reference"}),o=Kv(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Gv(o)}}}case"escaped":{const s=await yl(e,{...i,altBoundary:!0}),o=Kv(s,n.floating);return{data:{escapedOffsets:o,escaped:Gv(o)}}}default:return{}}}}},rT=new Set(["left","top"]);async function CR(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ir(n),l=Wo(n),c=Kn(n)==="y",u=rT.has(o)?-1:1,d=s&&c?-1:1,f=Sr(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:C}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof C=="number"&&(p=l==="end"?C*-1:C),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const bR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await CR(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},AR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:v,y:_}=w;return{x:v,y:_}}},...c}=Sr(t,e),u={x:n,y:r},d=await yl(e,c),f=Kn(Ir(i)),m=$m(f);let p=u[m],C=u[f];if(s){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",_=p+d[w],E=p-d[v];p=ap(_,p,E)}if(o){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",_=C+d[w],E=C-d[v];C=ap(_,C,E)}const T=l.fn({...e,[m]:p,[f]:C});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[m]:s,[f]:o}}}}}},PR=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Sr(t,e),d={x:n,y:r},f=Kn(i),m=$m(f);let p=d[m],C=d[f];const T=Sr(l,e),w=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(c){const E=m==="y"?"height":"width",N=s.reference[m]-s.floating[E]+w.mainAxis,D=s.reference[m]+s.reference[E]-w.mainAxis;p<N?p=N:p>D&&(p=D)}if(u){var v,_;const E=m==="y"?"width":"height",N=rT.has(Ir(i)),D=s.reference[f]-s.floating[E]+(N&&((v=o.offset)==null?void 0:v[f])||0)+(N?0:w.crossAxis),M=s.reference[f]+s.reference[E]+(N?0:((_=o.offset)==null?void 0:_[f])||0)-(N?w.crossAxis:0);C<D?C=D:C>M&&(C=M)}return{[m]:p,[f]:C}}}},RR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Sr(t,e),d=await yl(e,u),f=Ir(i),m=Wo(i),p=Kn(i)==="y",{width:C,height:T}=s.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,w=m==="end"?"top":"bottom");const _=T-d.top-d.bottom,E=C-d.left-d.right,N=ki(T-d[w],_),D=ki(C-d[v],E),M=!e.middlewareData.shift;let S=N,x=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(x=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=_),M&&!m){const A=Kt(d.left,0),k=Kt(d.right,0),O=Kt(d.top,0),R=Kt(d.bottom,0);p?x=C-2*(A!==0||k!==0?A+k:Kt(d.left,d.right)):S=T-2*(O!==0||R!==0?O+R:Kt(d.top,d.bottom))}await c({...e,availableWidth:x,availableHeight:S});const b=await o.getDimensions(l.floating);return C!==b.width||T!==b.height?{reset:{rects:!0}}:{}}}};function xd(){return typeof window<"u"}function qo(t){return iT(t)?(t.nodeName||"").toLowerCase():"#document"}function Yt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ir(t){var e;return(e=(iT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iT(t){return xd()?t instanceof Node||t instanceof Yt(t).Node:!1}function bn(t){return xd()?t instanceof Element||t instanceof Yt(t).Element:!1}function er(t){return xd()?t instanceof HTMLElement||t instanceof Yt(t).HTMLElement:!1}function Qv(t){return!xd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yt(t).ShadowRoot}const kR=new Set(["inline","contents"]);function Ul(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=An(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!kR.has(i)}const NR=new Set(["table","td","th"]);function OR(t){return NR.has(qo(t))}const DR=[":popover-open",":modal"];function Sd(t){return DR.some(e=>{try{return t.matches(e)}catch{return!1}})}const LR=["transform","translate","scale","rotate","perspective"],MR=["transform","translate","scale","rotate","perspective","filter"],VR=["paint","layout","strict","content"];function Wm(t){const e=qm(),n=bn(t)?An(t):t;return LR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||MR.some(r=>(n.willChange||"").includes(r))||VR.some(r=>(n.contain||"").includes(r))}function jR(t){let e=Ni(t);for(;er(e)&&!Ro(e);){if(Wm(e))return e;if(Sd(e))return null;e=Ni(e)}return null}function qm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FR=new Set(["html","body","#document"]);function Ro(t){return FR.has(qo(t))}function An(t){return Yt(t).getComputedStyle(t)}function Id(t){return bn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ni(t){if(qo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Qv(t)&&t.host||ir(t);return Qv(e)?e.host:e}function sT(t){const e=Ni(t);return Ro(e)?t.ownerDocument?t.ownerDocument.body:t.body:er(e)&&Ul(e)?e:sT(e)}function vl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=sT(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Yt(i);if(s){const l=cp(o);return e.concat(o,o.visualViewport||[],Ul(i)?i:[],l&&n?vl(l):[])}return e.concat(i,vl(i,[],n))}function cp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function oT(t){const e=An(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=er(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=Mu(n)!==s||Mu(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function Km(t){return bn(t)?t:t.contextElement}function lo(t){const e=Km(t);if(!er(e))return Yn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=oT(e);let o=(s?Mu(n.width):n.width)/r,l=(s?Mu(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const UR=Yn(0);function aT(t){const e=Yt(t);return!qm()||!e.visualViewport?UR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zR(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yt(t)?!1:e}function xs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Km(t);let o=Yn(1);e&&(r?bn(r)&&(o=lo(r)):o=lo(t));const l=zR(s,n,r)?aT(s):Yn(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const m=Yt(s),p=r&&bn(r)?Yt(r):r;let C=m,T=cp(C);for(;T&&r&&p!==C;){const w=lo(T),v=T.getBoundingClientRect(),_=An(T),E=v.left+(T.clientLeft+parseFloat(_.paddingLeft))*w.x,N=v.top+(T.clientTop+parseFloat(_.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=E,u+=N,C=Yt(T),T=cp(C)}}return ju({width:d,height:f,x:c,y:u})}function Gm(t,e){const n=Id(t).scrollLeft;return e?e.left+n:xs(ir(t)).left+n}function lT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Gm(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function $R(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ir(r),l=e?Sd(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Yn(1);const d=Yn(0),f=er(r);if((f||!f&&!s)&&((qo(r)!=="body"||Ul(o))&&(c=Id(r)),er(r))){const p=xs(r);u=lo(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=o&&!f&&!s?lT(o,c,!0):Yn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function BR(t){return Array.from(t.getClientRects())}function HR(t){const e=ir(t),n=Id(t),r=t.ownerDocument.body,i=Kt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Kt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Gm(t);const l=-n.scrollTop;return An(r).direction==="rtl"&&(o+=Kt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function WR(t,e){const n=Yt(t),r=ir(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=qm();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}const qR=new Set(["absolute","fixed"]);function KR(t,e){const n=xs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=er(t)?lo(t):Yn(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function Yv(t,e,n){let r;if(e==="viewport")r=WR(t,n);else if(e==="document")r=HR(ir(t));else if(bn(e))r=KR(e,n);else{const i=aT(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ju(r)}function cT(t,e){const n=Ni(t);return n===e||!bn(n)||Ro(n)?!1:An(n).position==="fixed"||cT(n,e)}function GR(t,e){const n=e.get(t);if(n)return n;let r=vl(t,[],!1).filter(l=>bn(l)&&qo(l)!=="body"),i=null;const s=An(t).position==="fixed";let o=s?Ni(t):t;for(;bn(o)&&!Ro(o);){const l=An(o),c=Wm(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&qR.has(i.position)||Ul(o)&&!c&&cT(t,o))?r=r.filter(d=>d!==o):i=l,o=Ni(o)}return e.set(t,r),r}function QR(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Sd(e)?[]:GR(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=Yv(e,d,i);return u.top=Kt(f.top,u.top),u.right=ki(f.right,u.right),u.bottom=ki(f.bottom,u.bottom),u.left=Kt(f.left,u.left),u},Yv(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function YR(t){const{width:e,height:n}=oT(t);return{width:e,height:n}}function XR(t,e,n){const r=er(e),i=ir(e),s=n==="fixed",o=xs(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Yn(0);function u(){c.x=Gm(i)}if(r||!r&&!s)if((qo(e)!=="body"||Ul(i))&&(l=Id(e)),r){const p=xs(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?lT(i,l):Yn(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function Bh(t){return An(t).position==="static"}function Xv(t,e){if(!er(t)||An(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ir(t)===n&&(n=n.ownerDocument.body),n}function uT(t,e){const n=Yt(t);if(Sd(t))return n;if(!er(t)){let i=Ni(t);for(;i&&!Ro(i);){if(bn(i)&&!Bh(i))return i;i=Ni(i)}return n}let r=Xv(t,e);for(;r&&OR(r)&&Bh(r);)r=Xv(r,e);return r&&Ro(r)&&Bh(r)&&!Wm(r)?n:r||jR(t)||n}const JR=async function(t){const e=this.getOffsetParent||uT,n=this.getDimensions,r=await n(t.floating);return{reference:XR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZR(t){return An(t).direction==="rtl"}const ek={convertOffsetParentRelativeRectToViewportRelativeRect:$R,getDocumentElement:ir,getClippingRect:QR,getOffsetParent:uT,getElementRects:JR,getClientRects:BR,getDimensions:YR,getScale:lo,isElement:bn,isRTL:ZR};function dT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function tk(t,e){let n=null,r;const i=ir(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||e(),!m||!p)return;const C=Nc(f),T=Nc(i.clientWidth-(d+m)),w=Nc(i.clientHeight-(f+p)),v=Nc(d),E={rootMargin:-C+"px "+-T+"px "+-w+"px "+-v+"px",threshold:Kt(0,ki(1,c))||1};let N=!0;function D(M){const S=M[0].intersectionRatio;if(S!==c){if(!N)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!dT(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(D,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,E)}n.observe(t)}return o(!0),s}function nk(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Km(t),d=i||s?[...u?vl(u):[],...vl(e)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const f=u&&l?tk(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(v=>{let[_]=v;_&&_.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let C,T=c?xs(t):null;c&&w();function w(){const v=xs(t);T&&!dT(T,v)&&n(),T=v,C=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(C)}}const rk=bR,ik=AR,sk=SR,ok=RR,ak=IR,Jv=xR,lk=PR,ck=(t,e,n)=>{const r=new Map,i={platform:ek,...n},s={...i.platform,_c:r};return TR(t,e,{...i,platform:s})};var uk=typeof document<"u",dk=function(){},tu=uk?P.useLayoutEffect:dk;function Fu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Fu(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Fu(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function hT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Zv(t,e){const n=hT(t);return Math.round(e*n)/n}function Hh(t){const e=P.useRef(t);return tu(()=>{e.current=t}),e}function hk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=P.useState(r);Fu(m,r)||p(r);const[C,T]=P.useState(null),[w,v]=P.useState(null),_=P.useCallback(j=>{j!==M.current&&(M.current=j,T(j))},[]),E=P.useCallback(j=>{j!==S.current&&(S.current=j,v(j))},[]),N=s||C,D=o||w,M=P.useRef(null),S=P.useRef(null),x=P.useRef(d),b=c!=null,A=Hh(c),k=Hh(i),O=Hh(u),R=P.useCallback(()=>{if(!M.current||!S.current)return;const j={placement:e,strategy:n,middleware:m};k.current&&(j.platform=k.current),ck(M.current,S.current,j).then(z=>{const K={...z,isPositioned:O.current!==!1};B.current&&!Fu(x.current,K)&&(x.current=K,jl.flushSync(()=>{f(K)}))})},[m,e,n,k,O]);tu(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const B=P.useRef(!1);tu(()=>(B.current=!0,()=>{B.current=!1}),[]),tu(()=>{if(N&&(M.current=N),D&&(S.current=D),N&&D){if(A.current)return A.current(N,D,R);R()}},[N,D,R,A,b]);const re=P.useMemo(()=>({reference:M,floating:S,setReference:_,setFloating:E}),[_,E]),te=P.useMemo(()=>({reference:N,floating:D}),[N,D]),ie=P.useMemo(()=>{const j={position:n,left:0,top:0};if(!te.floating)return j;const z=Zv(te.floating,d.x),K=Zv(te.floating,d.y);return l?{...j,transform:"translate("+z+"px, "+K+"px)",...hT(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:K}},[n,l,te.floating,d.x,d.y]);return P.useMemo(()=>({...d,update:R,refs:re,elements:te,floatingStyles:ie}),[d,R,re,te,ie])}const fk=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Jv({element:r.current,padding:i}).fn(n):{}:r?Jv({element:r,padding:i}).fn(n):{}}}},pk=(t,e)=>({...rk(t),options:[t,e]}),mk=(t,e)=>({...ik(t),options:[t,e]}),gk=(t,e)=>({...lk(t),options:[t,e]}),yk=(t,e)=>({...sk(t),options:[t,e]}),vk=(t,e)=>({...ok(t),options:[t,e]}),_k=(t,e)=>({...ak(t),options:[t,e]}),wk=(t,e)=>({...fk(t),options:[t,e]});var Ek="Arrow",fT=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return y.jsx(Bt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});fT.displayName=Ek;var Tk=fT;function xk(t){const[e,n]=P.useState(void 0);return Ri(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var pT="Popper",[mT,gT]=wd(pT),[Uj,yT]=mT(pT),vT="PopperAnchor",_T=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=yT(vT,n),o=P.useRef(null),l=Cn(e,o);return P.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:y.jsx(Bt.div,{...i,ref:l})});_T.displayName=vT;var Qm="PopperContent",[Sk,Ik]=mT(Qm),wT=P.forwardRef((t,e)=>{var me,Rn,un,or,kn,ar;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:C,...T}=t,w=yT(Qm,n),[v,_]=P.useState(null),E=Cn(e,en=>_(en)),[N,D]=P.useState(null),M=xk(N),S=(M==null?void 0:M.width)??0,x=(M==null?void 0:M.height)??0,b=r+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],O=k.length>0,R={padding:A,boundary:k.filter(bk),altBoundary:O},{refs:B,floatingStyles:re,placement:te,isPositioned:ie,middlewareData:j}=hk({strategy:"fixed",placement:b,whileElementsMounted:(...en)=>nk(...en,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[pk({mainAxis:i+x,alignmentAxis:o}),c&&mk({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?gk():void 0,...R}),c&&yk({...R}),vk({...R,apply:({elements:en,rects:Bi,availableWidth:na,availableHeight:kr})=>{const{width:Hi,height:Nr}=Bi.reference,Ne=en.floating.style;Ne.setProperty("--radix-popper-available-width",`${na}px`),Ne.setProperty("--radix-popper-available-height",`${kr}px`),Ne.setProperty("--radix-popper-anchor-width",`${Hi}px`),Ne.setProperty("--radix-popper-anchor-height",`${Nr}px`)}}),N&&wk({element:N,padding:l}),Ak({arrowWidth:S,arrowHeight:x}),m&&_k({strategy:"referenceHidden",...R})]}),[z,K]=xT(te),ne=Pi(C);Ri(()=>{ie&&(ne==null||ne())},[ie,ne]);const X=(me=j.arrow)==null?void 0:me.x,ue=(Rn=j.arrow)==null?void 0:Rn.y,le=((un=j.arrow)==null?void 0:un.centerOffset)!==0,[Re,He]=P.useState();return Ri(()=>{v&&He(window.getComputedStyle(v).zIndex)},[v]),y.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ie?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(or=j.transformOrigin)==null?void 0:or.x,(kn=j.transformOrigin)==null?void 0:kn.y].join(" "),...((ar=j.hide)==null?void 0:ar.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(Sk,{scope:n,placedSide:z,onArrowChange:D,arrowX:X,arrowY:ue,shouldHideArrow:le,children:y.jsx(Bt.div,{"data-side":z,"data-align":K,...T,ref:E,style:{...T.style,animation:ie?void 0:"none"}})})})});wT.displayName=Qm;var ET="PopperArrow",Ck={top:"bottom",right:"left",bottom:"top",left:"right"},TT=P.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Ik(ET,r),o=Ck[s.placedSide];return y.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:y.jsx(Tk,{...i,ref:n,style:{...i.style,display:"block"}})})});TT.displayName=ET;function bk(t){return t!==null}var Ak=t=>({name:"transformOrigin",options:t,fn(e){var w,v,_;const{placement:n,rects:r,middlewareData:i}=e,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=xT(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,p=(((_=i.arrow)==null?void 0:_.y)??0)+c/2;let C="",T="";return u==="bottom"?(C=o?f:`${m}px`,T=`${-c}px`):u==="top"?(C=o?f:`${m}px`,T=`${r.floating.height+c}px`):u==="right"?(C=`${-c}px`,T=o?f:`${p}px`):u==="left"&&(C=`${r.floating.width+c}px`,T=o?f:`${p}px`),{data:{x:C,y:T}}}});function xT(t){const[e,n="center"]=t.split("-");return[e,n]}var Pk=_T,Rk=wT,kk=TT,[Cd,zj]=wd("Tooltip",[gT]),Ym=gT(),ST="TooltipProvider",Nk=700,e0="tooltip.open",[Ok,IT]=Cd(ST),CT=t=>{const{__scopeTooltip:e,delayDuration:n=Nk,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=P.useRef(!0),l=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),y.jsx(Ok,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:P.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};CT.displayName=ST;var bT="Tooltip",[$j,bd]=Cd(bT),up="TooltipTrigger",Dk=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=bd(up,n),s=IT(up,n),o=Ym(n),l=P.useRef(null),c=Cn(e,l,i.onTriggerChange),u=P.useRef(!1),d=P.useRef(!1),f=P.useCallback(()=>u.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),y.jsx(Pk,{asChild:!0,...o,children:y.jsx(Bt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Je(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Je(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Je(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Je(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Je(t.onBlur,i.onClose),onClick:Je(t.onClick,i.onClose)})})});Dk.displayName=up;var Lk="TooltipPortal",[Bj,Mk]=Cd(Lk,{forceMount:void 0}),ko="TooltipContent",AT=P.forwardRef((t,e)=>{const n=Mk(ko,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=bd(ko,t.__scopeTooltip);return y.jsx(Vm,{present:r||o.open,children:o.disableHoverableContent?y.jsx(PT,{side:i,...s,ref:e}):y.jsx(Vk,{side:i,...s,ref:e})})}),Vk=P.forwardRef((t,e)=>{const n=bd(ko,t.__scopeTooltip),r=IT(ko,t.__scopeTooltip),i=P.useRef(null),s=Cn(e,i),[o,l]=P.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,m=P.useCallback(()=>{l(null),f(!1)},[f]),p=P.useCallback((C,T)=>{const w=C.currentTarget,v={x:C.clientX,y:C.clientY},_=$k(v,w.getBoundingClientRect()),E=Bk(v,_),N=Hk(T.getBoundingClientRect()),D=qk([...E,...N]);l(D),f(!0)},[f]);return P.useEffect(()=>()=>m(),[m]),P.useEffect(()=>{if(c&&d){const C=w=>p(w,d),T=w=>p(w,c);return c.addEventListener("pointerleave",C),d.addEventListener("pointerleave",T),()=>{c.removeEventListener("pointerleave",C),d.removeEventListener("pointerleave",T)}}},[c,d,p,m]),P.useEffect(()=>{if(o){const C=T=>{const w=T.target,v={x:T.clientX,y:T.clientY},_=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),E=!Wk(v,o);_?m():E&&(m(),u())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[c,d,o,u,m]),y.jsx(PT,{...t,ref:s})}),[jk,Fk]=Cd(bT,{isInside:!1}),Uk=Jb("TooltipContent"),PT=P.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=bd(ko,n),u=Ym(n),{onClose:d}=c;return P.useEffect(()=>(document.addEventListener(e0,d),()=>document.removeEventListener(e0,d)),[d]),P.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),y.jsx(Mm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:y.jsxs(Rk,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(Uk,{children:r}),y.jsx(jk,{scope:n,isInside:!0,children:y.jsx(xA,{id:c.contentId,role:"tooltip",children:i||r})})]})})});AT.displayName=ko;var RT="TooltipArrow",zk=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ym(n);return Fk(RT,n).isInside?null:y.jsx(kk,{...i,...r,ref:e})});zk.displayName=RT;function $k(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Bk(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Hk(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Wk(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function qk(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Kk(e)}function Kk(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Gk=CT,kT=AT;const Qk=Gk,Yk=P.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(kT,{ref:r,sideOffset:e,className:Ot("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Yk.displayName=kT.displayName;var Ad=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Pd=typeof window>"u"||"Deno"in globalThis;function gn(){}function Xk(t,e){return typeof t=="function"?t(e):t}function Jk(t){return typeof t=="number"&&t>=0&&t!==1/0}function Zk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dp(t,e){return typeof t=="function"?t(e):t}function eN(t,e){return typeof t=="function"?t(e):t}function t0(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==Xm(o,e.options))return!1}else if(!wl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function n0(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(_l(e.options.mutationKey)!==_l(s))return!1}else if(!wl(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Xm(t,e){return((e==null?void 0:e.queryKeyHashFn)||_l)(t)}function _l(t){return JSON.stringify(t,(e,n)=>hp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function wl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>wl(t[n],e[n])):!1}function NT(t,e){if(t===e)return t;const n=r0(t)&&r0(e);if(n||hp(t)&&hp(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:s[d];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=NT(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function r0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hp(t){if(!i0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!i0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function i0(t){return Object.prototype.toString.call(t)==="[object Object]"}function tN(t){return new Promise(e=>{setTimeout(e,t)})}function nN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?NT(t,e):e}function rN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function iN(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Jm=Symbol();function OT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Jm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var os,ni,mo,q_,sN=(q_=class extends Ad{constructor(){super();we(this,os);we(this,ni);we(this,mo);oe(this,mo,e=>{if(!Pd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,ni)||this.setEventListener(F(this,mo))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,ni))==null||e.call(this),oe(this,ni,void 0))}setEventListener(e){var n;oe(this,mo,e),(n=F(this,ni))==null||n.call(this),oe(this,ni,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,os)!==e&&(oe(this,os,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,os)=="boolean"?F(this,os):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},os=new WeakMap,ni=new WeakMap,mo=new WeakMap,q_),DT=new sN,go,ri,yo,K_,oN=(K_=class extends Ad{constructor(){super();we(this,go,!0);we(this,ri);we(this,yo);oe(this,yo,e=>{if(!Pd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,ri)||this.setEventListener(F(this,yo))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,ri))==null||e.call(this),oe(this,ri,void 0))}setEventListener(e){var n;oe(this,yo,e),(n=F(this,ri))==null||n.call(this),oe(this,ri,e(this.setOnline.bind(this)))}setOnline(e){F(this,go)!==e&&(oe(this,go,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,go)}},go=new WeakMap,ri=new WeakMap,yo=new WeakMap,K_),Uu=new oN;function aN(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function lN(t){return Math.min(1e3*2**t,3e4)}function LT(t){return(t??"online")==="online"?Uu.isOnline():!0}var MT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Wh(t){return t instanceof MT}function VT(t){let e=!1,n=0,r=!1,i;const s=aN(),o=T=>{var w;r||(m(new MT(T)),(w=t.abort)==null||w.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>DT.isFocused()&&(t.networkMode==="always"||Uu.isOnline())&&t.canRun(),d=()=>LT(t.networkMode)&&t.canRun(),f=T=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,T),i==null||i(),s.resolve(T))},m=T=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,T),i==null||i(),s.reject(T))},p=()=>new Promise(T=>{var w;i=v=>{(r||u())&&T(v)},(w=t.onPause)==null||w.call(t)}).then(()=>{var T;i=void 0,r||(T=t.onContinue)==null||T.call(t)}),C=()=>{if(r)return;let T;const w=n===0?t.initialPromise:void 0;try{T=w??t.fn()}catch(v){T=Promise.reject(v)}Promise.resolve(T).then(f).catch(v=>{var M;if(r)return;const _=t.retry??(Pd?0:3),E=t.retryDelay??lN,N=typeof E=="function"?E(n,v):E,D=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,v);if(e||!D){m(v);return}n++,(M=t.onFail)==null||M.call(t,n,v),tN(N).then(()=>u()?void 0:p()).then(()=>{e?m(v):C()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?C():p().then(C),s)}}var cN=t=>setTimeout(t,0);function uN(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=cN;const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var bt=uN(),as,G_,jT=(G_=class{constructor(){we(this,as)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jk(this.gcTime)&&oe(this,as,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pd?1/0:5*60*1e3))}clearGcTimeout(){F(this,as)&&(clearTimeout(F(this,as)),oe(this,as,void 0))}},as=new WeakMap,G_),vo,ls,nn,cs,vt,kl,us,yn,dr,Q_,dN=(Q_=class extends jT{constructor(n){super();we(this,yn);we(this,vo);we(this,ls);we(this,nn);we(this,cs);we(this,vt);we(this,kl);we(this,us);oe(this,us,!1),oe(this,kl,n.defaultOptions),this.setOptions(n.options),this.observers=[],oe(this,cs,n.client),oe(this,nn,F(this,cs).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,oe(this,vo,fN(this.options)),this.state=n.state??F(this,vo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,vt))==null?void 0:n.promise}setOptions(n){this.options={...F(this,kl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,nn).remove(this)}setData(n,r){const i=nN(this.state.data,n,this.options);return pt(this,yn,dr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){pt(this,yn,dr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=F(this,vt))==null?void 0:i.promise;return(s=F(this,vt))==null||s.cancel(n),r?r.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,vo))}isActive(){return this.observers.some(n=>eN(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>dp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Zk(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,vt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,vt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,nn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,vt)&&(F(this,us)?F(this,vt).cancel({revert:!0}):F(this,vt).cancelRetry()),this.scheduleGc()),F(this,nn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pt(this,yn,dr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,vt))return F(this,vt).continueRetry(),F(this,vt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(C=>C.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(oe(this,us,!0),i.signal)})},o=()=>{const p=OT(this.options,r),T=(()=>{const w={client:F(this,cs),queryKey:this.queryKey,meta:this.meta};return s(w),w})();return oe(this,us,!1),this.options.persister?this.options.persister(p,T,this):p(T)},c=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,cs),state:this.state,fetchFn:o};return s(p),p})();(d=this.options.behavior)==null||d.onFetch(c,this),oe(this,ls,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&pt(this,yn,dr).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=p=>{var C,T,w,v;Wh(p)&&p.silent||pt(this,yn,dr).call(this,{type:"error",error:p}),Wh(p)||((T=(C=F(this,nn).config).onError)==null||T.call(C,p,this),(v=(w=F(this,nn).config).onSettled)==null||v.call(w,this.state.data,p,this)),this.scheduleGc()};return oe(this,vt,VT({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var C,T,w,v;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(_){u(_);return}(T=(C=F(this,nn).config).onSuccess)==null||T.call(C,p,this),(v=(w=F(this,nn).config).onSettled)==null||v.call(w,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,C)=>{pt(this,yn,dr).call(this,{type:"failed",failureCount:p,error:C})},onPause:()=>{pt(this,yn,dr).call(this,{type:"pause"})},onContinue:()=>{pt(this,yn,dr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),F(this,vt).start()}},vo=new WeakMap,ls=new WeakMap,nn=new WeakMap,cs=new WeakMap,vt=new WeakMap,kl=new WeakMap,us=new WeakMap,yn=new WeakSet,dr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...hN(i.data,this.options),fetchMeta:n.meta??null};case"success":return oe(this,ls,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Wh(s)&&s.revert&&F(this,ls)?{...F(this,ls),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),bt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),F(this,nn).notify({query:this,type:"updated",action:n})})},Q_);function hN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var zn,Y_,pN=(Y_=class extends Ad{constructor(e={}){super();we(this,zn);this.config=e,oe(this,zn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Xm(i,n);let o=this.get(s);return o||(o=new dN({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){F(this,zn).has(e.queryHash)||(F(this,zn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,zn).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,zn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){bt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,zn).get(e)}getAll(){return[...F(this,zn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>t0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>t0(e,r)):n}notify(e){bt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){bt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){bt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},zn=new WeakMap,Y_),$n,It,ds,Bn,Hr,X_,mN=(X_=class extends jT{constructor(n){super();we(this,Bn);we(this,$n);we(this,It);we(this,ds);this.mutationId=n.mutationId,oe(this,It,n.mutationCache),oe(this,$n,[]),this.state=n.state||gN(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,$n).includes(n)||(F(this,$n).push(n),this.clearGcTimeout(),F(this,It).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){oe(this,$n,F(this,$n).filter(r=>r!==n)),this.scheduleGc(),F(this,It).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,$n).length||(this.state.status==="pending"?this.scheduleGc():F(this,It).remove(this))}continue(){var n;return((n=F(this,ds))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,l,c,u,d,f,m,p,C,T,w,v,_,E,N,D,M,S,x,b;const r=()=>{pt(this,Bn,Hr).call(this,{type:"continue"})};oe(this,ds,VT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{pt(this,Bn,Hr).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{pt(this,Bn,Hr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,It).canRun(this)}));const i=this.state.status==="pending",s=!F(this,ds).canStart();try{if(i)r();else{pt(this,Bn,Hr).call(this,{type:"pending",variables:n,isPaused:s}),await((l=(o=F(this,It).config).onMutate)==null?void 0:l.call(o,n,this));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));k!==this.state.context&&pt(this,Bn,Hr).call(this,{type:"pending",context:k,variables:n,isPaused:s})}const A=await F(this,ds).start();return await((f=(d=F(this,It).config).onSuccess)==null?void 0:f.call(d,A,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,A,n,this.state.context)),await((T=(C=F(this,It).config).onSettled)==null?void 0:T.call(C,A,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,A,null,n,this.state.context)),pt(this,Bn,Hr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((E=(_=F(this,It).config).onError)==null?void 0:E.call(_,A,n,this.state.context,this)),await((D=(N=this.options).onError)==null?void 0:D.call(N,A,n,this.state.context)),await((S=(M=F(this,It).config).onSettled)==null?void 0:S.call(M,void 0,A,this.state.variables,this.state.context,this)),await((b=(x=this.options).onSettled)==null?void 0:b.call(x,void 0,A,n,this.state.context)),A}finally{pt(this,Bn,Hr).call(this,{type:"error",error:A})}}finally{F(this,It).runNext(this)}}},$n=new WeakMap,It=new WeakMap,ds=new WeakMap,Bn=new WeakSet,Hr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),bt.batch(()=>{F(this,$n).forEach(i=>{i.onMutationUpdate(n)}),F(this,It).notify({mutation:this,type:"updated",action:n})})},X_);function gN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pr,vn,Nl,J_,yN=(J_=class extends Ad{constructor(e={}){super();we(this,pr);we(this,vn);we(this,Nl);this.config=e,oe(this,pr,new Set),oe(this,vn,new Map),oe(this,Nl,0)}build(e,n,r){const i=new mN({mutationCache:this,mutationId:++uc(this,Nl)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){F(this,pr).add(e);const n=Oc(e);if(typeof n=="string"){const r=F(this,vn).get(n);r?r.push(e):F(this,vn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,pr).delete(e)){const n=Oc(e);if(typeof n=="string"){const r=F(this,vn).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&F(this,vn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Oc(e);if(typeof n=="string"){const r=F(this,vn).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Oc(e);if(typeof n=="string"){const i=(r=F(this,vn).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){bt.batch(()=>{F(this,pr).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,pr).clear(),F(this,vn).clear()})}getAll(){return Array.from(F(this,pr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>n0(n,r))}findAll(e={}){return this.getAll().filter(n=>n0(e,n))}notify(e){bt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return bt.batch(()=>Promise.all(e.map(n=>n.continue().catch(gn))))}},pr=new WeakMap,vn=new WeakMap,Nl=new WeakMap,J_);function Oc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function s0(t){return{onFetch:(e,n)=>{var d,f,m,p,C;const r=e.options,i=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((C=e.state.data)==null?void 0:C.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let T=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},v=OT(e.options,e.fetchOptions),_=async(E,N,D)=>{if(T)return Promise.reject();if(N==null&&E.pages.length)return Promise.resolve(E);const S=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:N,direction:D?"backward":"forward",meta:e.options.meta};return w(k),k})(),x=await v(S),{maxPages:b}=e.options,A=D?iN:rN;return{pages:A(E.pages,x,b),pageParams:A(E.pageParams,N,b)}};if(i&&s.length){const E=i==="backward",N=E?vN:o0,D={pages:s,pageParams:o},M=N(r,D);l=await _(D,M,E)}else{const E=t??s.length;do{const N=c===0?o[0]??r.initialPageParam:o0(r,l);if(c>0&&N==null)break;l=await _(l,N),c++}while(c<E)}return l};e.options.persister?e.fetchFn=()=>{var T,w;return(w=(T=e.options).persister)==null?void 0:w.call(T,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function o0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function vN(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Fe,ii,si,_o,wo,oi,Eo,To,Z_,_N=(Z_=class{constructor(t={}){we(this,Fe);we(this,ii);we(this,si);we(this,_o);we(this,wo);we(this,oi);we(this,Eo);we(this,To);oe(this,Fe,t.queryCache||new pN),oe(this,ii,t.mutationCache||new yN),oe(this,si,t.defaultOptions||{}),oe(this,_o,new Map),oe(this,wo,new Map),oe(this,oi,0)}mount(){uc(this,oi)._++,F(this,oi)===1&&(oe(this,Eo,DT.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Fe).onFocus())})),oe(this,To,Uu.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Fe).onOnline())})))}unmount(){var t,e;uc(this,oi)._--,F(this,oi)===0&&((t=F(this,Eo))==null||t.call(this),oe(this,Eo,void 0),(e=F(this,To))==null||e.call(this),oe(this,To,void 0))}isFetching(t){return F(this,Fe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,ii).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Fe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,Fe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(dp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,Fe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=F(this,Fe).get(r.queryHash),s=i==null?void 0:i.state.data,o=Xk(e,s);if(o!==void 0)return F(this,Fe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return bt.batch(()=>F(this,Fe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,Fe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,Fe);bt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,Fe);return bt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=bt.batch(()=>F(this,Fe).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(gn).catch(gn)}invalidateQueries(t,e={}){return bt.batch(()=>(F(this,Fe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=bt.batch(()=>F(this,Fe).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(gn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(gn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,Fe).build(this,e);return n.isStaleByTime(dp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gn).catch(gn)}fetchInfiniteQuery(t){return t.behavior=s0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gn).catch(gn)}ensureInfiniteQueryData(t){return t.behavior=s0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uu.isOnline()?F(this,ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Fe)}getMutationCache(){return F(this,ii)}getDefaultOptions(){return F(this,si)}setDefaultOptions(t){oe(this,si,t)}setQueryDefaults(t,e){F(this,_o).set(_l(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,_o).values()],n={};return e.forEach(r=>{wl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,wo).set(_l(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,wo).values()],n={};return e.forEach(r=>{wl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,si).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Xm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Jm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,si).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Fe).clear(),F(this,ii).clear()}},Fe=new WeakMap,ii=new WeakMap,si=new WeakMap,_o=new WeakMap,wo=new WeakMap,oi=new WeakMap,Eo=new WeakMap,To=new WeakMap,Z_),wN=P.createContext(void 0),EN=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(wN.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(this,arguments)}var ci;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ci||(ci={}));const a0="popstate";function TN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return fp("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:FT(i)}return SN(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xN(){return Math.random().toString(36).substr(2,8)}function l0(t,e){return{usr:t.state,key:t.key,idx:e}}function fp(t,e,n,r){return n===void 0&&(n=null),El({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ko(e):e,{state:n,key:e&&e.key||r||xN()})}function FT(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function SN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ci.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(El({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ci.Pop;let w=d(),v=w==null?null:w-u;u=w,c&&c({action:l,location:T.location,delta:v})}function m(w,v){l=ci.Push;let _=fp(T.location,w,v);u=d()+1;let E=l0(_,u),N=T.createHref(_);try{o.pushState(E,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(N)}s&&c&&c({action:l,location:T.location,delta:1})}function p(w,v){l=ci.Replace;let _=fp(T.location,w,v);u=d();let E=l0(_,u),N=T.createHref(_);o.replaceState(E,"",N),s&&c&&c({action:l,location:T.location,delta:0})}function C(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof w=="string"?w:FT(w);return _=_.replace(/ $/,"%20"),tt(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let T={get action(){return l},get location(){return t(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(a0,f),c=w,()=>{i.removeEventListener(a0,f),c=null}},createHref(w){return e(i,w)},createURL:C,encodeLocation(w){let v=C(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(w){return o.go(w)}};return T}var c0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(c0||(c0={}));function IN(t,e,n){return n===void 0&&(n="/"),CN(t,e,n,!1)}function CN(t,e,n,r){let i=typeof e=="string"?Ko(e):e,s=$T(i.pathname||"/",n);if(s==null)return null;let o=UT(t);bN(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=jN(s);l=MN(o[c],u,r)}return l}function UT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ps([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),UT(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:DN(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of zT(s.path))i(s,o,c)}),e}function zT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zT(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function bN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AN=/^:[\w-]+$/,PN=3,RN=2,kN=1,NN=10,ON=-2,u0=t=>t==="*";function DN(t,e){let n=t.split("/"),r=n.length;return n.some(u0)&&(r+=ON),e&&(r+=RN),n.filter(i=>!u0(i)).reduce((i,s)=>i+(AN.test(s)?PN:s===""?kN:NN),r)}function LN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function MN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=d0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=d0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ps([s,f.pathname]),pathnameBase:WN(ps([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=ps([s,f.pathnameBase]))}return o}function d0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let T=l[f]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const C=l[f];return p&&!C?u[m]=void 0:u[m]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function VN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $T(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const FN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UN=t=>FN.test(t);function zN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ko(t):t,s;if(n)if(UN(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Zm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=h0(n.substring(1),"/"):s=h0(n,e)}else s=e;return{pathname:s,search:qN(r),hash:KN(i)}}function h0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $N(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BN(t,e){let n=$N(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function HN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ko(t):(i=El({},t),tt(!i.pathname||!i.pathname.includes("?"),qh("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),qh("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),qh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=zN(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ps=t=>t.join("/").replace(/\/\/+/g,"/"),WN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BT=["post","put","patch","delete"];new Set(BT);const QN=["get",...BT];new Set(QN);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}const eg=P.createContext(null),YN=P.createContext(null),Rd=P.createContext(null),kd=P.createContext(null),Go=P.createContext({outlet:null,matches:[],isDataRoute:!1}),HT=P.createContext(null);function Nd(){return P.useContext(kd)!=null}function tg(){return Nd()||tt(!1),P.useContext(kd).location}function WT(t){P.useContext(Rd).static||P.useLayoutEffect(t)}function qT(){let{isDataRoute:t}=P.useContext(Go);return t?c2():XN()}function XN(){Nd()||tt(!1);let t=P.useContext(eg),{basename:e,future:n,navigator:r}=P.useContext(Rd),{matches:i}=P.useContext(Go),{pathname:s}=tg(),o=JSON.stringify(BN(i,n.v7_relativeSplatPath)),l=P.useRef(!1);return WT(()=>{l.current=!0}),P.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=HN(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ps([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}function JN(t,e){return ZN(t,e)}function ZN(t,e,n,r){Nd()||tt(!1);let{navigator:i}=P.useContext(Rd),{matches:s}=P.useContext(Go),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=tg(),d;if(e){var f;let w=typeof e=="string"?Ko(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||tt(!1),d=w}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let C=IN(t,{pathname:p}),T=i2(C&&C.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ps([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ps([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&T?P.createElement(kd.Provider,{value:{location:Tl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ci.Pop}},T):T}function e2(){let t=l2(),e=GN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const t2=P.createElement(e2,null);class n2 extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Go.Provider,{value:this.props.routeContext},P.createElement(HT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function r2(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(eg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Go.Provider,{value:e},r)}function i2(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,C=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||C){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,C=!1,T=null,w=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,T=f.route.errorElement||t2,c&&(u<0&&m===0?(C=!0,w=null):u===m&&(C=!0,w=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),_=()=>{let E;return p?E=T:C?E=w:f.route.Component?E=P.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,P.createElement(r2,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?P.createElement(n2,{location:n.location,revalidation:n.revalidation,component:T,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var KT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KT||{}),zu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zu||{});function s2(t){let e=P.useContext(eg);return e||tt(!1),e}function o2(t){let e=P.useContext(YN);return e||tt(!1),e}function a2(t){let e=P.useContext(Go);return e||tt(!1),e}function GT(t){let e=a2(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function l2(){var t;let e=P.useContext(HT),n=o2(zu.UseRouteError),r=GT(zu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function c2(){let{router:t}=s2(KT.UseNavigateStable),e=GT(zu.UseNavigateStable),n=P.useRef(!1);return WT(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Tl({fromRouteId:e},s)))},[t,e])}function u2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Zi(t){tt(!1)}function d2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ci.Pop,navigator:s,static:o=!1,future:l}=t;Nd()&&tt(!1);let c=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:c,navigator:s,static:o,future:Tl({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Ko(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:C="default"}=r,T=P.useMemo(()=>{let w=$T(d,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:p,key:C},navigationType:i}},[c,d,f,m,p,C,i]);return T==null?null:P.createElement(Rd.Provider,{value:u},P.createElement(kd.Provider,{children:n,value:T}))}function h2(t){let{children:e,location:n}=t;return JN(pp(e),n)}new Promise(()=>{});function pp(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,pp(r.props.children,s));return}r.type!==Zi&&tt(!1),!r.props.index||!r.props.children||tt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const f2="6";try{window.__reactRouterVersion=f2}catch{}const p2="startTransition",f0=dw[p2];function m2(t){let{basename:e,children:n,future:r,window:i}=t,s=P.useRef();s.current==null&&(s.current=TN({window:i,v5Compat:!0}));let o=s.current,[l,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=P.useCallback(f=>{u&&f0?f0(()=>c(f)):c(f)},[c,u]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.useEffect(()=>u2(r),[r]),P.createElement(d2,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var p0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(p0||(p0={}));var m0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(m0||(m0={}));const g2=H1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Wr=P.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Yb:"button";return y.jsx(o,{className:Ot(g2({variant:e,size:n,className:t})),ref:s,...i})});Wr.displayName="Button";const es=P.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:Ot("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));es.displayName="Input";const qr=P.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Ot("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));qr.displayName="Card";const y2=P.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Ot("flex flex-col space-y-1.5 p-6",t),...e}));y2.displayName="CardHeader";const v2=P.forwardRef(({className:t,...e},n)=>y.jsx("h3",{ref:n,className:Ot("text-2xl font-semibold leading-none tracking-tight",t),...e}));v2.displayName="CardTitle";const _2=P.forwardRef(({className:t,...e},n)=>y.jsx("p",{ref:n,className:Ot("text-sm text-muted-foreground",t),...e}));_2.displayName="CardDescription";const Kr=P.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Ot("p-6 pt-0",t),...e}));Kr.displayName="CardContent";const w2=P.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:Ot("flex items-center p-6 pt-0",t),...e}));w2.displayName="CardFooter";const $u="/assets/suros-logo-new-uXOabC5U.png",E2=()=>{const[t,e]=P.useState({name:"",company:"",email:"",phone:"",trades:"",bidsPerMonth:""}),n=r=>{r.preventDefault(),console.log("Demo request:",t)};return y.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[y.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-background border-b border-border z-50 shadow-lg",children:y.jsxs("div",{className:"container mx-auto px-6 py-2 flex justify-between items-center",children:[y.jsx("img",{src:$u,alt:"Suros Logic Systems",className:"h-12 md:h-16"}),y.jsx(Wr,{size:"lg",className:"bg-primary hover:bg-primary/90",asChild:!0,children:y.jsx("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:"Book a Free Demo"})})]})}),y.jsx("section",{className:"pt-32 pb-20 px-6",children:y.jsxs("div",{className:"container mx-auto",children:[y.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[y.jsxs("div",{className:"space-y-8 animate-fade-in",children:[y.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold leading-tight",children:["AI that writes your"," ",y.jsx("span",{className:"bg-gradient-to-r from-primary via-secondary to-primary bg-clip-text text-transparent animate-pulse",children:"bids for you"})]}),y.jsx("p",{className:"text-xl text-muted-foreground",children:"Suros Logic Systems turns a simple project form into a fully formatted, professional bid document  in minutes, not hours."}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[y.jsx(Wr,{size:"lg",className:"bg-primary hover:bg-primary/90 text-lg",asChild:!0,children:y.jsxs("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:["Book a Free 15-Min Demo ",y.jsx(Rc,{className:"ml-2"})]})}),y.jsx(Wr,{size:"lg",variant:"outline",className:"text-lg",children:"See Sample Bid"})]})]}),y.jsx("div",{className:"relative animate-fade-in",style:{animationDelay:"0.2s"},children:y.jsx(qr,{className:"bg-card/80 backdrop-blur border-primary/30 shadow-lg shadow-primary/10",children:y.jsxs(Kr,{className:"p-8 space-y-6",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Bid Input Form"}),y.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Company Name, Client Name"]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Scope of Work, Plumbing, Drywall"]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary"}),"Payment Terms"]})]})]}),y.jsx("div",{className:"flex items-center justify-center py-4",children:y.jsx(Rc,{className:"text-secondary",size:32})}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("h3",{className:"text-lg font-semibold text-secondary",children:"Professional Bid Document"}),y.jsxs("div",{className:"bg-background/50 p-4 rounded-lg border border-secondary/20",children:[y.jsx(zh,{className:"text-secondary mb-2",size:24}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"Fully formatted Word document ready to send"})]})]})]})})})]}),y.jsx("div",{className:"mt-12 text-center",children:y.jsx("p",{className:"text-muted-foreground max-w-3xl mx-auto",children:"Built for contractors, remodelers, and trade professionals who are tired of typing the same bid 100 different ways."})})]})}),y.jsx("section",{className:"py-20 px-6 bg-card/30",children:y.jsxs("div",{className:"container mx-auto",children:[y.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Bids are stealing your nights and weekends"}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:["You spend hours writing and formatting the same scopes over and over.","Inconsistent templates make your company look less professional.","Some bids never even get sent because you run out of time.","Every revision means more hours fighting with formatting."].map((r,i)=>y.jsx(qr,{className:"bg-card border-primary/30 hover:border-primary/60 hover:shadow-lg hover:shadow-primary/20 transition-all",children:y.jsx(Kr,{className:"p-6",children:y.jsx("p",{className:"text-muted-foreground",children:r})})},i))})]})}),y.jsx("section",{className:"py-20 px-6",children:y.jsxs("div",{className:"container mx-auto",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Your bid, fully written, from one simple form"}),y.jsx("p",{className:"text-muted-foreground text-lg",children:"No AI experience required. We handle the prompts, templates, and formatting for you."})]}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"1",title:"Fill Out Simple Form",description:"Contractor fills out a simple online form with project details and line items."},{step:"2",title:"AI Expands Content",description:"Optimized AI prompts expand and structure the content like a human-written bid."},{step:"3",title:"Generate Document",description:"The system generates a beautifully formatted Word document, keeping your style consistent."},{step:"4",title:"Instant Delivery",description:"The bid is emailed to you instantly, ready to edit or send to your client."}].map((r,i)=>y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"text-6xl font-bold text-primary/20 mb-4",children:r.step}),y.jsx("h3",{className:"text-xl font-semibold mb-3",children:r.title}),y.jsx("p",{className:"text-muted-foreground",children:r.description})]},i))})]})}),y.jsx("section",{className:"py-20 px-6 bg-card/30",children:y.jsxs("div",{className:"container mx-auto",children:[y.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"Built for real-world contracting"}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:y.jsx(YA,{className:"text-primary",size:32}),title:"Contractor-Tuned AI Prompts",description:"AI workflows specifically optimized for contracting bids, not generic text."},{icon:y.jsx(zh,{className:"text-secondary",size:32}),title:"Clean, Consistent Templates",description:"Same professional structure every time across all bids."},{icon:y.jsx(jv,{className:"text-primary",size:32}),title:"Trade & Scope Line Items",description:"Plumbing, Electrical, Drywall, HVAC, Painting, Flooring, etc., with space for detailed scopes."},{icon:y.jsx(zh,{className:"text-secondary",size:32}),title:"Word Docs, Not Lock-in",description:"You get an editable Word document you can tweak, save, or reuse."},{icon:y.jsx(WA,{className:"text-primary",size:32}),title:"Time Savings",description:"Replace hours of typing with a few minutes of form filling."},{icon:y.jsx(GA,{className:"text-secondary",size:32}),title:"No Complex Software",description:"Just log in, fill out the form, and get your bid."}].map((r,i)=>y.jsx(qr,{className:"bg-card hover:bg-card/80 transition-colors border-border hover:border-primary/50",children:y.jsxs(Kr,{className:"p-6 space-y-4",children:[y.jsx("div",{children:r.icon}),y.jsx("h3",{className:"text-xl font-semibold",children:r.title}),y.jsx("p",{className:"text-muted-foreground",children:r.description})]})},i))})]})}),y.jsx("section",{className:"py-20 px-6",children:y.jsxs("div",{className:"container mx-auto",children:[y.jsx("h2",{className:"text-4xl font-bold text-center mb-16",children:"Perfect for..."}),y.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:y.jsx(KA,{className:"text-primary",size:48}),title:"General Contractors & Remodelers",description:"Handle multiple bids daily with consistent, professional formatting."},{icon:y.jsx(jv,{className:"text-secondary",size:48}),title:"Specialty Trades",description:"Plumbing, electrical, HVAC, flooring, tile, painting - we've got your scope covered."},{icon:y.jsx(qA,{className:"text-primary",size:48}),title:"Estimators & Office Managers",description:"Free up your team to focus on project management, not document formatting."}].map((r,i)=>y.jsx(qr,{className:"bg-gradient-to-br from-card to-card/50 border-primary/20 text-center",children:y.jsxs(Kr,{className:"p-8 space-y-4",children:[y.jsx("div",{className:"flex justify-center",children:r.icon}),y.jsx("h3",{className:"text-xl font-semibold",children:r.title}),y.jsx("p",{className:"text-muted-foreground",children:r.description})]})},i))})]})}),y.jsx("section",{className:"py-20 px-6 bg-card/30",children:y.jsxs("div",{className:"container mx-auto",children:[y.jsx("div",{className:"text-center mb-16",children:y.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Simple pricing that pays for itself"})}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[y.jsx(qr,{className:"bg-card border-primary/40 hover:border-primary/70 hover:shadow-xl hover:shadow-primary/30 transition-all",children:y.jsxs(Kr,{className:"p-8 space-y-6",children:[y.jsx("h3",{className:"text-2xl font-bold text-primary",children:"QuickStart Bid Templates"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"text-3xl font-bold",children:["$150",y.jsx("span",{className:"text-lg text-muted-foreground",children:"/month"})]}),y.jsx("p",{className:"text-muted-foreground",children:"One-time setup: $300"})]}),y.jsx("ul",{className:"space-y-3",children:["Access to prebuilt, optimized bid templates","Standard form with common contractor fields","AI-tuned prompts for clean, detailed bids","Ideal for ready-to-use system"].map((r,i)=>y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx(Vv,{className:"text-primary mt-1 flex-shrink-0",size:20}),y.jsx("span",{className:"text-muted-foreground",children:r})]},i))}),y.jsx(Wr,{className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:"Get Started"})]})}),y.jsx(qr,{className:"bg-gradient-to-br from-card to-secondary/10 border-secondary/40 hover:border-secondary/70 hover:shadow-xl hover:shadow-secondary/30 transition-all",children:y.jsxs(Kr,{className:"p-8 space-y-6",children:[y.jsx("h3",{className:"text-2xl font-bold text-secondary",children:"Custom Workflow Build"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"text-3xl font-bold",children:["Custom",y.jsx("span",{className:"text-lg text-muted-foreground",children:" pricing"})]}),y.jsx("p",{className:"text-muted-foreground",children:"Setup & monthly based on complexity"})]}),y.jsx("ul",{className:"space-y-3",children:["Customized form matching your exact bid structure","Tailored prompts for your trades & regions","Multiple document types (bids, change orders)","Perfect for multi-location companies"].map((r,i)=>y.jsxs("li",{className:"flex items-start gap-3",children:[y.jsx(Vv,{className:"text-secondary mt-1 flex-shrink-0",size:20}),y.jsx("span",{className:"text-muted-foreground",children:r})]},i))}),y.jsx(Wr,{className:"w-full bg-secondary hover:bg-secondary/90 text-secondary-foreground",size:"lg",children:"Contact Sales"})]})})]}),y.jsx("p",{className:"text-center text-muted-foreground mt-8 max-w-2xl mx-auto",children:"All plans include onboarding support and access to improvements as we upgrade the system."})]})}),y.jsx("section",{className:"py-20 px-6",children:y.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[y.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Beyond bids: full quoting and automation systems"}),y.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Suros Logic Systems can also build tailored quoting systems that mirror your existing Excel/Word bids, and automated workflows that push bid data into CRMs, email follow-ups, and project management tools."}),y.jsxs(Wr,{size:"lg",variant:"outline",className:"border-primary/50 hover:bg-primary/10",children:["Talk to us about custom automation ",y.jsx(Rc,{className:"ml-2"})]})]})}),y.jsx("section",{className:"py-20 px-6 bg-card/30",children:y.jsx("div",{className:"container mx-auto",children:y.jsx("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[{title:"Save hours on every bid",description:"Stop spending nights and weekends on formatting"},{title:"More consistent proposals",description:"Professional structure across every bid you send"},{title:"Focus on what matters",description:"Free your team to focus on jobs, not documents"}].map((r,i)=>y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"text-5xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:i+1}),y.jsx("h3",{className:"text-2xl font-semibold",children:r.title}),y.jsx("p",{className:"text-muted-foreground",children:r.description})]},i))})})}),y.jsx("section",{className:"py-20 px-6",children:y.jsxs("div",{className:"container mx-auto max-w-4xl text-center",children:[y.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Our Vision"}),y.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"Suros Logic Systems was created by people who live in the contracting world. We know how much time goes into every quote, every bid, every revision. Our vision is an AI-driven document automation suite that handles not just bids, but contracts, change orders, and more  across industries like construction, legal, and real estate."})]})}),y.jsx("section",{className:"py-32 px-6 bg-gradient-to-br from-primary/20 via-background to-secondary/20",children:y.jsxs("div",{className:"container mx-auto max-w-4xl text-center space-y-8",children:[y.jsx("h2",{className:"text-5xl font-bold",children:"Ready to stop rewriting the same bid for the 100th time?"}),y.jsx("p",{className:"text-xl text-muted-foreground",children:"Book a free 15-minute demo and see how Suros Logic Systems can automate your next bid."}),y.jsx(qr,{className:"bg-card/80 backdrop-blur",children:y.jsxs(Kr,{className:"p-8",children:[y.jsxs("form",{onSubmit:n,className:"space-y-4",children:[y.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[y.jsx(es,{placeholder:"Name",value:t.name,onChange:r=>e({...t,name:r.target.value}),required:!0}),y.jsx(es,{placeholder:"Company",value:t.company,onChange:r=>e({...t,company:r.target.value}),required:!0}),y.jsx(es,{type:"email",placeholder:"Email",value:t.email,onChange:r=>e({...t,email:r.target.value}),required:!0}),y.jsx(es,{type:"tel",placeholder:"Phone",value:t.phone,onChange:r=>e({...t,phone:r.target.value}),required:!0})]}),y.jsx(es,{placeholder:"What trades do you do?",value:t.trades,onChange:r=>e({...t,trades:r.target.value}),required:!0}),y.jsx(es,{placeholder:"Approx. bids per month",value:t.bidsPerMonth,onChange:r=>e({...t,bidsPerMonth:r.target.value}),required:!0}),y.jsx(Wr,{size:"lg",className:"w-full bg-primary hover:bg-primary/90 text-lg",asChild:!0,children:y.jsxs("a",{href:"https://calendly.com/astutemarketing-agency/new-meeting",target:"_blank",rel:"noopener noreferrer",children:["Book My Demo ",y.jsx(Rc,{className:"ml-2"})]})})]}),y.jsx("p",{className:"mt-6 text-sm text-muted-foreground",children:y.jsx("a",{href:"#",className:"underline hover:text-primary",children:"Request a Sample Bid"})})]})})]})}),y.jsx("footer",{className:"py-8 px-6 border-t border-border",children:y.jsxs("div",{className:"container mx-auto text-center space-y-4",children:[y.jsx("img",{src:$u,alt:"Suros Logic Systems",className:"h-10 mx-auto opacity-70"}),y.jsx("p",{className:"text-muted-foreground",children:" 2024 Suros Logic Systems. All rights reserved."})]})})]})},T2=()=>{const t=tg();return P.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),y.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),y.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),y.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},g0={company_address:"",company_phone:"",company_email:"",invoice_date:"",invoice_number:"",salesperson:"",job:"",payment_terms:"",approx_weeks:"",contingency_coverage:"",total_costs:"",deposit_required:"",weekly_payments:"",final_amount_due:"",customer_name:"",customer_address:"",customer_phone:"",customer_email:""},y0=["Plumbing","Drywall","Electrical","Flooring"],x2={trade:"",scope:"",material_labor_included:"Yes",line_total:""},S2=()=>{const[t,e]=P.useState(g0),[n,r]=P.useState(""),[i,s]=P.useState([]),o=w=>{const v=w.replace(/\D/g,"").substring(0,10),_=v.length;return _<4?v:_<7?`(${v.slice(0,3)}) ${v.slice(3)}`:`(${v.slice(0,3)}) ${v.slice(3,6)}-${v.slice(6)}`},l=w=>{const v=w.replace(/[^0-9.]/g,"");if(!v)return"";const _=Number(v);return isNaN(_)?"":_.toLocaleString("en-US",{style:"currency",currency:"USD"})},c=(w,v)=>{const _=l(v);e(E=>({...E,[w]:_}))},u=w=>{const{id:v,value:_}=w.target;if(v==="customer_phone"||v==="company_phone"){e(E=>({...E,[v]:o(_)}));return}if(v==="total_costs"||v==="deposit_required"||v==="weekly_payments"||v==="final_amount_due"){c(v,_);return}e(E=>({...E,[v]:_}))},d=()=>{const w=parseInt(n);if(!w||w<1){alert("Enter a valid number of line items.");return}const v=Array.from({length:w},(_,E)=>({...x2,trade:"",scope:""}));s(v)},f=(w,v,_)=>{s(E=>E.map((N,D)=>D===w?{...N,[v]:_}:N))},m=(w,v)=>{if(v.key==="Enter"){v.preventDefault();const _=i[w].scope,E=v.target.selectionStart,N=_.substring(0,E),D=_.substring(E),M=N+`
- `+D;f(w,"scope",M),setTimeout(()=>{const S=v.target;S.selectionStart=E+3,S.selectionEnd=E+3},0)}},p=(w,v)=>{let _=v.target.value;i[w].scope===""&&_.length===1&&(_="- "+_),f(w,"scope",_)},C=w=>{const v=w.target.value;if(!v)return;/\S+@\S+\.\S+/.test(v)||alert("Please enter a valid email address.")},T=async w=>{w.preventDefault();const v=N=>Number(String(N).replace(/[^0-9.]/g,""))||0,_=i.map(N=>({trade:N.trade,scope:N.scope.split(/\r?\n/).filter(Boolean),material_labor_included:N.material_labor_included,line_total:v(N.line_total)})),E={...t,approx_weeks:Number(t.approx_weeks),total_costs:v(t.total_costs),deposit_required:v(t.deposit_required),weekly_payments:v(t.weekly_payments),final_amount_due:v(t.final_amount_due),line_items:_};try{(await fetch("https://astutearc7.app.n8n.cloud/webhook/lastcall-bid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)})).ok?(alert("Bid submitted successfully!"),e(g0),s([]),r("")):alert("Error submitting bid.")}catch{alert("Network error.")}};return y.jsx("div",{className:"bid-form-page",children:y.jsx("div",{className:"page-bg",children:y.jsxs("div",{className:"container",children:[y.jsx("div",{className:"logo",children:y.jsx("img",{src:$u,alt:"Suros Logic Systems Logo"})}),y.jsx("h1",{children:y.jsx("b",{children:"Last Call Home Solutions LLC"})}),y.jsxs("div",{className:"header-info",children:[y.jsx("label",{children:"Address:"}),y.jsx("input",{type:"text",id:"company_address",placeholder:"1234 Main St, Tampa FL",value:t.company_address,onChange:u}),y.jsx("label",{children:"Phone:"}),y.jsx("input",{type:"text",id:"company_phone",placeholder:"(000) 000-0000",value:t.company_phone,onChange:u}),y.jsx("label",{children:"Email:"}),y.jsx("input",{type:"email",id:"company_email",placeholder:"example@email.com",value:t.company_email,onChange:u,onBlur:C}),y.jsx("p",{className:"slogan",children:"Last call youll make for all your contracting and remodeling needs."})]}),y.jsxs("form",{onSubmit:T,children:[y.jsx("h2",{children:"Invoice Information"}),y.jsx("label",{children:"Invoice Date:"}),y.jsx("input",{type:"date",id:"invoice_date",value:t.invoice_date,onChange:u}),y.jsx("label",{children:"Invoice #:"}),y.jsx("input",{type:"text",id:"invoice_number",placeholder:"LC-2025-1178",value:t.invoice_number,onChange:u}),y.jsx("h2",{children:"Project & Payment Info"}),y.jsx("label",{children:"Salesperson Name:"}),y.jsx("input",{type:"text",id:"salesperson",placeholder:"Dennis Call",value:t.salesperson,onChange:u}),y.jsx("label",{children:"Job Name or Address:"}),y.jsx("input",{type:"text",id:"job",placeholder:"Kitchen Remodel, Tampa FL",value:t.job,onChange:u}),y.jsx("label",{children:y.jsx("strong",{children:"Payment Terms:"})}),y.jsx("textarea",{id:"payment_terms",rows:2,placeholder:"Deposit of 50% prior to work commencing and weekly progress payments.",value:t.payment_terms,onChange:u}),y.jsx("label",{children:"Approximate Working Weeks:"}),y.jsx("input",{type:"number",id:"approx_weeks",placeholder:"5",value:t.approx_weeks,onChange:u}),y.jsx("h2",{children:"Line Items"}),y.jsx("label",{children:"How many line items (trades)?"}),y.jsx("input",{type:"number",id:"num_line_items",min:1,max:20,value:n,onChange:w=>r(w.target.value)}),y.jsx("button",{type:"button",onClick:d,children:"Generate Line Item Sections"}),y.jsx("div",{id:"lineItemsContainer",children:i.map((w,v)=>{const _=y0[v%y0.length];return y.jsxs("div",{className:"line-item",children:[y.jsxs("h3",{children:[v+1," LINE ITEM"]}),y.jsx("label",{children:"Trade Name:"}),y.jsx("input",{type:"text",placeholder:_,value:w.trade,onChange:E=>f(v,"trade",E.target.value)}),y.jsx("label",{children:"Scope of Work (one per line):"}),y.jsx("textarea",{className:"scope-input",placeholder:"- Enter one task per line",value:w.scope,onChange:E=>p(v,E),onKeyDown:E=>m(v,E)}),y.jsx("label",{children:"Material and Labor Included?"}),y.jsxs("select",{value:w.material_labor_included,onChange:E=>f(v,"material_labor_included",E.target.value),children:[y.jsx("option",{value:"Yes",children:"Yes"}),y.jsx("option",{value:"No",children:"No"})]}),y.jsx("label",{children:"Line Total ($):"}),y.jsx("input",{type:"text",placeholder:"$",value:w.line_total,onChange:E=>f(v,"line_total",E.target.value)})]},v)})}),y.jsx("h2",{children:"Contingency (10%)"}),y.jsx("textarea",{id:"contingency_coverage",rows:3,placeholder:"Covers miscellaneous materials and unexpected repairs...",value:t.contingency_coverage,onChange:u}),y.jsx("p",{className:"contingency-warning",children:y.jsx("strong",{children:"CONTINGENCY FUNDS NOT UTILIZED WILL BE RETURNED TO THE CUSTOMER."})}),y.jsx("h2",{children:"Totals & Payment"}),y.jsx("label",{children:"Total Costs (tax percentage included):"}),y.jsx("input",{type:"text",id:"total_costs",placeholder:"$",value:t.total_costs,onChange:u}),y.jsx("label",{children:"Deposit Required:"}),y.jsx("input",{type:"text",id:"deposit_required",placeholder:"$",value:t.deposit_required,onChange:u}),y.jsx("label",{children:"Weekly Progress Payments  ____ (beginning second working week):"}),y.jsx("input",{type:"text",id:"weekly_payments",placeholder:"$",value:t.weekly_payments,onChange:u}),y.jsx("label",{children:"Final Amount Due Upon Completion:"}),y.jsx("input",{type:"text",id:"final_amount_due",placeholder:"$",value:t.final_amount_due,onChange:u}),y.jsx("h2",{children:"Customer Info"}),y.jsx("label",{children:"Customer Name:"}),y.jsx("input",{type:"text",id:"customer_name",placeholder:"John Doe",value:t.customer_name,onChange:u}),y.jsx("label",{children:"Customer Address:"}),y.jsx("input",{type:"text",id:"customer_address",placeholder:"1234 Main St, Tampa FL",value:t.customer_address,onChange:u}),y.jsx("label",{children:"Customer Phone:"}),y.jsx("input",{type:"text",id:"customer_phone",placeholder:"(000) 000-0000",value:t.customer_phone,onChange:u}),y.jsx("label",{children:"Customer Email:"}),y.jsx("input",{type:"email",id:"customer_email",placeholder:"example@email.com",value:t.customer_email,onChange:u,onBlur:C}),y.jsxs("div",{className:"submit-area",children:[y.jsx("button",{type:"submit",children:"Generate My Bid"}),y.jsx("p",{className:"powered",children:"POWERED by Suros Logic Systems, LLC"})]})]})]})})})},I2={company_address:"4829 Rolling Brook Dr, Tampa, FL 33625",company_phone:"(813) 555-9082",company_email:"office@lastcallhomesolutions.com",invoice_date:"2025-11-28",invoice_number:"LC-2025-1178",salesperson:"Dennis Call",job:"Kitchen Remodel  2290 Maple Ridge Ct, Tampa FL",payment_terms:"50% deposit required before work begins. Weekly progress payments due every Friday. Final amount due upon project completion.",approx_weeks:5,contingency_coverage:"Covers miscellaneous materials, unexpected repairs, hardware replacements, drywall patching, plumbing seals, tile work, and fixture adjustments.",total_costs:"$18750",deposit_required:"$9375",weekly_payments:4,final_amount_due:"$1875",customer_name:"Michael Thompson",customer_address:"2290 Maple Ridge Ct, Tampa FL 33625",customer_phone:"(813) 445-7710",customer_email:"michael.thompson@example.com"},Dc=t=>t&&parseFloat(t.replace(/[^0-9.]/g,""))||0,Kh={2:[{trade:"Plumbing",scope:`- Disconnect old plumbing
- Install new PEX water lines
- Replace garbage disposal
- Install new shutoff valves`,line_total:"$5200",material_labor_included:"Yes"},{trade:"Drywall",scope:`- Remove damaged drywall
- Install new 1/2" drywall
- Tape and mud seams
- Sand and prep for paint`,line_total:"$4100",material_labor_included:"Yes"}],3:[{trade:"Electrical",scope:`- Add recessed lighting
- Install two GFCI outlets
- Replace breaker for kitchen circuit`,line_total:"$2600",material_labor_included:"Yes"},{trade:"Flooring",scope:`- Remove old tile
- Install new LVP flooring
- Add new baseboards`,line_total:"$4800",material_labor_included:"Yes"},{trade:"Painting",scope:`- Prime all walls
- Apply two coats interior paint
- Paint trim and baseboards`,line_total:"$2300",material_labor_included:"Yes"}],4:[{trade:"Demolition",scope:`- Remove cabinetry
- Remove countertops
- Dispose of debris`,line_total:"$1800",material_labor_included:"Yes"},{trade:"Cabinet Installation",scope:`- Install RTA cabinets
- Level and secure bases
- Hang uppers`,line_total:"$6200",material_labor_included:"Yes"},{trade:"Countertops",scope:`- Template for quartz slabs
- Install quartz countertops
- Seal and finish`,line_total:"$5400",material_labor_included:"Yes"},{trade:"Backsplash",scope:`- Install subway tile
- Apply grout
- Seal tile and grout`,line_total:"$2200",material_labor_included:"Yes"}],5:[{trade:"Appliance Installation",scope:`- Install refrigerator
- Install dishwasher & connect water line
- Install over-the-range microwave
- Test all electrical and water connections`,line_total:"$1500",material_labor_included:"Yes"},{trade:"Interior Painting",scope:`- Patch wall imperfections
- Apply primer to all walls
- Apply two coats interior paint
- Paint trim and baseboards`,line_total:"$2800",material_labor_included:"Yes"},{trade:"Plumbing Fixtures",scope:`- Replace kitchen faucet
- Install under-sink plumbing kit
- Install garbage disposal
- Test for leaks and drainage`,line_total:"$950",material_labor_included:"Yes"},{trade:"Tile Flooring",scope:`- Remove existing flooring
- Install cement board
- Lay porcelain tile
- Apply grout and seal flooring`,line_total:"$4200",material_labor_included:"Yes"}]},C2=()=>{const[t,e]=P.useState(I2),[n,r]=P.useState("2"),[i,s]=P.useState(Kh[2]),o=f=>{const{id:m,value:p}=f.target;e(C=>({...C,[m]:p}))},l=(f,m,p)=>{s(C=>C.map((T,w)=>w===f?{...T,[m]:p}:T))},c=(f,m)=>{if(m.key==="Enter"){m.preventDefault();const p=i[f].scope,C=m.target.selectionStart,T=p.substring(0,C),w=p.substring(C),v=T+`
- `+w;l(f,"scope",v),setTimeout(()=>{const _=m.target;_.selectionStart=_.selectionEnd=C+3},0)}},u=()=>{const f=parseInt(n),m=Kh[f]||Kh[2];s(m)},d=async f=>{f.preventDefault();const m=i.map(C=>({trade:C.trade,scope:C.scope.split(/\r?\n/).map(T=>T.trim()).filter(Boolean),material_labor_included:C.material_labor_included,line_total:Dc(C.line_total)})),p={...t,approx_weeks:Number(t.approx_weeks),total_costs:Dc(t.total_costs),deposit_required:Dc(t.deposit_required),weekly_payments:Number(t.weekly_payments),final_amount_due:Dc(t.final_amount_due),line_items:m};try{(await fetch("https://astutearc7.app.n8n.cloud/webhook/lastcall-bid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok?alert("Bid submitted successfully!"):alert("Error submitting bid.")}catch{alert("Network error.")}};return y.jsx("div",{className:"page-bg bid-form-page",children:y.jsxs("div",{className:"container",children:[y.jsx("div",{className:"logo",children:y.jsx("img",{src:$u,alt:"Suros Logic Systems Logo"})}),y.jsx("h1",{children:y.jsx("b",{children:"Last Call Home Solutions LLC"})}),y.jsx("label",{children:"Address:"}),y.jsx("input",{id:"company_address",value:t.company_address,onChange:o}),y.jsx("label",{children:"Phone:"}),y.jsx("input",{id:"company_phone",value:t.company_phone,onChange:o}),y.jsx("label",{children:"Email:"}),y.jsx("input",{id:"company_email",type:"email",value:t.company_email,onChange:o}),y.jsx("p",{style:{textAlign:"center",marginTop:10},children:y.jsx("em",{children:"Last call youll make for all your contracting and remodeling needs."})}),y.jsxs("form",{onSubmit:d,children:[y.jsx("h2",{children:"Invoice Information"}),y.jsx("label",{children:"Invoice Date:"}),y.jsx("input",{type:"date",id:"invoice_date",value:t.invoice_date,onChange:o}),y.jsx("label",{children:"Invoice #:"}),y.jsx("input",{id:"invoice_number",value:t.invoice_number,onChange:o}),y.jsx("h2",{children:"Project & Payment Info"}),y.jsx("label",{children:"Salesperson Name:"}),y.jsx("input",{id:"salesperson",value:t.salesperson,onChange:o}),y.jsx("label",{children:"Job Name or Address:"}),y.jsx("input",{id:"job",value:t.job,onChange:o}),y.jsx("label",{children:y.jsx("strong",{children:"Payment Terms:"})}),y.jsx("textarea",{id:"payment_terms",rows:2,value:t.payment_terms,onChange:o}),y.jsx("label",{children:"Approximate Working Weeks:"}),y.jsx("input",{id:"approx_weeks",type:"number",value:t.approx_weeks,onChange:o}),y.jsx("h2",{children:"Line Items"}),y.jsx("label",{children:"How many line items?"}),y.jsx("input",{type:"number",min:"1",max:"20",value:n,onChange:f=>r(f.target.value)}),y.jsx("button",{type:"button",onClick:u,children:"Generate Line Item Sections"}),y.jsx("div",{children:i.map((f,m)=>y.jsxs("div",{className:"line-item",children:[y.jsxs("h3",{children:[m+1," LINE ITEM"]}),y.jsx("label",{children:"Trade Name:"}),y.jsx("input",{value:f.trade,onChange:p=>l(m,"trade",p.target.value)}),y.jsx("label",{children:"Scope of Work:"}),y.jsx("textarea",{className:"scope-input",value:f.scope,onKeyDown:p=>c(m,p),onChange:p=>l(m,"scope",p.target.value)}),y.jsx("label",{children:"Material and Labor Included?"}),y.jsxs("select",{value:f.material_labor_included,onChange:p=>l(m,"material_labor_included",p.target.value),children:[y.jsx("option",{value:"Yes",children:"Yes"}),y.jsx("option",{value:"No",children:"No"})]}),y.jsx("label",{children:"Line Total ($):"}),y.jsx("input",{value:f.line_total,onChange:p=>l(m,"line_total",p.target.value)})]},m))}),y.jsx("h2",{children:"Contingency (10%)"}),y.jsx("textarea",{id:"contingency_coverage",rows:3,value:t.contingency_coverage,onChange:o}),y.jsx("p",{children:y.jsx("strong",{children:"CONTINGENCY FUNDS NOT UTILIZED WILL BE RETURNED TO THE CUSTOMER."})}),y.jsx("h2",{children:"Totals & Payment"}),y.jsx("label",{children:"Total Costs:"}),y.jsx("input",{id:"total_costs",value:t.total_costs,onChange:o}),y.jsx("label",{children:"Deposit Required:"}),y.jsx("input",{id:"deposit_required",value:t.deposit_required,onChange:o}),y.jsx("label",{children:"Weekly Progress Payments  ____:"}),y.jsx("input",{id:"weekly_payments",type:"number",value:t.weekly_payments,onChange:o}),y.jsx("label",{children:"Final Amount Due Upon Completion:"}),y.jsx("input",{id:"final_amount_due",value:t.final_amount_due,onChange:o}),y.jsx("h2",{children:"Customer Info"}),y.jsx("label",{children:"Customer Name:"}),y.jsx("input",{id:"customer_name",value:t.customer_name,onChange:o}),y.jsx("label",{children:"Customer Address:"}),y.jsx("input",{id:"customer_address",value:t.customer_address,onChange:o}),y.jsx("label",{children:"Customer Phone:"}),y.jsx("input",{id:"customer_phone",value:t.customer_phone,onChange:o}),y.jsx("label",{children:"Customer Email:"}),y.jsx("input",{id:"customer_email",type:"email",value:t.customer_email,onChange:o}),y.jsxs("div",{className:"submit-area",children:[y.jsx("button",{type:"submit",children:"Generate My Bid"}),y.jsx("p",{className:"powered",children:"POWERED by Suros Logic Systems, LLC"})]})]})]})})};function b2(){const t=qT();return y.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(105deg, #0064C2 0%, #DEE2FF 100%)",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"#fff",fontFamily:"Montserrat"},children:[y.jsx("h1",{style:{fontSize:"42px",fontWeight:700,marginBottom:"20px"},children:"Suros Logic Systems"}),y.jsx("p",{style:{fontSize:"18px",maxWidth:"400px",textAlign:"center"},children:"Login to access your automation dashboard and tools."}),y.jsx("button",{onClick:()=>t("/auth/login"),style:{marginTop:"30px",padding:"14px 34px",background:"#fff",color:"#0064C2",borderRadius:"10px",fontWeight:600,fontSize:"16px",cursor:"pointer",border:"none",boxShadow:"0 4px 16px rgba(0,0,0,0.2)"},children:"Login"})]})}const A2=()=>{};var v0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},P2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let m=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new R2;const m=s<<2|l>>4;if(r.push(m),u!==64){const p=l<<4&240|u>>2;if(r.push(p),f!==64){const C=u<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k2=function(t){const e=QT(t);return YT.encodeByteArray(e,!0)},Bu=function(t){return k2(t).replace(/\./g,"")},XT=function(t){try{return YT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=()=>N2().__FIREBASE_DEFAULTS__,D2=()=>{if(typeof process>"u"||typeof v0>"u")return;const t=v0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XT(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return A2()||O2()||D2()||L2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JT=t=>{var e,n;return(n=(e=Od())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},M2=t=>{const e=JT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZT=()=>{var t;return(t=Od())==null?void 0:t.config},ex=t=>{var e;return(e=Od())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bu(JSON.stringify(n)),Bu(JSON.stringify(o)),""].join(".")}const Ka={};function F2(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ka))Ka[e]?t.emulator.push(e):t.prod.push(e);return t}function U2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _0=!1;function nx(t,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Ka[t]===e||Ka[t]||_0)return;Ka[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=F2().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{_0=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=U2(r),p=n("text"),C=document.getElementById(p)||document.createElement("span"),T=n("learnmore"),w=document.getElementById(T)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;l(E),d(w,T);const N=u();c(_,v),E.append(_,C,w,N),document.body.appendChild(E)}s?(C.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function $2(){var e;const t=(e=Od())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q2(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function K2(){return!$2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G2(){try{return typeof indexedDB=="object"}catch{return!1}}function Q2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="FirebaseError";class Rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Y2,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?X2(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Rr(i,l,r)}}function X2(t,e){return t.replace(J2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const J2=/\{\$([^}]+)}/g;function Z2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ss(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(w0(s)&&w0(o)){if(!Ss(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ka(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eO(t,e){const n=new tO(t,e);return n.subscribe.bind(n)}class tO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gh),i.error===void 0&&(i.error=Gh),i.complete===void 0&&(i.complete=Gh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return t&&t._delegate?t._delegate:t}class Is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new V2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sO(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iO(t){return t===ts?void 0:t}function sO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const aO={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},lO=fe.INFO,cO={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},uO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ng{constructor(e){this.name=e,this._logLevel=lO,this._logHandler=uO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const dO=(t,e)=>e.some(n=>t instanceof n);let E0,T0;function hO(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fO(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rx=new WeakMap,mp=new WeakMap,ix=new WeakMap,Qh=new WeakMap,rg=new WeakMap;function pO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rx.set(n,t)}).catch(()=>{}),rg.set(e,t),e}function mO(t){if(mp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mp.set(t,e)}let gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ix.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gO(t){gp=t(gp)}function yO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yh(this),e,...n);return ix.set(r,e.sort?e.sort():[e]),wi(r)}:fO().includes(t)?function(...e){return t.apply(Yh(this),e),wi(rx.get(this))}:function(...e){return wi(t.apply(Yh(this),e))}}function vO(t){return typeof t=="function"?yO(t):(t instanceof IDBTransaction&&mO(t),dO(t,hO())?new Proxy(t,gp):t)}function wi(t){if(t instanceof IDBRequest)return pO(t);if(Qh.has(t))return Qh.get(t);const e=vO(t);return e!==t&&(Qh.set(t,e),rg.set(e,t)),e}const Yh=t=>rg.get(t);function _O(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=wi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(wi(o.result),c.oldVersion,c.newVersion,wi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const wO=["get","getKey","getAll","getAllKeys","count"],EO=["put","add","delete","clear"],Xh=new Map;function x0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wO.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Xh.set(e,s),s}gO(t=>({...t,get:(e,n,r)=>x0(e,n)||t.get(e,n,r),has:(e,n)=>!!x0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yp="@firebase/app",S0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new ng("@firebase/app"),SO="@firebase/app-compat",IO="@firebase/analytics-compat",CO="@firebase/analytics",bO="@firebase/app-check-compat",AO="@firebase/app-check",PO="@firebase/auth",RO="@firebase/auth-compat",kO="@firebase/database",NO="@firebase/data-connect",OO="@firebase/database-compat",DO="@firebase/functions",LO="@firebase/functions-compat",MO="@firebase/installations",VO="@firebase/installations-compat",jO="@firebase/messaging",FO="@firebase/messaging-compat",UO="@firebase/performance",zO="@firebase/performance-compat",$O="@firebase/remote-config",BO="@firebase/remote-config-compat",HO="@firebase/storage",WO="@firebase/storage-compat",qO="@firebase/firestore",KO="@firebase/ai",GO="@firebase/firestore-compat",QO="firebase",YO="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",XO={[yp]:"fire-core",[SO]:"fire-core-compat",[CO]:"fire-analytics",[IO]:"fire-analytics-compat",[AO]:"fire-app-check",[bO]:"fire-app-check-compat",[PO]:"fire-auth",[RO]:"fire-auth-compat",[kO]:"fire-rtdb",[NO]:"fire-data-connect",[OO]:"fire-rtdb-compat",[DO]:"fire-fn",[LO]:"fire-fn-compat",[MO]:"fire-iid",[VO]:"fire-iid-compat",[jO]:"fire-fcm",[FO]:"fire-fcm-compat",[UO]:"fire-perf",[zO]:"fire-perf-compat",[$O]:"fire-rc",[BO]:"fire-rc-compat",[HO]:"fire-gcs",[WO]:"fire-gcs-compat",[qO]:"fire-fst",[GO]:"fire-fst-compat",[KO]:"fire-vertex","fire-js":"fire-js",[QO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Map,JO=new Map,_p=new Map;function I0(t,e){try{t.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function No(t){const e=t.name;if(_p.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,t);for(const n of Hu.values())I0(n,t);for(const n of JO.values())I0(n,t);return!0}function ig(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function En(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new zl("app","Firebase",ZO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=YO;function sx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=ZT()),!n)throw Ei.create("no-options");const s=Hu.get(i);if(s){if(Ss(n,s.options)&&Ss(r,s.config))return s;throw Ei.create("duplicate-app",{appName:i})}const o=new oO(i);for(const c of _p.values())o.addComponent(c);const l=new eD(n,r,o);return Hu.set(i,l),l}function ox(t=vp){const e=Hu.get(t);if(!e&&t===vp&&ZT())return sx();if(!e)throw Ei.create("no-app",{appName:t});return e}function Ti(t,e,n){let r=XO[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(o.join(" "));return}No(new Is(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="firebase-heartbeat-database",nD=1,xl="firebase-heartbeat-store";let Jh=null;function ax(){return Jh||(Jh=_O(tD,nD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),Jh}async function rD(t){try{const n=(await ax()).transaction(xl),r=await n.objectStore(xl).get(lx(t));return await n.done,r}catch(e){if(e instanceof Rr)Cr.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(n.message)}}}async function C0(t,e){try{const r=(await ax()).transaction(xl,"readwrite");await r.objectStore(xl).put(e,lx(t)),await r.done}catch(n){if(n instanceof Rr)Cr.warn(n.message);else{const r=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cr.warn(r.message)}}}function lx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=1024,sD=30;class oD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=b0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>sD){const o=cD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b0(),{heartbeatsToSend:r,unsentEntries:i}=aD(this._heartbeatsCache.heartbeats),s=Bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Cr.warn(n),""}}}function b0(){return new Date().toISOString().substring(0,10)}function aD(t,e=iD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),A0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),A0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G2()?Q2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function A0(t){return Bu(JSON.stringify({version:2,heartbeats:t})).length}function cD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){No(new Is("platform-logger",e=>new TO(e),"PRIVATE")),No(new Is("heartbeat",e=>new oD(e),"PRIVATE")),Ti(yp,S0,t),Ti(yp,S0,"esm2020"),Ti("fire-js","")}uD("");function cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dD=cx,ux=new zl("auth","Firebase",cx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new ng("@firebase/auth");function hD(t,...e){Wu.logLevel<=fe.WARN&&Wu.warn(`Auth (${Yo}): ${t}`,...e)}function nu(t,...e){Wu.logLevel<=fe.ERROR&&Wu.error(`Auth (${Yo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw sg(t,...e)}function Xn(t,...e){return sg(t,...e)}function dx(t,e,n){const r={...dD(),[e]:n};return new zl("auth","Firebase",r).create(e,{appName:t.name})}function xi(t){return dx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ux.create(t,...e)}function ee(t,e,...n){if(!t)throw sg(e,...n)}function yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nu(e),new Error(e)}function br(t,e){t||yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function fD(){return P0()==="http:"||P0()==="https:"}function P0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fD()||H2()||"connection"in navigator)?navigator.onLine:!0}function mD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=z2()||W2()}get(){return pD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vD=new Bl(3e4,6e4);function Rs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $i(t,e,n,r,i={}){return fx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=$l({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return B2()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Qo(t.emulatorConfig.host)&&(u.credentials="include"),hx.fetch()(await px(t,t.config.apiHost,n,l),u)})}async function fx(t,e,n){t._canInitEmulator=!1;const r={...gD,...e};try{const i=new wD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Lc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Lc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Lc(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dx(t,d,u);Pn(t,d)}}catch(i){if(i instanceof Rr)throw i;Pn(t,"network-request-failed",{message:String(i)})}}async function Dd(t,e,n,r,i={}){const s=await $i(t,e,n,r,i);return"mfaPendingCredential"in s&&Pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function px(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?og(t.config,i):`${t.config.apiScheme}://${i}`;return yD.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function _D(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),vD.get())})}}function Lc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xn(t,e,r);return i.customData._tokenResponse=n,i}function R0(t){return t!==void 0&&t.enterprise!==void 0}class ED{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _D(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TD(t,e){return $i(t,"GET","/v2/recaptchaConfig",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){return $i(t,"POST","/v1/accounts:delete",e)}async function qu(t,e){return $i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SD(t,e=!1){const n=sr(t),r=await n.getIdToken(e),i=ag(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ga(Zh(i.auth_time)),issuedAtTime:Ga(Zh(i.iat)),expirationTime:Ga(Zh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Zh(t){return Number(t)*1e3}function ag(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const i=XT(n);return i?JSON.parse(i):(nu("Failed to decode base64 JWT payload"),null)}catch(i){return nu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function k0(t){const e=ag(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rr&&ID(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ID({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Sl(t,qu(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?mx(i.providerUserInfo):[],o=AD(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ep(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function bD(t){const e=sr(t);await Ku(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mx(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e){const n=await fx(t,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await px(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Qo(t.emulatorConfig.host)&&(c.credentials="include"),hx.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RD(t,e){return $i(t,"POST","/v2/accounts:revokeToken",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=k0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await PD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new co;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new CD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ep(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Sl(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SD(this,e)}reload(){return bD(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ku(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await Sl(this,xD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:C,stsTokenManager:T}=n;ee(f&&T,e,"internal-error");const w=co.fromJSON(this.name,T);ee(typeof f=="string",e,"internal-error"),Br(r,e.name),Br(i,e.name),ee(typeof m=="boolean",e,"internal-error"),ee(typeof p=="boolean",e,"internal-error"),Br(s,e.name),Br(o,e.name),Br(l,e.name),Br(c,e.name),Br(u,e.name),Br(d,e.name);const v=new Tn({uid:f,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:w,createdAt:u,lastLoginAt:d});return C&&Array.isArray(C)&&(v.providerData=C.map(_=>({..._}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new co;i.updateFromServerResponse(n);const s=new Tn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ku(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?mx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new co;l.updateFromIdToken(r);const c=new Tn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ep(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;function vr(t){br(t instanceof Function,"Expected a class definition");let e=N0.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gx.type="NONE";const O0=gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ru(this.userKey,i.apiKey,s),this.fullPersistenceKey=ru("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qu(this.auth,{idToken:e}).catch(()=>{});return n?Tn._fromGetAccountInfoResponse(this.auth,n,e):null}return Tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(vr(O0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||vr(O0);const o=ru(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const m=await qu(e,{idToken:d}).catch(()=>{});if(!m)break;f=await Tn._fromGetAccountInfoResponse(e,m,d)}else f=Tn._fromJSON(e,d);u!==s&&(l=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new uo(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new uo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tx(e))return"Blackberry";if(xx(e))return"Webos";if(vx(e))return"Safari";if((e.includes("chrome/")||_x(e))&&!e.includes("edge/"))return"Chrome";if(Ex(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yx(t=xt()){return/firefox\//i.test(t)}function vx(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _x(t=xt()){return/crios\//i.test(t)}function wx(t=xt()){return/iemobile/i.test(t)}function Ex(t=xt()){return/android/i.test(t)}function Tx(t=xt()){return/blackberry/i.test(t)}function xx(t=xt()){return/webos/i.test(t)}function lg(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kD(t=xt()){var e;return lg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ND(){return q2()&&document.documentMode===10}function Sx(t=xt()){return lg(t)||Ex(t)||xx(t)||Tx(t)||/windows phone/i.test(t)||wx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e=[]){let n;switch(t){case"Browser":n=D0(xt());break;case"Worker":n=`${D0(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e={}){return $i(t,"GET","/v2/passwordPolicy",Rs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=6;class MD{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L0(this),this.idTokenSubscription=new L0(this),this.beforeStateQueue=new OD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ux,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qu(this,{idToken:e}),r=await Tn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(En(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ku(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(xi(this));const n=e?sr(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DD(this),n=new MD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ix(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&hD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xo(t){return sr(t)}class L0{constructor(e){this.auth=e,this.observer=null,this.addObserver=eO(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jD(t){Ld=t}function Cx(t){return Ld.loadJS(t)}function FD(){return Ld.recaptchaEnterpriseScript}function UD(){return Ld.gapiScript}function zD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $D{constructor(){this.enterprise=new BD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class BD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HD="recaptcha-enterprise",bx="NO_RECAPTCHA";class WD{constructor(e){this.type=HD,this.auth=Xo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{TD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new ED(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function i(s,o,l){const c=window.grecaptcha;R0(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(bx)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $D().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&R0(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=FD();c.length!==0&&(c+=l),Cx(c).then(()=>{i(l,s,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function M0(t,e,n,r=!1,i=!1){const s=new WD(t);let o;if(i)o=bx;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function V0(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await M0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await M0(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t,e){const n=ig(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ss(s,e??{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}function KD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GD(t,e,n){const r=Xo(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Ax(e),{host:o,port:l}=QD(e),c=l===null?"":`:${l}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Ss(u,r.config.emulator)&&Ss(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Qo(o)?(tx(`${s}//${o}${c}`),nx("Auth",!0)):YD()}function Ax(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QD(t){const e=Ax(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:j0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:j0(o)}}}function j0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,n){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}async function XD(t,e){return $i(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e){return Dd(t,"POST","/v1/accounts:signInWithPassword",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(t,e){return Dd(t,"POST","/v1/accounts:signInWithEmailLink",Rs(t,e))}async function eL(t,e){return Dd(t,"POST","/v1/accounts:signInWithEmailLink",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends cg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Il(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Il(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V0(e,n,"signInWithPassword",JD);case"emailLink":return ZD(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V0(e,r,"signUpPassword",XD);case"emailLink":return eL(e,{idToken:n,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e){return Dd(t,"POST","/v1/accounts:signInWithIdp",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="http://localhost";class Cs extends cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Cs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:tL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rL(t){const e=ka(Na(t)).link,n=e?ka(Na(e)).deep_link_id:null,r=ka(Na(t)).deep_link_id;return(r?ka(Na(r)).link:null)||r||n||e||t}class ug{constructor(e){const n=ka(Na(e)),r=n.apiKey??null,i=n.oobCode??null,s=nL(n.mode??null);ee(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rL(e);try{return new ug(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return Il._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ug.parseLink(n);return ee(r,"argument-error"),Il._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Px{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Hl{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends Hl{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.GITHUB_SIGN_IN_METHOD="github.com";ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Hl{constructor(){super("twitter.com")}static credential(e,n){return Cs._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ti.credential(n,r)}catch{return null}}}ti.TWITTER_SIGN_IN_METHOD="twitter.com";ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Tn._fromIdTokenResponse(e,r,i),o=F0(r);return new Oo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=F0(r);return new Oo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function F0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Rr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gu(e,n,r,i)}}function Rx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gu._fromErrorAndOperation(t,s,e,r):s})}async function iL(t,e,n=!1){const r=await Sl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e,n=!1){const{auth:r}=t;if(En(r.app))return Promise.reject(xi(r));const i="reauthenticate";try{const s=await Sl(t,Rx(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=ag(s.idToken);ee(o,r,"internal-error");const{sub:l}=o;return ee(t.uid===l,r,"user-mismatch"),Oo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t,e,n=!1){if(En(t.app))return Promise.reject(xi(t));const r="signIn",i=await Rx(t,r,e),s=await Oo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function oL(t,e){return kx(Xo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL(t){const e=Xo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function lL(t,e,n){return En(t.app)?Promise.reject(xi(t)):oL(sr(t),Jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&aL(t),r})}function cL(t,e,n,r){return sr(t).onIdTokenChanged(e,n,r)}function uL(t,e,n){return sr(t).beforeAuthStateChanged(e,n)}function dL(t,e,n,r){return sr(t).onAuthStateChanged(e,n,r)}function hL(t){return sr(t).signOut()}const Qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qu,"1"),this.storage.removeItem(Qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=1e3,pL=10;class Ox extends Nx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);ND()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ox.type="LOCAL";const mL=Ox;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends Nx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Dx.type="SESSION";const Lx=Dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await gL(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=dg("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function vL(t){Jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function _L(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function EL(){return Mx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="firebaseLocalStorageDb",TL=1,Yu="firebaseLocalStorage",jx="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([Yu],e?"readwrite":"readonly").objectStore(Yu)}function xL(){const t=indexedDB.deleteDatabase(Vx);return new Wl(t).toPromise()}function Tp(){const t=indexedDB.open(Vx,TL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yu,{keyPath:jx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yu)?e(r):(r.close(),await xL(),e(await Tp()))})})}async function U0(t,e,n){const r=Vd(t,!0).put({[jx]:e,value:n});return new Wl(r).toPromise()}async function SL(t,e){const n=Vd(t,!1).get(e),r=await new Wl(n).toPromise();return r===void 0?null:r.value}function z0(t,e){const n=Vd(t,!0).delete(e);return new Wl(n).toPromise()}const IL=800,CL=3;class Fx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(EL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await _L(),!this.activeServiceWorker)return;this.sender=new yL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await U0(e,Qu,"1"),await z0(e,Qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vd(i,!1).getAll();return new Wl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fx.type="LOCAL";const bL=Fx;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t,e){return e?vr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PL(t){return kx(t.auth,new hg(t),t.bypassAuthState)}function RL(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),sL(n,new hg(t),t.bypassAuthState)}async function kL(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),iL(n,new hg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PL;case"linkViaPopup":case"linkViaRedirect":return kL;case"reauthViaPopup":case"reauthViaRedirect":return RL;default:Pn(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=new Bl(2e3,1e4);class eo extends Ux{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NL.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="pendingRedirect",iu=new Map;class DL extends Ux{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=iu.get(this.auth._key());if(!e){try{const r=await LL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}iu.set(this.auth._key(),e)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LL(t,e){const n=jL(e),r=VL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ML(t,e){iu.set(t._key(),e)}function VL(t){return vr(t._redirectPersistence)}function jL(t){return ru(OL,t.config.apiKey,t.name)}async function FL(t,e,n=!1){if(En(t.app))return Promise.reject(xi(t));const r=Xo(t),i=AL(r,e),o=await new DL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=10*60*1e3;class zL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$L(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zx(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UL&&this.cachedEventUids.clear(),this.cachedEventUids.has($0(e))}saveEventToCache(e){this.cachedEventUids.add($0(e)),this.lastProcessedEventTime=Date.now()}}function $0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $L(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e={}){return $i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WL=/^https?/;async function qL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BL(t);for(const n of e)try{if(KL(n))return}catch{}Pn(t,"unauthorized-domain")}function KL(t){const e=wp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!WL.test(n))return!1;if(HL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new Bl(3e4,6e4);function B0(){const t=Jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QL(t){return new Promise((e,n)=>{var i,s,o;function r(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(Xn(t,"network-request-failed"))},timeout:GL.get()})}if((s=(i=Jn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Jn().gapi)!=null&&o.load)r();else{const l=zD("iframefcb");return Jn()[l]=()=>{gapi.load?r():n(Xn(t,"network-request-failed"))},Cx(`${UD()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw su=null,e})}let su=null;function YL(t){return su=su||QL(t),su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new Bl(5e3,15e3),JL="__/auth/iframe",ZL="emulator/auth/iframe",eM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nM(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?og(e,ZL):`https://${t.config.authDomain}/${JL}`,r={apiKey:e.apiKey,appName:t.name,v:Yo},i=tM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$l(r).slice(1)}`}async function rM(t){const e=await YL(t),n=Jn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:nM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),l=Jn().setTimeout(()=>{s(o)},XL.get());function c(){Jn().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sM=500,oM=600,aM="_blank",lM="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cM(t,e,n,r=sM,i=oM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...iM,width:r.toString(),height:i.toString(),top:s,left:o},u=xt().toLowerCase();n&&(l=_x(u)?aM:n),yx(u)&&(e=e||lM,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[p,C])=>`${m}${p}=${C},`,"");if(kD(u)&&l!=="_self")return uM(e||"",l),new H0(null);const f=window.open(e||"",l,d);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new H0(f)}function uM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="__/auth/handler",hM="emulator/auth/handler",fM=encodeURIComponent("fac");async function W0(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yo,eventId:i};if(e instanceof Px){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Z2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Hl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${fM}=${encodeURIComponent(c)}`:"";return`${pM(t)}?${$l(l).slice(1)}${u}`}function pM({config:t}){return t.emulator?og(t,hM):`https://${t.authDomain}/${dM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="webStorageSupport";class mM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lx,this._completeRedirectFn=FL,this._overrideRedirectResult=ML}async _openPopup(e,n,r,i){var o;br((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await W0(e,n,r,wp(),i);return cM(e,s,dg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await W0(e,n,r,wp(),i);return vL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rM(e),r=new zL(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ef,{type:ef},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[ef];s!==void 0&&n(!!s),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Sx()||vx()||lg()}}const gM=mM;var q0="@firebase/auth",K0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _M(t){No(new Is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ix(t)},u=new VD(r,i,s,c);return KD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),No(new Is("auth-internal",e=>{const n=Xo(e.getProvider("auth").getImmediate());return(r=>new yM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(q0,K0,vM(t)),Ti(q0,K0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=5*60,EM=ex("authIdTokenMaxAge")||wM;let G0=null;const TM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EM)return;const i=n==null?void 0:n.token;G0!==i&&(G0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xM(t=ox()){const e=ig(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qD(t,{popupRedirectResolver:gM,persistence:[bL,mL,Lx]}),r=ex("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=TM(s.toString());uL(n,o,()=>o(n.currentUser)),cL(n,l=>o(l))}}const i=JT("auth");return i&&GD(n,`http://${i}`),n}function SM(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}jD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",SM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_M("Browser");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Si,$x;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function b(){}b.prototype=x.prototype,S.F=x.prototype,S.prototype=new b,S.prototype.constructor=S,S.D=function(A,k,O){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return x.prototype[k].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,x,b){b||(b=0);const A=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)A[k]=x.charCodeAt(b++)|x.charCodeAt(b++)<<8|x.charCodeAt(b++)<<16|x.charCodeAt(b++)<<24;else for(k=0;k<16;++k)A[k]=x[b++]|x[b++]<<8|x[b++]<<16|x[b++]<<24;x=S.g[0],b=S.g[1],k=S.g[2];let O=S.g[3],R;R=x+(O^b&(k^O))+A[0]+3614090360&4294967295,x=b+(R<<7&4294967295|R>>>25),R=O+(k^x&(b^k))+A[1]+3905402710&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(b^O&(x^b))+A[2]+606105819&4294967295,k=O+(R<<17&4294967295|R>>>15),R=b+(x^k&(O^x))+A[3]+3250441966&4294967295,b=k+(R<<22&4294967295|R>>>10),R=x+(O^b&(k^O))+A[4]+4118548399&4294967295,x=b+(R<<7&4294967295|R>>>25),R=O+(k^x&(b^k))+A[5]+1200080426&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(b^O&(x^b))+A[6]+2821735955&4294967295,k=O+(R<<17&4294967295|R>>>15),R=b+(x^k&(O^x))+A[7]+4249261313&4294967295,b=k+(R<<22&4294967295|R>>>10),R=x+(O^b&(k^O))+A[8]+1770035416&4294967295,x=b+(R<<7&4294967295|R>>>25),R=O+(k^x&(b^k))+A[9]+2336552879&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(b^O&(x^b))+A[10]+4294925233&4294967295,k=O+(R<<17&4294967295|R>>>15),R=b+(x^k&(O^x))+A[11]+2304563134&4294967295,b=k+(R<<22&4294967295|R>>>10),R=x+(O^b&(k^O))+A[12]+1804603682&4294967295,x=b+(R<<7&4294967295|R>>>25),R=O+(k^x&(b^k))+A[13]+4254626195&4294967295,O=x+(R<<12&4294967295|R>>>20),R=k+(b^O&(x^b))+A[14]+2792965006&4294967295,k=O+(R<<17&4294967295|R>>>15),R=b+(x^k&(O^x))+A[15]+1236535329&4294967295,b=k+(R<<22&4294967295|R>>>10),R=x+(k^O&(b^k))+A[1]+4129170786&4294967295,x=b+(R<<5&4294967295|R>>>27),R=O+(b^k&(x^b))+A[6]+3225465664&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^b&(O^x))+A[11]+643717713&4294967295,k=O+(R<<14&4294967295|R>>>18),R=b+(O^x&(k^O))+A[0]+3921069994&4294967295,b=k+(R<<20&4294967295|R>>>12),R=x+(k^O&(b^k))+A[5]+3593408605&4294967295,x=b+(R<<5&4294967295|R>>>27),R=O+(b^k&(x^b))+A[10]+38016083&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^b&(O^x))+A[15]+3634488961&4294967295,k=O+(R<<14&4294967295|R>>>18),R=b+(O^x&(k^O))+A[4]+3889429448&4294967295,b=k+(R<<20&4294967295|R>>>12),R=x+(k^O&(b^k))+A[9]+568446438&4294967295,x=b+(R<<5&4294967295|R>>>27),R=O+(b^k&(x^b))+A[14]+3275163606&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^b&(O^x))+A[3]+4107603335&4294967295,k=O+(R<<14&4294967295|R>>>18),R=b+(O^x&(k^O))+A[8]+1163531501&4294967295,b=k+(R<<20&4294967295|R>>>12),R=x+(k^O&(b^k))+A[13]+2850285829&4294967295,x=b+(R<<5&4294967295|R>>>27),R=O+(b^k&(x^b))+A[2]+4243563512&4294967295,O=x+(R<<9&4294967295|R>>>23),R=k+(x^b&(O^x))+A[7]+1735328473&4294967295,k=O+(R<<14&4294967295|R>>>18),R=b+(O^x&(k^O))+A[12]+2368359562&4294967295,b=k+(R<<20&4294967295|R>>>12),R=x+(b^k^O)+A[5]+4294588738&4294967295,x=b+(R<<4&4294967295|R>>>28),R=O+(x^b^k)+A[8]+2272392833&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^b)+A[11]+1839030562&4294967295,k=O+(R<<16&4294967295|R>>>16),R=b+(k^O^x)+A[14]+4259657740&4294967295,b=k+(R<<23&4294967295|R>>>9),R=x+(b^k^O)+A[1]+2763975236&4294967295,x=b+(R<<4&4294967295|R>>>28),R=O+(x^b^k)+A[4]+1272893353&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^b)+A[7]+4139469664&4294967295,k=O+(R<<16&4294967295|R>>>16),R=b+(k^O^x)+A[10]+3200236656&4294967295,b=k+(R<<23&4294967295|R>>>9),R=x+(b^k^O)+A[13]+681279174&4294967295,x=b+(R<<4&4294967295|R>>>28),R=O+(x^b^k)+A[0]+3936430074&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^b)+A[3]+3572445317&4294967295,k=O+(R<<16&4294967295|R>>>16),R=b+(k^O^x)+A[6]+76029189&4294967295,b=k+(R<<23&4294967295|R>>>9),R=x+(b^k^O)+A[9]+3654602809&4294967295,x=b+(R<<4&4294967295|R>>>28),R=O+(x^b^k)+A[12]+3873151461&4294967295,O=x+(R<<11&4294967295|R>>>21),R=k+(O^x^b)+A[15]+530742520&4294967295,k=O+(R<<16&4294967295|R>>>16),R=b+(k^O^x)+A[2]+3299628645&4294967295,b=k+(R<<23&4294967295|R>>>9),R=x+(k^(b|~O))+A[0]+4096336452&4294967295,x=b+(R<<6&4294967295|R>>>26),R=O+(b^(x|~k))+A[7]+1126891415&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~b))+A[14]+2878612391&4294967295,k=O+(R<<15&4294967295|R>>>17),R=b+(O^(k|~x))+A[5]+4237533241&4294967295,b=k+(R<<21&4294967295|R>>>11),R=x+(k^(b|~O))+A[12]+1700485571&4294967295,x=b+(R<<6&4294967295|R>>>26),R=O+(b^(x|~k))+A[3]+2399980690&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~b))+A[10]+4293915773&4294967295,k=O+(R<<15&4294967295|R>>>17),R=b+(O^(k|~x))+A[1]+2240044497&4294967295,b=k+(R<<21&4294967295|R>>>11),R=x+(k^(b|~O))+A[8]+1873313359&4294967295,x=b+(R<<6&4294967295|R>>>26),R=O+(b^(x|~k))+A[15]+4264355552&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~b))+A[6]+2734768916&4294967295,k=O+(R<<15&4294967295|R>>>17),R=b+(O^(k|~x))+A[13]+1309151649&4294967295,b=k+(R<<21&4294967295|R>>>11),R=x+(k^(b|~O))+A[4]+4149444226&4294967295,x=b+(R<<6&4294967295|R>>>26),R=O+(b^(x|~k))+A[11]+3174756917&4294967295,O=x+(R<<10&4294967295|R>>>22),R=k+(x^(O|~b))+A[2]+718787259&4294967295,k=O+(R<<15&4294967295|R>>>17),R=b+(O^(k|~x))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+O&4294967295}r.prototype.v=function(S,x){x===void 0&&(x=S.length);const b=x-this.blockSize,A=this.C;let k=this.h,O=0;for(;O<x;){if(k==0)for(;O<=b;)i(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<x;)if(A[k++]=S.charCodeAt(O++),k==this.blockSize){i(this,A),k=0;break}}else for(;O<x;)if(A[k++]=S[O++],k==this.blockSize){i(this,A),k=0;break}}this.h=k,this.o+=x},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;x=this.o*8;for(var b=S.length-8;b<S.length;++b)S[b]=x&255,x/=256;for(this.v(S),S=Array(16),x=0,b=0;b<4;++b)for(let A=0;A<32;A+=8)S[x++]=this.g[b]>>>A&255;return S};function s(S,x){var b=l;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=x(S)}function o(S,x){this.h=x;const b=[];let A=!0;for(let k=S.length-1;k>=0;k--){const O=S[k]|0;A&&O==x||(b[k]=O,A=!1)}this.g=b}var l={};function c(S){return-128<=S&&S<128?s(S,function(x){return new o([x|0],x<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return w(u(-S));const x=[];let b=1;for(let A=0;S>=b;A++)x[A]=S/b|0,b*=4294967296;return new o(x,0)}function d(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return w(d(S.substring(1),x));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=u(Math.pow(x,8));let A=f;for(let O=0;O<S.length;O+=8){var k=Math.min(8,S.length-O);const R=parseInt(S.substring(O,O+k),x);k<8?(k=u(Math.pow(x,k)),A=A.j(k).add(u(R))):(A=A.j(b),A=A.add(u(R)))}return A}var f=c(0),m=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(T(this))return-w(this).m();let S=0,x=1;for(let b=0;b<this.g.length;b++){const A=this.i(b);S+=(A>=0?A:4294967296+A)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(T(this))return"-"+w(this).toString(S);const x=u(Math.pow(S,6));var b=this;let A="";for(;;){const k=N(b,x).g;b=v(b,k.j(x));let O=((b.g.length>0?b.g[0]:b.h)>>>0).toString(S);if(b=k,C(b))return O+A;for(;O.length<6;)O="0"+O;A=O+A}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(let x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function T(S){return S.h==-1}t.l=function(S){return S=v(this,S),T(S)?-1:C(S)?0:1};function w(S){const x=S.g.length,b=[];for(let A=0;A<x;A++)b[A]=~S.g[A];return new o(b,~S.h).add(m)}t.abs=function(){return T(this)?w(this):this},t.add=function(S){const x=Math.max(this.g.length,S.g.length),b=[];let A=0;for(let k=0;k<=x;k++){let O=A+(this.i(k)&65535)+(S.i(k)&65535),R=(O>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);A=R>>>16,O&=65535,R&=65535,b[k]=R<<16|O}return new o(b,b[b.length-1]&-2147483648?-1:0)};function v(S,x){return S.add(w(x))}t.j=function(S){if(C(this)||C(S))return f;if(T(this))return T(S)?w(this).j(w(S)):w(w(this).j(S));if(T(S))return w(this.j(w(S)));if(this.l(p)<0&&S.l(p)<0)return u(this.m()*S.m());const x=this.g.length+S.g.length,b=[];for(var A=0;A<2*x;A++)b[A]=0;for(A=0;A<this.g.length;A++)for(let k=0;k<S.g.length;k++){const O=this.i(A)>>>16,R=this.i(A)&65535,B=S.i(k)>>>16,re=S.i(k)&65535;b[2*A+2*k]+=R*re,_(b,2*A+2*k),b[2*A+2*k+1]+=O*re,_(b,2*A+2*k+1),b[2*A+2*k+1]+=R*B,_(b,2*A+2*k+1),b[2*A+2*k+2]+=O*B,_(b,2*A+2*k+2)}for(S=0;S<x;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=x;S<2*x;S++)b[S]=0;return new o(b,0)};function _(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function E(S,x){this.g=S,this.h=x}function N(S,x){if(C(x))throw Error("division by zero");if(C(S))return new E(f,f);if(T(S))return x=N(w(S),x),new E(w(x.g),w(x.h));if(T(x))return x=N(S,w(x)),new E(w(x.g),x.h);if(S.g.length>30){if(T(S)||T(x))throw Error("slowDivide_ only works with positive integers.");for(var b=m,A=x;A.l(S)<=0;)b=D(b),A=D(A);var k=M(b,1),O=M(A,1);for(A=M(A,2),b=M(b,2);!C(A);){var R=O.add(A);R.l(S)<=0&&(k=k.add(b),O=R),A=M(A,1),b=M(b,1)}return x=v(S,k.j(x)),new E(k,x)}for(k=f;S.l(x)>=0;){for(b=Math.max(1,Math.floor(S.m()/x.m())),A=Math.ceil(Math.log(b)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),O=u(b),R=O.j(x);T(R)||R.l(S)>0;)b-=A,O=u(b),R=O.j(x);C(O)&&(O=m),k=k.add(O),S=v(S,R)}return new E(k,S)}t.B=function(S){return N(this,S).h},t.and=function(S){const x=Math.max(this.g.length,S.g.length),b=[];for(let A=0;A<x;A++)b[A]=this.i(A)&S.i(A);return new o(b,this.h&S.h)},t.or=function(S){const x=Math.max(this.g.length,S.g.length),b=[];for(let A=0;A<x;A++)b[A]=this.i(A)|S.i(A);return new o(b,this.h|S.h)},t.xor=function(S){const x=Math.max(this.g.length,S.g.length),b=[];for(let A=0;A<x;A++)b[A]=this.i(A)^S.i(A);return new o(b,this.h^S.h)};function D(S){const x=S.g.length+1,b=[];for(let A=0;A<x;A++)b[A]=S.i(A)<<1|S.i(A-1)>>>31;return new o(b,S.h)}function M(S,x){const b=x>>5;x%=32;const A=S.g.length-b,k=[];for(let O=0;O<A;O++)k[O]=x>0?S.i(O+b)>>>x|S.i(O+b+1)<<32-x:S.i(O+b);return new o(k,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$x=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Si=o}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bx,Oa,Hx,ou,xp,Wx,qx,Kx;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var h=0;h<a.length;++h){var g=a[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var g=r;a=a.split(".");for(var I=0;I<a.length-1;I++){var L=a[I];if(!(L in g))break e;g=g[L]}a=a[a.length-1],I=g[a],h=h(I),h!=I&&h!=null&&e(g,a,{configurable:!0,writable:!0,value:h})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(h){var g=[],I;for(I in h)Object.prototype.hasOwnProperty.call(h,I)&&g.push([I,h[I]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function c(a,h,g){return a.call.apply(a.bind,arguments)}function u(a,h,g){return u=c,u.apply(null,arguments)}function d(a,h){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),a.apply(this,I)}}function f(a,h){function g(){}g.prototype=h.prototype,a.Z=h.prototype,a.prototype=new g,a.prototype.constructor=a,a.Ob=function(I,L,V){for(var q=Array(arguments.length-2),de=2;de<arguments.length;de++)q[de-2]=arguments[de];return h.prototype[L].apply(I,q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function p(a){const h=a.length;if(h>0){const g=Array(h);for(let I=0;I<h;I++)g[I]=a[I];return g}return[]}function C(a,h){for(let I=1;I<arguments.length;I++){const L=arguments[I];var g=typeof L;if(g=g!="object"?g:L?Array.isArray(L)?"array":g:"null",g=="array"||g=="object"&&typeof L.length=="number"){g=a.length||0;const V=L.length||0;a.length=g+V;for(let q=0;q<V;q++)a[g+q]=L[q]}else a.push(L)}}class T{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function w(a){o.setTimeout(()=>{throw a},0)}function v(){var a=S;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class _{constructor(){this.h=this.g=null}add(h,g){const I=E.get();I.set(h,g),this.h?this.h.next=I:this.g=I,this.h=I}}var E=new T(()=>new N,a=>a.reset());class N{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let D,M=!1,S=new _,x=()=>{const a=Promise.resolve(void 0);D=()=>{a.then(b)}};function b(){for(var a;a=v();){try{a.h.call(a.g)}catch(g){w(g)}var h=E;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}M=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};o.addEventListener("test",g,h),o.removeEventListener("test",g,h)}catch{}return a}();function R(a){return/^[\s\xa0]*$/.test(a)}function B(a,h){k.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}f(B,k),B.prototype.init=function(a,h){const g=this.type=a.type,I=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(g=="mouseover"?h=a.fromElement:g=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),te=0;function ie(a,h,g,I,L){this.listener=a,this.proxy=null,this.src=h,this.type=g,this.capture=!!I,this.ha=L,this.key=++te,this.da=this.fa=!1}function j(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function z(a,h,g){for(const I in a)h.call(g,a[I],I,a)}function K(a,h){for(const g in a)h.call(void 0,a[g],g,a)}function ne(a){const h={};for(const g in a)h[g]=a[g];return h}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(a,h){let g,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(g in I)a[g]=I[g];for(let V=0;V<X.length;V++)g=X[V],Object.prototype.hasOwnProperty.call(I,g)&&(a[g]=I[g])}}function le(a){this.src=a,this.g={},this.h=0}le.prototype.add=function(a,h,g,I,L){const V=a.toString();a=this.g[V],a||(a=this.g[V]=[],this.h++);const q=He(a,h,I,L);return q>-1?(h=a[q],g||(h.fa=!1)):(h=new ie(h,this.src,V,!!I,L),h.fa=g,a.push(h)),h};function Re(a,h){const g=h.type;if(g in a.g){var I=a.g[g],L=Array.prototype.indexOf.call(I,h,void 0),V;(V=L>=0)&&Array.prototype.splice.call(I,L,1),V&&(j(h),a.g[g].length==0&&(delete a.g[g],a.h--))}}function He(a,h,g,I){for(let L=0;L<a.length;++L){const V=a[L];if(!V.da&&V.listener==h&&V.capture==!!g&&V.ha==I)return L}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Rn={};function un(a,h,g,I,L){if(Array.isArray(h)){for(let V=0;V<h.length;V++)un(a,h[V],g,I,L);return null}return g=Nr(g),a&&a[re]?a.J(h,g,l(I)?!!I.capture:!!I,L):or(a,h,g,!1,I,L)}function or(a,h,g,I,L,V){if(!h)throw Error("Invalid event type");const q=l(L)?!!L.capture:!!L;let de=kr(a);if(de||(a[me]=de=new le(a)),g=de.add(h,g,I,q,V),g.proxy)return g;if(I=kn(),g.proxy=I,I.src=a,I.listener=g,a.addEventListener)O||(L=q),L===void 0&&(L=!1),a.addEventListener(h.toString(),I,L);else if(a.attachEvent)a.attachEvent(Bi(h.toString()),I);else if(a.addListener&&a.removeListener)a.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function kn(){function a(g){return h.call(a.src,a.listener,g)}const h=na;return a}function ar(a,h,g,I,L){if(Array.isArray(h))for(var V=0;V<h.length;V++)ar(a,h[V],g,I,L);else I=l(I)?!!I.capture:!!I,g=Nr(g),a&&a[re]?(a=a.i,V=String(h).toString(),V in a.g&&(h=a.g[V],g=He(h,g,I,L),g>-1&&(j(h[g]),Array.prototype.splice.call(h,g,1),h.length==0&&(delete a.g[V],a.h--)))):a&&(a=kr(a))&&(h=a.g[h.toString()],a=-1,h&&(a=He(h,g,I,L)),(g=a>-1?h[a]:null)&&en(g))}function en(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[re])Re(h.i,a);else{var g=a.type,I=a.proxy;h.removeEventListener?h.removeEventListener(g,I,a.capture):h.detachEvent?h.detachEvent(Bi(g),I):h.addListener&&h.removeListener&&h.removeListener(I),(g=kr(h))?(Re(g,a),g.h==0&&(g.src=null,h[me]=null)):j(a)}}}function Bi(a){return a in Rn?Rn[a]:Rn[a]="on"+a}function na(a,h){if(a.da)a=!0;else{h=new B(h,this);const g=a.listener,I=a.ha||a.src;a.fa&&en(a),a=g.call(I,h)}return a}function kr(a){return a=a[me],a instanceof le?a:null}var Hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nr(a){return typeof a=="function"?a:(a[Hi]||(a[Hi]=function(h){return a.handleEvent(h)}),a[Hi])}function Ne(){A.call(this),this.i=new le(this),this.M=this,this.G=null}f(Ne,A),Ne.prototype[re]=!0,Ne.prototype.removeEventListener=function(a,h,g,I){ar(this,a,h,g,I)};function rt(a,h){var g,I=a.G;if(I)for(g=[];I;I=I.G)g.push(I);if(a=a.M,I=h.type||h,typeof h=="string")h=new k(h,a);else if(h instanceof k)h.target=h.target||a;else{var L=h;h=new k(I,a),ue(h,L)}L=!0;let V,q;if(g)for(q=g.length-1;q>=0;q--)V=h.g=g[q],L=Nn(V,I,!0,h)&&L;if(V=h.g=a,L=Nn(V,I,!0,h)&&L,L=Nn(V,I,!1,h)&&L,g)for(q=0;q<g.length;q++)V=h.g=g[q],L=Nn(V,I,!1,h)&&L}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const g=a.g[h];for(let I=0;I<g.length;I++)j(g[I]);delete a.g[h],a.h--}}this.G=null},Ne.prototype.J=function(a,h,g,I){return this.i.add(String(a),h,!1,g,I)},Ne.prototype.K=function(a,h,g,I){return this.i.add(String(a),h,!0,g,I)};function Nn(a,h,g,I){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let L=!0;for(let V=0;V<h.length;++V){const q=h[V];if(q&&!q.da&&q.capture==g){const de=q.listener,Ye=q.ha||q.src;q.fa&&Re(a.i,q),L=de.call(Ye,I)!==!1&&L}}return L&&!I.defaultPrevented}function Xl(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(a,h||0)}function On(a){a.g=Xl(()=>{a.g=null,a.i&&(a.i=!1,On(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Qd extends A{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:On(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wi(a){A.call(this),this.h=a,this.g={}}f(Wi,A);var St=[];function lr(a){z(a.g,function(h,g){this.g.hasOwnProperty(g)&&en(h)},a),a.g={}}Wi.prototype.N=function(){Wi.Z.N.call(this),lr(this)},Wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ra=o.JSON.stringify,Yd=o.JSON.parse,Ns=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Jl(){}function ia(){}var cr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dn(){k.call(this,"d")}f(Dn,k);function Os(){k.call(this,"c")}f(Os,k);var Dt={},Zl=null;function Ds(){return Zl=Zl||new Ne}Dt.Ia="serverreachability";function sa(a){k.call(this,Dt.Ia,a)}f(sa,k);function Or(a){const h=Ds();rt(h,new sa(h))}Dt.STAT_EVENT="statevent";function ec(a,h){k.call(this,Dt.STAT_EVENT,a),this.stat=h}f(ec,k);function Qe(a){const h=Ds();rt(h,new ec(h,a))}Dt.Ja="timingevent";function dn(a,h){k.call(this,Dt.Ja,a),this.size=h}f(dn,k);function qi(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function Z(){this.g=!0}Z.prototype.ua=function(){this.g=!1};function Ee(a,h,g,I,L,V){a.info(function(){if(a.g)if(V){var q="",de=V.split("&");for(let xe=0;xe<de.length;xe++){var Ye=de[xe].split("=");if(Ye.length>1){const st=Ye[0];Ye=Ye[1];const Vn=st.split("_");q=Vn.length>=2&&Vn[1]=="type"?q+(st+"="+Ye+"&"):q+(st+"=redacted&")}}}else q=null;else q=V;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+h+`
`+g+`
`+q})}function Se(a,h,g,I,L,V,q){a.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+h+`
`+g+`
`+V+" "+q})}function it(a,h,g,I){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Ln(a,g)+(I?" "+I:"")})}function Ht(a,h){a.info(function(){return"TIMEOUT: "+h})}Z.prototype.info=function(){};function Ln(a,h){if(!a.g)return h;if(!h)return null;try{const V=JSON.parse(h);if(V){for(a=0;a<V.length;a++)if(Array.isArray(V[a])){var g=V[a];if(!(g.length<2)){var I=g[1];if(Array.isArray(I)&&!(I.length<1)){var L=I[0];if(L!="noop"&&L!="stop"&&L!="close")for(let q=1;q<I.length;q++)I[q]=""}}}}return ra(V)}catch{return h}}var tn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hn;function Xd(){}f(Xd,Jl),Xd.prototype.g=function(){return new XMLHttpRequest},hn=new Xd;function oa(a){return encodeURIComponent(String(a))}function ZS(a){var h=1;a=a.split(":");const g=[];for(;h>0&&a.length;)g.push(a.shift()),h--;return a.length&&g.push(a.join(":")),g}function Dr(a,h,g,I){this.j=a,this.i=h,this.l=g,this.S=I||1,this.V=new Wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vg}function Vg(){this.i=null,this.g="",this.h=!1}var jg={},Jd={};function Zd(a,h,g){a.M=1,a.A=nc(Mn(h)),a.u=g,a.R=!0,Fg(a,null)}function Fg(a,h){a.F=Date.now(),tc(a),a.B=Mn(a.A);var g=a.B,I=a.S;Array.isArray(I)||(I=[String(I)]),Jg(g.i,"t",I),a.C=0,g=a.j.L,a.h=new Vg,a.g=gy(a.j,g?h:null,!a.u),a.P>0&&(a.O=new Qd(u(a.Y,a,a.g),a.P)),h=a.V,g=a.g,I=a.ba;var L="readystatechange";Array.isArray(L)||(L&&(St[0]=L.toString()),L=St);for(let V=0;V<L.length;V++){const q=un(g,L[V],I||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=a.J?ne(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),Or(),Ee(a.i,a.v,a.B,a.l,a.S,a.u)}Dr.prototype.ba=function(a){a=a.target;const h=this.O;h&&Vr(a)==3?h.j():this.Y(a)},Dr.prototype.Y=function(a){try{if(a==this.g)e:{const de=Vr(this.g),Ye=this.g.ya(),xe=this.g.ca();if(!(de<3)&&(de!=3||this.g&&(this.h.h||this.g.la()||sy(this.g)))){this.K||de!=4||Ye==7||(Ye==8||xe<=0?Or(3):Or(2)),eh(this);var h=this.g.ca();this.X=h;var g=eI(this);if(this.o=h==200,Se(this.i,this.v,this.B,this.l,this.S,de,h),this.o){if(this.U&&!this.L){t:{if(this.g){var I,L=this.g;if((I=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(I)){var V=I;break t}}V=null}if(a=V)it(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,th(this,a);else{this.o=!1,this.m=3,Qe(12),Ki(this),aa(this);break e}}if(this.R){a=!0;let st;for(;!this.K&&this.C<g.length;)if(st=tI(this,g),st==Jd){de==4&&(this.m=4,Qe(14),a=!1),it(this.i,this.l,null,"[Incomplete Response]");break}else if(st==jg){this.m=4,Qe(15),it(this.i,this.l,g,"[Invalid Chunk]"),a=!1;break}else it(this.i,this.l,st,null),th(this,st);if(Ug(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||g.length!=0||this.h.h||(this.m=1,Qe(16),a=!1),this.o=this.o&&a,!a)it(this.i,this.l,g,"[Invalid Chunked Response]"),Ki(this),aa(this);else if(g.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),ch(q),q.P=!0,Qe(11))}}else it(this.i,this.l,g,null),th(this,g);de==4&&Ki(this),this.o&&!this.K&&(de==4?hy(this.j,this):(this.o=!1,tc(this)))}else mI(this.g),h==400&&g.indexOf("Unknown SID")>0?(this.m=3,Qe(12)):(this.m=0,Qe(13)),Ki(this),aa(this)}}}catch{}finally{}};function eI(a){if(!Ug(a))return a.g.la();const h=sy(a.g);if(h==="")return"";let g="";const I=h.length,L=Vr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Ki(a),aa(a),"";a.h.i=new o.TextDecoder}for(let V=0;V<I;V++)a.h.h=!0,g+=a.h.i.decode(h[V],{stream:!(L&&V==I-1)});return h.length=0,a.h.g+=g,a.C=0,a.h.g}function Ug(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function tI(a,h){var g=a.C,I=h.indexOf(`
`,g);return I==-1?Jd:(g=Number(h.substring(g,I)),isNaN(g)?jg:(I+=1,I+g>h.length?Jd:(h=h.slice(I,I+g),a.C=I+g,h)))}Dr.prototype.cancel=function(){this.K=!0,Ki(this)};function tc(a){a.T=Date.now()+a.H,zg(a,a.H)}function zg(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=qi(u(a.aa,a),h)}function eh(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Dr.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Ht(this.i,this.B),this.M!=2&&(Or(),Qe(17)),Ki(this),this.m=2,aa(this)):zg(this,this.T-a)};function aa(a){a.j.I==0||a.K||hy(a.j,a)}function Ki(a){eh(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,lr(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function th(a,h){try{var g=a.j;if(g.I!=0&&(g.g==a||nh(g.h,a))){if(!a.L&&nh(g.h,a)&&g.I==3){try{var I=g.Ba.g.parse(h)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<a.F)ac(g),sc(g);else break e;lh(g),Qe(18)}}else g.xa=L[1],0<g.xa-g.K&&L[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=qi(u(g.Va,g),6e3));Hg(g.h)<=1&&g.ta&&(g.ta=void 0)}else Qi(g,11)}else if((a.L||g.g==a)&&ac(g),!R(h))for(L=g.Ba.g.parse(h),h=0;h<L.length;h++){let xe=L[h];const st=xe[0];if(!(st<=g.K))if(g.K=st,xe=xe[1],g.I==2)if(xe[0]=="c"){g.M=xe[1],g.ba=xe[2];const Vn=xe[3];Vn!=null&&(g.ka=Vn,g.j.info("VER="+g.ka));const Yi=xe[4];Yi!=null&&(g.za=Yi,g.j.info("SVER="+g.za));const jr=xe[5];jr!=null&&typeof jr=="number"&&jr>0&&(I=1.5*jr,g.O=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const Fr=a.g;if(Fr){const cc=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cc){var V=I.h;V.g||cc.indexOf("spdy")==-1&&cc.indexOf("quic")==-1&&cc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(rh(V,V.h),V.h=null))}if(I.G){const uh=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;uh&&(I.wa=uh,Ce(I.J,I.G,uh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-a.F,g.j.info("Handshake RTT: "+g.T+"ms")),I=g;var q=a;if(I.na=my(I,I.L?I.ba:null,I.W),q.L){Wg(I.h,q);var de=q,Ye=I.O;Ye&&(de.H=Ye),de.D&&(eh(de),tc(de)),I.g=q}else uy(I);g.i.length>0&&oc(g)}else xe[0]!="stop"&&xe[0]!="close"||Qi(g,7);else g.I==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Qi(g,7):ah(g):xe[0]!="noop"&&g.l&&g.l.qa(xe),g.A=0)}}Or(4)}catch{}}var nI=class{constructor(a,h){this.g=a,this.map=h}};function $g(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Hg(a){return a.h?1:a.g?a.g.size:0}function nh(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function rh(a,h){a.g?a.g.add(h):a.h=h}function Wg(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}$g.prototype.cancel=function(){if(this.i=qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function qg(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const g of a.g.values())h=h.concat(g.G);return h}return p(a.i)}var Kg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rI(a,h){if(a){a=a.split("&");for(let g=0;g<a.length;g++){const I=a[g].indexOf("=");let L,V=null;I>=0?(L=a[g].substring(0,I),V=a[g].substring(I+1)):L=a[g],h(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Lr(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof Lr?(this.l=a.l,la(this,a.j),this.o=a.o,this.g=a.g,ca(this,a.u),this.h=a.h,ih(this,Zg(a.i)),this.m=a.m):a&&(h=String(a).match(Kg))?(this.l=!1,la(this,h[1]||"",!0),this.o=ua(h[2]||""),this.g=ua(h[3]||"",!0),ca(this,h[4]),this.h=ua(h[5]||"",!0),ih(this,h[6]||"",!0),this.m=ua(h[7]||"")):(this.l=!1,this.i=new ha(null,this.l))}Lr.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(da(h,Gg,!0),":");var g=this.g;return(g||h=="file")&&(a.push("//"),(h=this.o)&&a.push(da(h,Gg,!0),"@"),a.push(oa(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&a.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(da(g,g.charAt(0)=="/"?oI:sI,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",da(g,lI)),a.join("")},Lr.prototype.resolve=function(a){const h=Mn(this);let g=!!a.j;g?la(h,a.j):g=!!a.o,g?h.o=a.o:g=!!a.g,g?h.g=a.g:g=a.u!=null;var I=a.h;if(g)ca(h,a.u);else if(g=!!a.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var L=h.h.lastIndexOf("/");L!=-1&&(I=h.h.slice(0,L+1)+I)}if(L=I,L==".."||L==".")I="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){I=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let q=0;q<L.length;){const de=L[q++];de=="."?I&&q==L.length&&V.push(""):de==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),I&&q==L.length&&V.push("")):(V.push(de),I=!0)}I=V.join("/")}else I=L}return g?h.h=I:g=a.i.toString()!=="",g?ih(h,Zg(a.i)):g=!!a.m,g&&(h.m=a.m),h};function Mn(a){return new Lr(a)}function la(a,h,g){a.j=g?ua(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function ca(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function ih(a,h,g){h instanceof ha?(a.i=h,cI(a.i,a.l)):(g||(h=da(h,aI)),a.i=new ha(h,a.l))}function Ce(a,h,g){a.i.set(h,g)}function nc(a){return Ce(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function ua(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function da(a,h,g){return typeof a=="string"?(a=encodeURI(a).replace(h,iI),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function iI(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Gg=/[#\/\?@]/g,sI=/[#\?:]/g,oI=/[#\?]/g,aI=/[#\?@]/g,lI=/#/g;function ha(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Gi(a){a.g||(a.g=new Map,a.h=0,a.i&&rI(a.i,function(h,g){a.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=ha.prototype,t.add=function(a,h){Gi(this),this.i=null,a=Ls(this,a);let g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(h),this.h+=1,this};function Qg(a,h){Gi(a),h=Ls(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Yg(a,h){return Gi(a),h=Ls(a,h),a.g.has(h)}t.forEach=function(a,h){Gi(this),this.g.forEach(function(g,I){g.forEach(function(L){a.call(h,L,I,this)},this)},this)};function Xg(a,h){Gi(a);let g=[];if(typeof h=="string")Yg(a,h)&&(g=g.concat(a.g.get(Ls(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)g=g.concat(a[h]);return g}t.set=function(a,h){return Gi(this),this.i=null,a=Ls(this,a),Yg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=Xg(this,a),a.length>0?String(a[0]):h):h};function Jg(a,h,g){Qg(a,h),g.length>0&&(a.i=null,a.g.set(Ls(a,h),p(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let I=0;I<h.length;I++){var g=h[I];const L=oa(g);g=Xg(this,g);for(let V=0;V<g.length;V++){let q=L;g[V]!==""&&(q+="="+oa(g[V])),a.push(q)}}return this.i=a.join("&")};function Zg(a){const h=new ha;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function Ls(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function cI(a,h){h&&!a.j&&(Gi(a),a.i=null,a.g.forEach(function(g,I){const L=I.toLowerCase();I!=L&&(Qg(this,I),Jg(this,L,g))},a)),a.j=h}function uI(a,h){const g=new Z;if(o.Image){const I=new Image;I.onload=d(Mr,g,"TestLoadImage: loaded",!0,h,I),I.onerror=d(Mr,g,"TestLoadImage: error",!1,h,I),I.onabort=d(Mr,g,"TestLoadImage: abort",!1,h,I),I.ontimeout=d(Mr,g,"TestLoadImage: timeout",!1,h,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=a}else h(!1)}function dI(a,h){const g=new Z,I=new AbortController,L=setTimeout(()=>{I.abort(),Mr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:I.signal}).then(V=>{clearTimeout(L),V.ok?Mr(g,"TestPingServer: ok",!0,h):Mr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Mr(g,"TestPingServer: error",!1,h)})}function Mr(a,h,g,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(g)}catch{}}function hI(){this.g=new Ns}function sh(a){this.i=a.Sb||null,this.h=a.ab||!1}f(sh,Jl),sh.prototype.g=function(){return new rc(this.i,this.h)};function rc(a,h){Ne.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(rc,Ne),t=rc.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,pa(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ey(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function ey(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?fa(this):pa(this),this.readyState==3&&ey(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,fa(this))},t.Na=function(a){this.g&&(this.response=a,fa(this))},t.ga=function(){this.g&&fa(this)};function fa(a){a.readyState=4,a.l=null,a.j=null,a.B=null,pa(a)}t.setRequestHeader=function(a,h){this.A.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=h.next();return a.join(`\r
`)};function pa(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ty(a){let h="";return z(a,function(g,I){h+=I,h+=":",h+=g,h+=`\r
`}),h}function oh(a,h,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=ty(g),typeof a=="string"?g!=null&&oa(g):Ce(a,h,g))}function je(a){Ne.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(je,Ne);var fI=/^https?$/i,pI=["POST","PUT"];t=je.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,h,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hn.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(V){ny(this,V);return}if(a=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)g.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const V of I.keys())g.set(V,I.get(V));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(pI,h,void 0)>=0)||I||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of g)this.g.setRequestHeader(V,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(V){ny(this,V)}};function ny(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,ry(a),ic(a)}function ry(a){a.A||(a.A=!0,rt(a,"complete"),rt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,rt(this,"complete"),rt(this,"abort"),ic(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ic(this,!0)),je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?iy(this):this.Xa())},t.Xa=function(){iy(this)};function iy(a){if(a.h&&typeof s<"u"){if(a.v&&Vr(a)==4)setTimeout(a.Ca.bind(a),0);else if(rt(a,"readystatechange"),Vr(a)==4){a.h=!1;try{const V=a.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var I;if(I=V===0){let q=String(a.D).match(Kg)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),I=!fI.test(q?q.toLowerCase():"")}g=I}if(g)rt(a,"complete"),rt(a,"success");else{a.o=6;try{var L=Vr(a)>2?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.ca()+"]",ry(a)}}finally{ic(a)}}}}function ic(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const g=a.g;a.g=null,h||rt(a,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vr(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Vr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Yd(h)}};function sy(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function mI(a){const h={};a=(a.g&&Vr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<a.length;I++){if(R(a[I]))continue;var g=ZS(a[I]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=h[L]||[];h[L]=V,V.push(g)}K(h,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ma(a,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||h}function oy(a){this.za=0,this.i=[],this.j=new Z,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ma("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ma("baseRetryDelayMs",5e3,a),this.Za=ma("retryDelaySeedMs",1e4,a),this.Ta=ma("forwardChannelMaxRetries",2,a),this.va=ma("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new $g(a&&a.concurrentRequestLimit),this.Ba=new hI,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=oy.prototype,t.ka=8,t.I=1,t.connect=function(a,h,g,I){Qe(0),this.W=a,this.H=h||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.J=my(this,null,this.W),oc(this)};function ah(a){if(ay(a),a.I==3){var h=a.V++,g=Mn(a.J);if(Ce(g,"SID",a.M),Ce(g,"RID",h),Ce(g,"TYPE","terminate"),ga(a,g),h=new Dr(a,a.j,h),h.M=2,h.A=nc(Mn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=h.A,g=!0),g||(h.g=gy(h.j,null),h.g.ea(h.A)),h.F=Date.now(),tc(h)}py(a)}function sc(a){a.g&&(ch(a),a.g.cancel(),a.g=null)}function ay(a){sc(a),a.v&&(o.clearTimeout(a.v),a.v=null),ac(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function oc(a){if(!Bg(a.h)&&!a.m){a.m=!0;var h=a.Ea;D||x(),M||(D(),M=!0),S.add(h,a),a.D=0}}function gI(a,h){return Hg(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=qi(u(a.Ea,a,h),fy(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const L=new Dr(this,this.j,a);let V=this.o;if(this.U&&(V?(V=ne(V),ue(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(h+=I,h>4096){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=cy(this,L,h),g=Mn(this.J),Ce(g,"RID",a),Ce(g,"CVER",22),this.G&&Ce(g,"X-HTTP-Session-Id",this.G),ga(this,g),V&&(this.R?h="headers="+oa(ty(V))+"&"+h:this.u&&oh(g,this.u,V)),rh(this.h,L),this.Ra&&Ce(g,"TYPE","init"),this.S?(Ce(g,"$req",h),Ce(g,"SID","null"),L.U=!0,Zd(L,g,null)):Zd(L,g,h),this.I=2}}else this.I==3&&(a?ly(this,a):this.i.length==0||Bg(this.h)||ly(this))};function ly(a,h){var g;h?g=h.l:g=a.V++;const I=Mn(a.J);Ce(I,"SID",a.M),Ce(I,"RID",g),Ce(I,"AID",a.K),ga(a,I),a.u&&a.o&&oh(I,a.u,a.o),g=new Dr(a,a.j,g,a.D+1),a.u===null&&(g.J=a.o),h&&(a.i=h.G.concat(a.i)),h=cy(a,g,1e3),g.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),rh(a.h,g),Zd(g,I,h)}function ga(a,h){a.H&&z(a.H,function(g,I){Ce(h,I,g)}),a.l&&z({},function(g,I){Ce(h,I,g)})}function cy(a,h,g){g=Math.min(a.i.length,g);const I=a.l?u(a.l.Ka,a.l,a):null;e:{var L=a.i;let de=-1;for(;;){const Ye=["count="+g];de==-1?g>0?(de=L[0].g,Ye.push("ofs="+de)):de=0:Ye.push("ofs="+de);let xe=!0;for(let st=0;st<g;st++){var V=L[st].g;const Vn=L[st].map;if(V-=de,V<0)de=Math.max(0,L[st].g-100),xe=!1;else try{V="req"+V+"_"||"";try{var q=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Yi,jr]of q){let Fr=jr;l(jr)&&(Fr=ra(jr)),Ye.push(V+Yi+"="+encodeURIComponent(Fr))}}catch(Yi){throw Ye.push(V+"type="+encodeURIComponent("_badmap")),Yi}}catch{I&&I(Vn)}}if(xe){q=Ye.join("&");break e}}q=void 0}return a=a.i.splice(0,g),h.G=a,q}function uy(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;D||x(),M||(D(),M=!0),S.add(h,a),a.A=0}}function lh(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=qi(u(a.Da,a),fy(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,dy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=qi(u(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qe(10),sc(this),dy(this))};function ch(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function dy(a){a.g=new Dr(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=Mn(a.na);Ce(h,"RID","rpc"),Ce(h,"SID",a.M),Ce(h,"AID",a.K),Ce(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&Ce(h,"TO",a.ia),Ce(h,"TYPE","xmlhttp"),ga(a,h),a.u&&a.o&&oh(h,a.u,a.o),a.O&&(a.g.H=a.O);var g=a.g;a=a.ba,g.M=1,g.A=nc(Mn(h)),g.u=null,g.R=!0,Fg(g,a)}t.Va=function(){this.C!=null&&(this.C=null,sc(this),lh(this),Qe(19))};function ac(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function hy(a,h){var g=null;if(a.g==h){ac(a),ch(a),a.g=null;var I=2}else if(nh(a.h,h))g=h.G,Wg(a.h,h),I=1;else return;if(a.I!=0){if(h.o)if(I==1){g=h.u?h.u.length:0,h=Date.now()-h.F;var L=a.D;I=Ds(),rt(I,new dn(I,g)),oc(a)}else uy(a);else if(L=h.m,L==3||L==0&&h.X>0||!(I==1&&gI(a,h)||I==2&&lh(a)))switch(g&&g.length>0&&(h=a.h,h.i=h.i.concat(g)),L){case 1:Qi(a,5);break;case 4:Qi(a,10);break;case 3:Qi(a,6);break;default:Qi(a,2)}}}function fy(a,h){let g=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(g*=2),g*h}function Qi(a,h){if(a.j.info("Error code "+h),h==2){var g=u(a.bb,a),I=a.Ua;const L=!I;I=new Lr(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||la(I,"https"),nc(I),L?uI(I.toString(),g):dI(I.toString(),g)}else Qe(2);a.I=0,a.l&&a.l.pa(h),py(a),ay(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function py(a){if(a.I=0,a.ja=[],a.l){const h=qg(a.h);(h.length!=0||a.i.length!=0)&&(C(a.ja,h),C(a.ja,a.i),a.h.i.length=0,p(a.i),a.i.length=0),a.l.oa()}}function my(a,h,g){var I=g instanceof Lr?Mn(g):new Lr(g);if(I.g!="")h&&(I.g=h+"."+I.g),ca(I,I.u);else{var L=o.location;I=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;const V=new Lr(null);I&&la(V,I),h&&(V.g=h),L&&ca(V,L),g&&(V.h=g),I=V}return g=a.G,h=a.wa,g&&h&&Ce(I,g,h),Ce(I,"VER",a.ka),ga(a,I),I}function gy(a,h,g){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new je(new sh({ab:g})):new je(a.ma),h.Fa(a.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yy(){}t=yy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lc(){}lc.prototype.g=function(a,h){return new Wt(a,h)};function Wt(a,h){Ne.call(this),this.g=new oy(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!R(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!R(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ms(this)}f(Wt,Ne),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){ah(this.g)},Wt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.v&&(g={},g.__data__=ra(a),a=g);h.i.push(new nI(h.Ya++,a)),h.I==3&&oc(h)},Wt.prototype.N=function(){this.g.l=null,delete this.j,ah(this.g),delete this.g,Wt.Z.N.call(this)};function vy(a){Dn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const g in h){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}f(vy,Dn);function _y(){Os.call(this),this.status=1}f(_y,Os);function Ms(a){this.g=a}f(Ms,yy),Ms.prototype.ra=function(){rt(this.g,"a")},Ms.prototype.qa=function(a){rt(this.g,new vy(a))},Ms.prototype.pa=function(a){rt(this.g,new _y)},Ms.prototype.oa=function(){rt(this.g,"b")},lc.prototype.createWebChannel=lc.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,Kx=function(){return new lc},qx=function(){return Ds()},Wx=Dt,xp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tn.NO_ERROR=0,tn.TIMEOUT=8,tn.HTTP_ERROR=6,ou=tn,Lt.COMPLETE="complete",Hx=Lt,ia.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,Oa=ia,je.prototype.listenOnce=je.prototype.K,je.prototype.getLastError=je.prototype.Ha,je.prototype.getLastErrorCode=je.prototype.ya,je.prototype.getStatus=je.prototype.ca,je.prototype.getResponseJson=je.prototype.La,je.prototype.getResponseText=je.prototype.la,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Fa,Bx=je}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",X0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new ng("@firebase/firestore");function js(){return bs.logLevel}function G(t,...e){if(bs.logLevel<=fe.DEBUG){const n=e.map(fg);bs.debug(`Firestore (${Zo}): ${t}`,...n)}}function Ar(t,...e){if(bs.logLevel<=fe.ERROR){const n=e.map(fg);bs.error(`Firestore (${Zo}): ${t}`,...n)}}function Do(t,...e){if(bs.logLevel<=fe.WARN){const n=e.map(fg);bs.warn(`Firestore (${Zo}): ${t}`,...n)}}function fg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Gx(t,r,n)}function Gx(t,e,n){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ar(r),new Error(r)}function Me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Gx(e,i,r)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class CM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bM{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ms,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ms)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new Qx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new _t(e)}}class AM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new AM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,En(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new J0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=kM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Sp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return tf(i)===tf(s)?pe(i,s):tf(i)?1:-1}return pe(t.length,e.length)}const NM=55296,OM=57343;function tf(t){const e=t.charCodeAt(0);return e>=NM&&e<=OM}function Lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__name__";class Un{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Un.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Un?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Un.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return pe(e.length,n.length)}static compareSegments(e,n){const r=Un.isNumericId(e),i=Un.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Un.extractNumericId(e).compare(Un.extractNumericId(n)):Sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Si.fromString(e.substring(4,e.length-2))}}class De extends Un{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new De(n)}static emptyPath(){return new De([])}}const DM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Un{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return DM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z0}static keyField(){return new At([Z0])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Y(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Y(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(De.fromString(e))}static fromName(e){return new J(De.fromString(e).popFirst(5))}static empty(){return new J(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new De(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t,e,n){if(!n)throw new Y(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MM(t,e,n,r){if(e===!0&&r===!0)throw new Y(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e_(t){if(!J.isDocumentKey(t))throw new Y(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jM(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function Ip(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jM(t);throw new Y(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e){const n={typeString:t};return e&&(n.value=e),n}function ql(t,e){if(!VM(t))throw new Y(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Y(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=-62135596800,n_=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*n_);return new qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t_)throw new Y(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ql(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:Ge("string",qe._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new qe(0,0))}static max(){return new se(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function FM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new Oi(i,J.empty(),e)}function UM(t){return new Oi(t.readTime,t.key,Cl)}class Oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oi(se.min(),J.empty(),Cl)}static max(){return new Oi(se.max(),J.empty(),Cl)}}function zM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==$M)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function HM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ea(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=-1;function Ud(t){return t==null}function Cp(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="";function qM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=r_(e)),e=KM(t.get(n),e);return r_(e)}function KM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Yx:n+="";break;default:n+=s}}return n}function r_(t){return t+Yx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||ut.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ut.RED,this.left=i??ut.EMPTY,this.right=s??ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(e){return new s_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class s_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new ui([])}unionWith(e){let n=new nt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Xx("Invalid base64 string: "+s):s}}(e);return new ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const QM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=QM.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Li(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="server_timestamp",Zx="__type__",eS="__previous_value__",tS="__local_write_time__";function mg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Zx])==null?void 0:r.stringValue)===Jx}function zd(t){const e=t.mapValue.fields[eS];return mg(e)?zd(e):e}function bl(t){const e=Di(t.mapValue.fields[tS].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n,r,i,s,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Xu="(default)";class Al{constructor(e,n){this.projectId=e,this.database=n||Xu}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===Xu}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="__type__",nS="__max__",jc={mapValue:{fields:{__type__:{stringValue:nS}}}},JM="__vector__",bp="value";function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mg(t)?4:e4(t)?9007199254740991:ZM(t)?10:11:ae(28295,{value:t})}function tr(t,e){if(t===e)return!0;const n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Di(i.timestampValue),l=Di(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Li(i.bytesValue).isEqual(Li(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ze(i.geoPointValue.latitude)===ze(s.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ze(i.integerValue)===ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ze(i.doubleValue),l=ze(s.doubleValue);return o===l?Cp(o)===Cp(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(i_(o)!==i_(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!tr(o[c],l[c])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function Pl(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function Mo(t,e){if(t===e)return 0;const n=Mi(t),r=Mi(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=ze(s.integerValue||s.doubleValue),c=ze(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return o_(t.timestampValue,e.timestampValue);case 4:return o_(bl(t),bl(e));case 5:return Sp(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Li(s),c=Li(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=pe(l[u],c[u]);if(d!==0)return d}return pe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=pe(ze(s.latitude),ze(o.latitude));return l!==0?l:pe(ze(s.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return a_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var m,p,C,T;const l=s.fields||{},c=o.fields||{},u=(m=l[bp])==null?void 0:m.arrayValue,d=(p=c[bp])==null?void 0:p.arrayValue,f=pe(((C=u==null?void 0:u.values)==null?void 0:C.length)||0,((T=d==null?void 0:d.values)==null?void 0:T.length)||0);return f!==0?f:a_(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===jc.mapValue&&o===jc.mapValue)return 0;if(s===jc.mapValue)return 1;if(o===jc.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=Sp(c[f],d[f]);if(m!==0)return m;const p=Mo(l[c[f]],u[d[f]]);if(p!==0)return p}return pe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function o_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=Di(t),r=Di(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function a_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Mo(n[i],r[i]);if(s)return s}return pe(n.length,r.length)}function Vo(t){return Ap(t)}function Ap(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ap(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ap(n.fields[o])}`;return i+"}"}(t.mapValue):ae(61005,{value:t})}function au(t){switch(Mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zd(t);return e?16+au(e):16;case 5:return 2*t.stringValue.length;case 6:return Li(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+au(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Kl(r.fields,(s,o)=>{i+=s.length+au(o)}),i}(t.mapValue);default:throw ae(13486,{value:t})}}function Pp(t){return!!t&&"integerValue"in t}function gg(t){return!!t&&"arrayValue"in t}function l_(t){return!!t&&"nullValue"in t}function c_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nf(t){return!!t&&"mapValue"in t}function ZM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XM])==null?void 0:r.stringValue)===JM}function Qa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Kl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qa(t.arrayValue.values[n]);return e}return{...t}}function e4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Qa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Kl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wn(Qa(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Et(e,0,se.min(),se.min(),se.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,i){return new Et(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new Et(e,2,n,se.min(),se.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,se.min(),se.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.position=e,this.inclusive=n}}function u_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function d_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function t4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{}class Ze extends rS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r4(e,n,r):n==="array-contains"?new o4(e,r):n==="in"?new a4(e,r):n==="not-in"?new l4(e,r):n==="array-contains-any"?new c4(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i4(e,r):new s4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mo(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(Mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends rS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new nr(e,n)}matches(e){return iS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iS(t){return t.op==="and"}function sS(t){return n4(t)&&iS(t)}function n4(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Rp(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Vo(t.value);if(sS(t))return t.filters.map(e=>Rp(e)).join(",");{const e=t.filters.map(n=>Rp(n)).join(",");return`${t.op}(${e})`}}function oS(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&oS(o,i.filters[l]),!0):!1}(t,e):void ae(19439)}function aS(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(aS).join(" ,")+"}"}(t):"Filter"}class r4 extends Ze{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class i4 extends Ze{constructor(e,n){super(e,"in",n),this.keys=lS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class s4 extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=lS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class o4 extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gg(n)&&Pl(n.arrayValue,this.value)}}class a4 extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class l4 extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pl(this.value.arrayValue,n)}}class c4 extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function h_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new u4(t,e,n,r,i,s,o)}function yg(t){const e=ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vo(r)).join(",")),e.Te=n}return e.Te}function vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d_(t.startAt,e.startAt)&&d_(t.endAt,e.endAt)}function kp(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d4(t,e,n,r,i,s,o,l){return new $d(t,e,n,r,i,s,o,l)}function _g(t){return new $d(t)}function f_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function h4(t){return t.collectionGroup!==null}function Ya(t){const e=ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new nt(At.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Zu(s,r))}),n.has(At.keyField().canonicalString())||e.Ie.push(new Zu(At.keyField(),r))}return e.Ie}function Zn(t){const e=ye(t);return e.Ee||(e.Ee=f4(e,Ya(t))),e.Ee}function f4(t,e){if(t.limitType==="F")return h_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Zu(i.field,s)});const n=t.endAt?new Ju(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ju(t.startAt.position,t.startAt.inclusive):null;return h_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Np(t,e,n){return new $d(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bd(t,e){return vg(Zn(t),Zn(e))&&t.limitType===e.limitType}function cS(t){return`${yg(Zn(t))}|lt:${t.limitType}`}function Fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aS(i)).join(", ")}]`),Ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vo(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function Hd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ya(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=u_(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Ya(r),i)||r.endAt&&!function(o,l,c){const u=u_(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Ya(r),i))}(t,e)}function p4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uS(t){return(e,n)=>{let r=!1;for(const i of Ya(t)){const s=m4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function m4(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Mo(c,u):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new Be(J.comparator);function Vi(){return g4}const dS=new Be(J.comparator);function Da(...t){let e=dS;for(const n of t)e=e.insert(n.key,n);return e}function y4(t){let e=dS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return Xa()}function hS(){return Xa()}function Xa(){return new ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const v4=new nt(J.comparator);function ve(...t){let e=v4;for(const n of t)e=e.add(n);return e}const _4=new nt(pe);function w4(){return _4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cp(e)?"-0":e}}function T4(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this._=void 0}}function x4(t,e,n){return t instanceof Op?function(i,s){const o={fields:{[Zx]:{stringValue:Jx},[tS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mg(s)&&(s=zd(s)),s&&(o.fields[eS]=s),{mapValue:o}}(n,e):t instanceof ed?fS(t,e):t instanceof td?pS(t,e):function(i,s){const o=I4(i,s),l=p_(o)+p_(i.Ae);return Pp(o)&&Pp(i.Ae)?T4(l):E4(i.serializer,l)}(t,e)}function S4(t,e,n){return t instanceof ed?fS(t,e):t instanceof td?pS(t,e):n}function I4(t,e){return t instanceof Dp?function(r){return Pp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Op extends Wd{}class ed extends Wd{constructor(e){super(),this.elements=e}}function fS(t,e){const n=mS(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class td extends Wd{constructor(e){super(),this.elements=e}}function pS(t,e){let n=mS(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class Dp extends Wd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function p_(t){return ze(t.integerValue||t.doubleValue)}function mS(t){return gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function C4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ed&&i instanceof ed||r instanceof td&&i instanceof td?Lo(r.elements,i.elements,tr):r instanceof Dp&&i instanceof Dp?tr(r.Ae,i.Ae):r instanceof Op&&i instanceof Op}(t.transform,e.transform)}class gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wg{}function gS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new A4(t.key,gs.none()):new Eg(t.key,t.data,gs.none());{const n=t.data,r=Wn.empty();let i=new nt(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qd(t.key,r,new ui(i.toArray()),gs.none())}}function b4(t,e,n){t instanceof Eg?function(i,s,o){const l=i.value.clone(),c=g_(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof qd?function(i,s,o){if(!lu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=g_(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(yS(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ja(t,e,n,r){return t instanceof Eg?function(s,o,l,c){if(!lu(s.precondition,o))return l;const u=s.value.clone(),d=y_(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qd?function(s,o,l,c){if(!lu(s.precondition,o))return l;const u=y_(s.fieldTransforms,c,o),d=o.data;return d.setAll(yS(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return lu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function m_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lo(r,i,(s,o)=>C4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eg extends wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qd extends wg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function g_(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,S4(o,l,n[i]))}return r}function y_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,x4(s,o,e))}return r}class A4 extends wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&b4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ja(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=gS(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>m_(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>m_(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,ge;function vS(t){if(t===void 0)return Ar("GRPC error has no .code"),W.UNKNOWN;switch(t){case We.OK:return W.OK;case We.CANCELLED:return W.CANCELLED;case We.UNKNOWN:return W.UNKNOWN;case We.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case We.INTERNAL:return W.INTERNAL;case We.UNAVAILABLE:return W.UNAVAILABLE;case We.UNAUTHENTICATED:return W.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case We.NOT_FOUND:return W.NOT_FOUND;case We.ALREADY_EXISTS:return W.ALREADY_EXISTS;case We.PERMISSION_DENIED:return W.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case We.ABORTED:return W.ABORTED;case We.OUT_OF_RANGE:return W.OUT_OF_RANGE;case We.UNIMPLEMENTED:return W.UNIMPLEMENTED;case We.DATA_LOSS:return W.DATA_LOSS;default:return ae(39323,{code:t})}}(ge=We||(We={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Si([4294967295,4294967295],0);function v_(t){const e=N4().encode(t),n=new $x;return n.update(e),new Uint8Array(n.digest())}function __(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Si([n,r],0),new Si([i,s],0)]}class Tg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new La(`Invalid padding: ${n}`);if(r<0)throw new La(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new La(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new La(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Si.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Si.fromNumber(r)));return i.compare(O4)===1&&(i=new Si([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=v_(e),[r,i]=__(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Tg(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=v_(e),[r,i]=__(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kd(se.min(),i,new Be(pe),Vi(),ve())}}class Gl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gl(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class _S{constructor(e,n){this.targetId=e,this.Ce=n}}class wS{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class w_{constructor(){this.ve=0,this.Fe=E_(),this.Me=ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ve(),n=ve(),r=ve();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae(38017,{changeType:s})}}),new Gl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=E_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class D4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vi(),this.Je=Fc(),this.He=Fc(),this.Ye=new Be(pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(kp(s))if(r===0){const o=new J(s.path);this.et(n,o,Et.newNoDocument(o,se.min()))}else Me(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Li(r).toUint8Array()}catch(c){if(c instanceof Xx)return Do("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Tg(o,i,s)}catch(c){return Do(c instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&kp(l.target)){const c=new J(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Et.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ve();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Kd(e,n,this.Ye,this.je,r);return this.je=Vi(),this.Je=Fc(),this.He=Fc(),this.Ye=new Be(pe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new w_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nt(pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nt(pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new Be(J.comparator)}function E_(){return new Be(J.comparator)}const L4={asc:"ASCENDING",desc:"DESCENDING"},M4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V4={and:"AND",or:"OR"};class j4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lp(t,e){return t.useProto3Json||Ud(e)?e:{value:e}}function F4(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fo(t){return Me(!!t,49232),se.fromTimestamp(function(n){const r=Di(n);return new qe(r.seconds,r.nanos)}(t))}function z4(t,e){return Mp(t,e).canonicalString()}function Mp(t,e){const n=function(i){return new De(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ES(t){const e=De.fromString(t);return Me(CS(e),10190,{key:e.toString()}),e}function rf(t,e){const n=ES(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(xS(n))}function TS(t,e){return z4(t.databaseId,e)}function $4(t){const e=ES(t);return e.length===4?De.emptyPath():xS(e)}function T_(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xS(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function B4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Me(d===void 0||typeof d=="string",58123),ft.fromBase64String(d||"")):(Me(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?W.UNKNOWN:vS(u.code);return new Y(d,u.message||"")}(o);n=new wS(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rf(t,r.document.name),s=fo(r.document.updateTime),o=r.document.createTime?fo(r.document.createTime):se.min(),l=new Wn({mapValue:{fields:r.document.fields}}),c=Et.newFoundDocument(i,s,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new cu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rf(t,r.document),s=r.readTime?fo(r.readTime):se.min(),o=Et.newNoDocument(i,s),l=r.removedTargetIds||[];n=new cu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rf(t,r.document),s=r.removedTargetIds||[];n=new cu([],s,i,null)}else{if(!("filter"in e))return ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new k4(i,s),l=r.targetId;n=new _S(l,o)}}return n}function H4(t,e){return{documents:[TS(t,e.path)]}}function W4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TS(t,i);const s=function(u){if(u.length!==0)return IS(nr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Us(m.field),direction:G4(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Lp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function q4(t){let e=$4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=SS(f);return m instanceof nr&&sS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(C){return new Zu(zs(C.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Ud(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new Ju(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new Ju(p,m)}(n.endAt)),d4(e,i,o,s,l,"F",c,u)}function K4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zs(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zs(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zs(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(zs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>SS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function G4(t){return L4[t]}function Q4(t){return M4[t]}function Y4(t){return V4[t]}function Us(t){return{fieldPath:t.canonicalString()}}function zs(t){return At.fromServerFormat(t.fieldPath)}function IS(t){return t instanceof Ze?function(n){if(n.op==="=="){if(c_(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(l_(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c_(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(l_(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:Q4(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>IS(i));return r.length===1?r[0]:{compositeFilter:{op:Y4(n.op),filters:r}}}(t):ae(54877,{filter:t})}function CS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r,i,s=se.min(),o=se.min(),l=ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.yt=e}}function J4(t){const e=q4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.Cn=new eV}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Oi.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class eV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(De.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bS=41943040;class Vt{static withCacheSize(e){return new Vt(e,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt.DEFAULT_COLLECTION_PERCENTILE=10,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vt.DEFAULT=new Vt(bS,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vt.DISABLED=new Vt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="LruGarbageCollector",tV=1048576;function I_([t,e],[n,r]){const i=pe(t,n);return i===0?pe(e,r):i}class nV{constructor(e){this.Ir=e,this.buffer=new nt(I_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){G(S_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?G(S_,"Ignoring IndexedDB error during garbage collection: ",n):await jd(n)}await this.Vr(3e5)})}}class iV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Fd.ce);const r=new nV(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(x_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),js()<=fe.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function sV(t,e){return new iV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.changes=new ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ja(r.mutation,i,ui.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Da();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Vi();const o=Xa(),l=function(){return Xa()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof qd)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ja(d.mutation,u,d.mutation.getFieldMask(),qe.now())):o.set(u.key,ui.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>l.set(u,new aV(d,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Xa();let i=new Be((o,l)=>o-l),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||ui.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(i.get(l.batchId)||ve()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=hS();d.forEach(m=>{if(!s.has(m)){const p=gS(n.get(m),r.get(m));p!==null&&f.set(m,p),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):h4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(ss());let l=Cl,c=s;return o.next(u=>U.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ve())).next(d=>({batchId:l,changes:y4(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Da();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Da();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,c=>{const u=function(f,m){return new $d(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Et.newInvalidDocument(d)))});let l=Da();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&Ja(d.mutation,u,ui.empty(),qe.now()),Hd(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fo(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:J4(i.bundledQuery),readTime:fo(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.overlays=new Be(J.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ss();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ss(),s=n.length+1,o=new J(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ss(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=ss(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return U.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new R4(n,r));let s=this.qr.get(n);s===void 0&&(s=ve(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.Qr=new nt(ot.$r),this.Ur=new nt(ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ot(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new J(new De([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new J(new De([])),r=new ot(n,e),i=new ot(n,e+1);let s=ve();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ot(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return J.comparator(e.key,n.key)||pe(e.Yr,n.Yr)}static Kr(e,n){return pe(e.Yr,n.Yr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nt(ot.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new P4(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new ot(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?WM:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(pe);return n.forEach(i=>{const s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{r=r.add(l.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new ot(new J(s),0);let l=new nt(pe);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Yr)),!0)},o),U.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,i=>{const s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ot(n,0),i=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.ri=e,this.docs=function(){return new Be(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=Vi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Et.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vi();const o=n.path,l=new J(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||zM(UM(d),r)<=0||(i.has(d.key)||Hd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pV(this)}getSize(e){return U.resolve(this.size)}}class pV extends oV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.persistence=e,this.si=new ks(n=>yg(n),vg),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new xg,this.targetCount=0,this.ai=jo.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Fd(0),this.li=!1,this.li=!0,this.hi=new dV,this.referenceDelegate=e(this),this.Pi=new mV(this),this.indexManager=new Z4,this.remoteDocumentCache=function(i){return new fV(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new X4(n),this.Ii=new cV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new hV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new gV(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class gV extends BM{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.Ri=new xg,this.Vi=null}static mi(e){return new Sg(e)}get fi(){if(this.Vi)return this.Vi;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const i=J.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nd{constructor(e,n){this.persistence=e,this.pi=new ks(r=>qM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=sV(this,n)}static mi(e,n){return new nd(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=au(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ig(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return K2()?8:HM(xt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new yV;return this.Ss(e,n,o).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(js()<=fe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(js()<=fe.DEBUG&&G("QueryEngine","Query:",Fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(js()<=fe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):U.resolve())}ys(e,n){if(f_(n))return U.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Np(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,o,c.readTime)?this.ys(e,Np(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return f_(n)||i.isEqual(se.min())?U.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?U.resolve(null):(js()<=fe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(n)),this.vs(e,o,n,FM(i,Cl)).next(l=>l))})}Ds(e,n){let r=new nt(uS(e));return n.forEach((i,s)=>{Hd(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return js()<=fe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.ps.getDocumentsMatchingQuery(e,n,Oi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",_V=3e8;class wV{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Be(pe),this.xs=new ks(s=>yg(s),vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function EV(t,e,n,r){return new wV(t,e,n,r)}async function PS(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=ve();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function RS(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function TV(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;l.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,f)));let p=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(ft.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(f,p),function(T,w,v){return T.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=_V?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,d)&&l.push(n.Pi.updateTargetData(s,p))});let c=Vi(),u=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(xV(s,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(se.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return U.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function xV(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vi();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):G(Cg,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function SV(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Vp(t,e,n){const r=ye(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ea(o))throw o;G(Cg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function C_(t,e,n){const r=ye(t);let i=se.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=ye(c),m=f.xs.get(d);return m!==void 0?U.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,d)}(r,o,Zn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:ve())).next(l=>(IV(r,p4(e),l),{documents:l,Qs:s})))}function IV(t,e,n){let r=t.Os.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class b_{constructor(){this.activeTargetIds=w4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CV{constructor(){this.Mo=new b_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new b_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="ConnectivityMonitor";class P_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){G(A_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){G(A_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function jp(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="RestConnection",AV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Xu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=jp(),l=this.zo(e,n.toUriEncodedString());G(sf,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(l),d=Qo(u);return this.Jo(e,l,c,r,d).then(f=>(G(sf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Do(sf,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=AV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class kV extends PV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=jp();return new Promise((l,c)=>{const u=new Bx;u.setWithCredentials(!0),u.listenOnce(Hx.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ou.NO_ERROR:const f=u.getResponseJson();G(yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case ou.TIMEOUT:G(yt,`RPC '${e}' ${o} timed out`),c(new Y(W.DEADLINE_EXCEEDED,"Request time out"));break;case ou.HTTP_ERROR:const m=u.getStatus();if(G(yt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const C=p==null?void 0:p.error;if(C&&C.status&&C.message){const T=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(_)>=0?_:W.UNKNOWN}(C.status);c(new Y(T,C.message))}else c(new Y(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Y(W.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{G(yt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);G(yt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=jp(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Kx(),l=qx(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");G(yt,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);this.I_(f);let m=!1,p=!1;const C=new RV({Yo:w=>{p?G(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(m||(G(yt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),G(yt,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Zo:()=>f.close()}),T=(w,v,_)=>{w.listen(v,E=>{try{_(E)}catch(N){setTimeout(()=>{throw N},0)}})};return T(f,Oa.EventType.OPEN,()=>{p||(G(yt,`RPC '${e}' stream ${i} transport opened.`),C.o_())}),T(f,Oa.EventType.CLOSE,()=>{p||(p=!0,G(yt,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(f))}),T(f,Oa.EventType.ERROR,w=>{p||(p=!0,Do(yt,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),C.a_(new Y(W.UNAVAILABLE,"The operation could not be completed")))}),T(f,Oa.EventType.MESSAGE,w=>{var v;if(!p){const _=w.data[0];Me(!!_,16349);const E=_,N=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(N){G(yt,`RPC '${e}' stream ${i} received error:`,N);const D=N.status;let M=function(b){const A=We[b];if(A!==void 0)return vS(A)}(D),S=N.message;M===void 0&&(M=W.INTERNAL,S="Unknown error status: "+D+" with message "+N.message),p=!0,C.a_(new Y(M,S)),f.close()}else G(yt,`RPC '${e}' stream ${i} received:`,_),C.u_(_)}}),T(l,Wx.STAT_EVENT,w=>{w.stat===xp.PROXY?G(yt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===xp.NOPROXY&&G(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){return new j4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="PersistentStream";class NV{constructor(e,n,r,i,s,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Y(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return G(R_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(G(R_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OV extends NV{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B4(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?fo(o.readTime):se.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=T_(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=kp(c)?{documents:H4(s,c)}:{query:W4(s,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=U4(s,o.resumeToken);const u=Lp(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){l.readTime=F4(s,o.snapshotVersion.toTimestamp());const u=Lp(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=K4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=T_(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{}class LV extends DV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Mp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(W.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Mp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(W.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class MV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(n),this.aa=!1):G("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="RemoteStore";class VV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Yl(this)&&(G(Fo,"Restarting streams for network reachability change."),await async function(c){const u=ye(c);u.Ea.add(4),await Ql(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Gd(u)}(this))})}),this.Ra=new MV(r,i)}}async function Gd(t){if(Yl(t))for(const e of t.da)await e(!0)}async function Ql(t){for(const e of t.da)await e(!1)}function OS(t,e){const n=ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rg(n)?Pg(n):ta(n).O_()&&Ag(n,e))}function bg(t,e){const n=ye(t),r=ta(n);n.Ia.delete(e),r.O_()&&DS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Yl(n)&&n.Ra.set("Unknown"))}function Ag(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).Y_(e)}function DS(t,e){t.Va.Ue(e),ta(t).Z_(e)}function Pg(t){t.Va=new D4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.Ra.ua()}function Rg(t){return Yl(t)&&!ta(t).x_()&&t.Ia.size>0}function Yl(t){return ye(t).Ea.size===0}function LS(t){t.Va=void 0}async function jV(t){t.Ra.set("Online")}async function FV(t){t.Ia.forEach((e,n)=>{Ag(t,e)})}async function UV(t,e){LS(t),Rg(t)?(t.Ra.ha(e),Pg(t)):t.Ra.set("Unknown")}async function zV(t,e,n){if(t.Ra.set("Online"),e instanceof wS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){G(Fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await k_(t,r)}else if(e instanceof cu?t.Va.Ze(e):e instanceof _S?t.Va.st(e):t.Va.tt(e),!n.isEqual(se.min()))try{const r=await RS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(ft.EMPTY_BYTE_STRING,d.snapshotVersion)),DS(s,c);const f=new di(d.target,c,u,d.sequenceNumber);Ag(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G(Fo,"Failed to raise snapshot:",r),await k_(t,r)}}async function k_(t,e,n){if(!ea(e))throw e;t.Ea.add(1),await Ql(t),t.Ra.set("Offline"),n||(n=()=>RS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(Fo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gd(t)})}async function N_(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),G(Fo,"RemoteStore received new credentials");const r=Yl(n);n.Ea.add(3),await Ql(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gd(n)}async function $V(t,e){const n=ye(t);e?(n.Ea.delete(2),await Gd(n)):e||(n.Ea.add(2),await Ql(n),n.Ra.set("Unknown"))}function ta(t){return t.ma||(t.ma=function(n,r,i){const s=ye(n);return s.sa(),new OV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:jV.bind(null,t),t_:FV.bind(null,t),r_:UV.bind(null,t),H_:zV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Rg(t)?Pg(t):t.Ra.set("Unknown")):(await t.ma.stop(),LS(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new kg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MS(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),ea(t))return new Y(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Da(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.ga=new Be(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Uo{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Uo(e,n,po.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class HV{constructor(){this.queries=D_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ye(n),s=i.queries;i.queries=D_(),s.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Y(W.ABORTED,"Firestore shutting down"))}}function D_(){return new ks(t=>cS(t),Bd)}async function WV(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new BV,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=MS(o,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Ng(n)}async function qV(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KV(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&Ng(n)}function GV(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Ng(t){t.Ca.forEach(e=>{e.next()})}var Fp,L_;(L_=Fp||(Fp={})).Ma="default",L_.Cache="cache";class QV{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.key=e}}class jS{constructor(e){this.key=e}}class YV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ve(),this.mutatedKeys=ve(),this.eu=uS(e),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new O_,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),p=Hd(this.query,f)?f:null,C=!!m&&this.mutatedKeys.has(m.key),T=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;m&&p?m.data.isEqual(p.data)?C!==T&&(r.track({type:3,doc:p}),w=!0):this.su(m,p)||(r.track({type:2,doc:p}),w=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(l=!0)):!m&&p?(r.track({type:0,doc:p}),w=!0):m&&!p&&(r.track({type:1,doc:m}),w=!0,(c||u)&&(l=!0)),w&&(p?(o=o.add(p),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(p,C){const T=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Rt:w})}};return T(p)-T(C)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new Uo(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new O_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new jS(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new VS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Og="SyncEngine";class XV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JV{constructor(e){this.key=e,this.hu=!1}}class ZV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ks(l=>cS(l),Bd),this.Iu=new Map,this.Eu=new Set,this.du=new Be(J.comparator),this.Au=new Map,this.Ru=new xg,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ej(t,e,n=!0){const r=BS(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await FS(r,e,n,!0),i}async function tj(t,e){const n=BS(t);await FS(n,e,!0,!1)}async function FS(t,e,n,r){const i=await SV(t.localStore,Zn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await nj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&OS(t.remoteStore,i),l}async function nj(t,e,n,r,i){t.pu=(f,m,p)=>async function(T,w,v,_){let E=w.view.ru(v);E.Cs&&(E=await C_(T.localStore,w.query,!1).then(({documents:S})=>w.view.ru(S,E)));const N=_&&_.targetChanges.get(w.targetId),D=_&&_.targetMismatches.get(w.targetId)!=null,M=w.view.applyChanges(E,T.isPrimaryClient,N,D);return V_(T,w.targetId,M.au),M.snapshot}(t,f,m,p);const s=await C_(t.localStore,e,!0),o=new YV(e,s.Qs),l=o.ru(s.documents),c=Gl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);V_(t,n,u.au);const d=new XV(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function rj(t,e,n){const r=ye(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Bd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bg(r.remoteStore,i.targetId),Up(r,i.targetId)}).catch(jd)):(Up(r,i.targetId),await Vp(r.localStore,i.targetId,!0))}async function ij(t,e){const n=ye(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bg(n.remoteStore,r.targetId))}async function US(t,e){const n=ye(t);try{const r=await TV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Me(o.hu,14607):i.removedDocuments.size>0&&(Me(o.hu,42227),o.hu=!1))}),await $S(n,r,e)}catch(r){await jd(r)}}function M_(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=ye(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(l)&&(u=!0)}),u&&Ng(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sj(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Be(J.comparator);o=o.insert(s,Et.newNoDocument(s,se.min()));const l=ve().add(s),c=new Kd(se.min(),new Map,new Be(pe),o,l);await US(r,c),r.du=r.du.remove(s),r.Au.delete(e),Dg(r)}else await Vp(r.localStore,e,!1).then(()=>Up(r,e,n)).catch(jd)}function Up(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||zS(t,r)})}function zS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(bg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Dg(t))}function V_(t,e,n){for(const r of n)r instanceof VS?(t.Ru.addReference(r.key,e),oj(t,r)):r instanceof jS?(G(Og,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||zS(t,r.key)):ae(19791,{wu:r})}function oj(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(G(Og,"New document in limbo: "+n),t.Eu.add(r),Dg(t))}function Dg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(De.fromString(e)),r=t.fu.next();t.Au.set(r,new JV(n)),t.du=t.du.insert(n,r),OS(t.remoteStore,new di(Zn(_g(n.path)),r,"TargetPurposeLimboResolution",Fd.ce))}}async function $S(t,e,n){const r=ye(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Ig.As(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,u){const d=ye(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(u,m=>U.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>U.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!ea(f))throw f;G(Cg,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=d.Ms.get(m),C=p.snapshotVersion,T=p.withLastLimboFreeSnapshotVersion(C);d.Ms=d.Ms.insert(m,T)}}}(r.localStore,s))}async function aj(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){G(Og,"User change. New user:",e.toKey());const r=await PS(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(l=>{l.forEach(c=>{c.reject(new Y(W.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $S(n,r.Ls)}}function lj(t,e){const n=ye(t),r=n.Au.get(e);if(r&&r.hu)return ve().add(r.key);{let i=ve();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function BS(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=US.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sj.bind(null,e),e.Pu.H_=KV.bind(null,e.eventManager),e.Pu.yu=GV.bind(null,e.eventManager),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kS(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EV(this.persistence,new vV,e.initialUser,this.serializer)}Cu(e){return new AS(Sg.mi,this.serializer)}Du(e){return new CV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class cj extends rd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Me(this.persistence.referenceDelegate instanceof nd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vt.withCacheSize(this.cacheSizeBytes):Vt.DEFAULT;return new AS(r=>nd.mi(r,n),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aj.bind(null,this.syncEngine),await $V(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HV}()}createDatastore(e){const n=kS(e.databaseInfo.databaseId),r=function(s){return new kV(s)}(e.databaseInfo);return function(s,o,l,c){return new LV(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new VV(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>M_(this.syncEngine,n,0),function(){return P_.v()?new P_:new bV}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,d){const f=new ZV(i,s,o,l,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ye(i);G(Fo,"RemoteStore shutting down."),s.Ea.add(5),await Ql(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class dj{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=pg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G(ji,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(ji,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=MS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function af(t,e){t.asyncQueue.verifyOperationInProgress(),G(ji,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await PS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hj(t);G(ji,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N_(e.remoteStore,i)),t._onlineComponents=e}async function hj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(ji,"Using user provided OfflineComponentProvider");try{await af(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await af(t,new rd)}}else G(ji,"Using default OfflineComponentProvider"),await af(t,new cj(void 0));return t._offlineComponents}async function fj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(ji,"Using user provided OnlineComponentProvider"),await j_(t,t._uninitializedComponentsProvider._online)):(G(ji,"Using default OnlineComponentProvider"),await j_(t,new zp))),t._onlineComponents}async function pj(t){const e=await fj(t),n=e.eventManager;return n.onListen=ej.bind(null,e.syncEngine),n.onUnlisten=rj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ij.bind(null,e.syncEngine),n}function mj(t,e,n={}){const r=new ms;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,c,u){const d=new uj({next:m=>{d.Nu(),o.enqueueAndForget(()=>qV(s,f));const p=m.docs.has(l);!p&&m.fromCache?u.reject(new Y(W.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?u.reject(new Y(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new QV(_g(l.path),d,{includeMetadataChanges:!0,qa:!0});return WV(s,f)}(await pj(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="firestore.googleapis.com",U_=!0;class z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WS,this.ssl=U_}else this.host=e.host,this.ssl=e.ssl??U_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tV)throw new Y(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IM;switch(r.type){case"firstParty":return new PM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=F_.get(n);r&&(G("ComponentProvider","Removing Datastore"),F_.delete(n),r.terminate())}(this),Promise.resolve()}}function gj(t,e,n,r={}){var u;t=Ip(t,Lg);const i=Qo(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(tx(`https://${l}`),nx("Firestore",!0)),s.host!==WS&&s.host!==l&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!Ss(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=_t.MOCK_USER;else{d=j2(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Y(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new _t(m)}t._authCredentials=new CM(new Qx(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mg(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ql(n,Pt._jsonSchema))return new Pt(e,r||null,new J(De.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Ge("string",Pt._jsonSchemaVersion),referencePath:Ge("string")};class Rl extends Mg{constructor(e,n,r){super(e,n,_g(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new J(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function yj(t,e,...n){if(t=sr(t),arguments.length===1&&(e=pg.newId()),LM("doc","path",e),t instanceof Lg){const r=De.fromString(e,...n);return e_(r),new Pt(t,null,new J(r))}{if(!(t instanceof Pt||t instanceof Rl))throw new Y(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return e_(r),new Pt(t.firestore,t instanceof Rl?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NS(this,"async_queue_retry"),this._c=()=>{const r=of();r&&G($_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ms;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ea(e))throw e;G($_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",H_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=kg.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ae(47125,{Pc:H_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function H_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class qS extends Lg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new B_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function vj(t,e){const n=typeof t=="object"?t:ox(),r=typeof t=="string"?t:Xu,i=ig(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=M2("firestore");s&&gj(i,...s)}return i}function _j(t){if(t._terminated)throw new Y(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wj(t),t._firestoreClient}function wj(t){var r,i,s;const e=t._freezeSettings(),n=function(l,c,u,d){return new YM(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,HS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(ft.fromBase64String(e))}catch(n){throw new Y(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ql(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Ge("string",qn._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(ql(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ge("string",Ii._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ql(e,Ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ci(e.vectorValues);throw new Y(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ge("string",Ci._jsonSchemaVersion),vectorValues:Ge("object")};const Ej=new RegExp("[~\\*/\\[\\]]");function Tj(t,e,n){if(e.search(Ej)>=0)throw W_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new KS(...e.split("."))._internalPath}catch{throw W_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function W_(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let o="";return new Y(W.INVALID_ARGUMENT,s+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xj extends GS{data(){return super.data()}}function QS(t,e){return typeof e=="string"?Tj(t,e):e instanceof KS?e._internalPath:e._delegate._internalPath}class Sj{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Kl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[bp].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>ze(o.doubleValue));return new Ci(n)}convertGeoPoint(e){return new Ii(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=Di(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);Me(CS(r),9688,{name:e});const i=new Al(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||Ar(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ma{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ys extends GS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(QS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",ys._jsonSchema={type:Ge("string",ys._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class uu extends ys{data(e={}){return super.data(e)}}class Za{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uu(this._firestore,this._userDataWriter,r.key,r,new Ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new uu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ma(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new uu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ma(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:Ij(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ij(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t){t=Ip(t,Pt);const e=Ip(t.firestore,qS);return mj(_j(e),t._key).then(n=>Aj(e,t,n))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Ge("string",Za._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class bj extends Sj{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function Aj(t,e,n){const r=n.docs.get(e._key),i=new bj(t);return new ys(t,i,e._key,r,new Ma(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Zo=i})(Yo),No(new Is("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new qS(new bM(r.getProvider("auth-internal")),new RM(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(u.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ti(Y0,X0,e),Ti(Y0,X0,"esm2020")})();var Pj="firebase",Rj="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(Pj,Rj,"app");const kj={apiKey:"AIzaSyCH1ZmvofzO5xeeoEuTGWoOsd3Xn9w1PJY",authDomain:"suros-logic.firebaseapp.com",projectId:"suros-logic",storageBucket:"suros-logic.firebasestorage.app",messagingSenderId:"57271164226",appId:"1:57271164226:web:6100a0784c23d98f61fcdb",measurementId:"G-X7X3X2CYQ4"},YS=sx(kj),lf=xM(YS),Nj=vj(YS),XS=P.createContext(void 0),JS=({children:t})=>{const[e,n]=P.useState(null),[r,i]=P.useState(null),[s,o]=P.useState(!0);P.useEffect(()=>dL(lf,async d=>{if(n(d),d){const f=yj(Nj,"users",d.uid),m=await Cj(f);m.exists()?i(m.data()):i(null)}else i(null);o(!1)}),[]);const l=async(u,d)=>{await lL(lf,u,d)},c=async()=>{await hL(lf)};return y.jsx(XS.Provider,{value:{user:e,profile:r,loading:s,login:l,logout:c},children:t})},Oj=()=>{const t=P.useContext(XS);if(!t)throw new Error("useAuth must be used inside AuthProvider");return t};function Dj(){const{login:t}=Oj(),e=qT(),[n,r]=P.useState(""),[i,s]=P.useState(""),[o,l]=P.useState(!1),[c,u]=P.useState(""),d=async()=>{if(u(""),!n||!i){u("Please enter both email and password.");return}try{l(!0),await t(n,i),e("/form/bid_form")}catch{u("Invalid email or password.")}finally{l(!1)}};return y.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(105deg, #0064C2 0%, #DEE2FF 100%)",display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",fontFamily:"Montserrat"},children:y.jsxs("div",{style:{width:"100%",maxWidth:"420px",background:"#fff",borderRadius:"16px",padding:"32px",boxShadow:"0 8px 28px rgba(0,0,0,0.15)"},children:[y.jsx("h2",{style:{fontSize:"28px",fontWeight:700,textAlign:"center",marginBottom:"20px",color:"#1e1e1e"},children:"Welcome Back"}),y.jsx("p",{style:{textAlign:"center",marginBottom:"28px",color:"#4A4A4A"},children:"Login to access your Suros Logic account."}),c&&y.jsx("p",{style:{color:"red",textAlign:"center",marginBottom:"10px"},children:c}),y.jsx("label",{style:{color:"#000",fontWeight:600},children:"Email"}),y.jsx("input",{type:"email",value:n,placeholder:"you@example.com",onChange:f=>r(f.target.value),style:{width:"100%",padding:"12px",marginBottom:"16px",borderRadius:"8px",border:"1px solid #C8D1E0",fontSize:"14px",color:"#000",backgroundColor:"#fff"}}),y.jsx("label",{style:{color:"#000",fontWeight:600},children:"Password"}),y.jsx("input",{type:"password",value:i,placeholder:"Enter your password",onChange:f=>s(f.target.value),style:{width:"100%",padding:"12px",marginBottom:"20px",borderRadius:"8px",border:"1px solid #C8D1E0",fontSize:"14px",color:"#000",backgroundColor:"#fff"}}),y.jsx("button",{onClick:d,disabled:o,style:{width:"100%",padding:"14px",borderRadius:"10px",backgroundColor:"#0064C2",color:"white",border:"none",fontSize:"16px",fontWeight:600,cursor:"pointer",transition:"0.2s",opacity:o?.7:1},children:o?"Signing in...":"Login"})]})})}const Lj=new _N,Mj=()=>y.jsx(EN,{client:Lj,children:y.jsxs(Qk,{children:[y.jsx(NP,{}),y.jsx(uR,{}),y.jsx(JS,{children:y.jsx(m2,{children:y.jsxs(h2,{children:[y.jsx(Zi,{path:"/",element:y.jsx(E2,{})}),y.jsx(Zi,{path:"/form/bid_form",element:y.jsx(S2,{})}),y.jsx(Zi,{path:"/form/test",element:y.jsx(C2,{})}),y.jsx(Zi,{path:"/auth",element:y.jsx(b2,{})}),y.jsx(Zi,{path:"/auth/login",element:y.jsx(Dj,{})}),y.jsx(Zi,{path:"*",element:y.jsx(T2,{})})]})})})]})});m1(document.getElementById("root")).render(y.jsx(JS,{children:y.jsx(Mj,{})}));
